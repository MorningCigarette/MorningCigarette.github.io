[{"content":"And we count these moments. These moments when we dare to aim higher, to break barriers, to reach for the stars, to make the unknown known. We count these moments as our proudest achievements.\n","date":"2022-03-06T00:00:00Z","image":"https://MorningCigarette.github.io/p/hello-world/cover_hu_e95a4276bf860a84.jpg","permalink":"https://MorningCigarette.github.io/p/hello-world/","title":"Hello World"},{"content":"é—®é¢˜æè¿° æˆ‘ä»¬å…¬å¸çš„é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº.NETçš„Webåº”ç”¨ï¼Œå®ƒéœ€è¦å’Œä¸€äº›ç¬¬ä¸‰æ–¹çš„APIäº¤äº’æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿åœ°å¤„ç†JSONæ ¼å¼çš„æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Newtonsoft.Jsonè¿™ä¸ªæ¡†æ¶ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°å°†.NETå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œæˆ–è€…å°†JSONå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º.NETå¯¹è±¡ã€‚\nåœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€äº›å®ä½“ç±»æ¥è¡¨ç¤ºæˆ‘ä»¬éœ€è¦å¤„ç†çš„æ•°æ®ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªç±»å«åšProductï¼Œå®ƒæœ‰ä¸‰ä¸ªå±æ€§ï¼šPropertyï¼ŒMemberVariableå’ŒArrayã€‚Propertyæ˜¯ä¸€ä¸ªåˆ—è¡¨ç±»å‹çš„å±æ€§ï¼Œå®ƒæœ‰ä¸€ä¸ªgetå’Œsetæ–¹æ³•ã€‚MemberVariableæ˜¯ä¸€ä¸ªåˆ—è¡¨ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œå®ƒæ²¡æœ‰getå’Œsetæ–¹æ³•ã€‚Arrayæ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹çš„æˆå‘˜å˜é‡ï¼Œå®ƒä¹Ÿæ²¡æœ‰getå’Œsetæ–¹æ³•ã€‚åœ¨Productçš„æ„é€ å‡½æ•°ä¸­ï¼Œè¿™ä¸‰ä¸ªå±æ€§éƒ½è¢«åˆå§‹åŒ–ä¸ºä¸€äº›æ•´æ•°å€¼ã€‚ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 public class Product { public List\u0026lt;int\u0026gt; Property { get; set; } public List\u0026lt;int\u0026gt; MemberVariable; public int[] Array; public Product() { Property = new List\u0026lt;int\u0026gt;() { 1, 2, 3 }; MemberVariable = new List\u0026lt;int\u0026gt;() { 4, 5, 6 }; Array = new int[] { 7, 8, 9 }; } } åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†Productå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œå¹¶å‘é€ç»™ç¬¬ä¸‰æ–¹çš„APIã€‚ç„¶åï¼Œæˆ‘ä»¬éœ€è¦ä»ç¬¬ä¸‰æ–¹çš„APIæ¥æ”¶JSONå­—ç¬¦ä¸²ï¼Œå¹¶ååºåˆ—åŒ–ä¸ºProductå¯¹è±¡ã€‚æˆ‘ä»¬ä½¿ç”¨äº†Newtonsoft.Jsonçš„SerializeObjectå’ŒDeserializeObjectæ–¹æ³•æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 Product product = new Product(); string json = JsonConvert.SerializeObject(product); // å‘é€jsonç»™ç¬¬ä¸‰æ–¹API // æ¥æ”¶jsonä»ç¬¬ä¸‰æ–¹API Product deserializedProduct = JsonConvert.DeserializeObject\u0026lt;Product\u0026gt;(json); æŒ‰ç…§æˆ‘ä»¬çš„é¢„æœŸï¼Œå½“æˆ‘ä»¬åºåˆ—åŒ–Productå¯¹è±¡æ—¶ï¼Œåº”è¯¥å¾—åˆ°å¦‚ä¸‹çš„JSONå­—ç¬¦ä¸²ï¼š\n1 {\u0026#34;Property\u0026#34;:[1,2,3],\u0026#34;MemberVariable\u0026#34;:[4,5,6],\u0026#34;Array\u0026#34;:[7,8,9]} å½“æˆ‘ä»¬ååºåˆ—åŒ–JSONå­—ç¬¦ä¸²æ—¶ï¼Œåº”è¯¥å¾—åˆ°ä¸€ä¸ªå’ŒåŸæ¥ç›¸åŒçš„Productå¯¹è±¡ã€‚\nç„¶è€Œï¼Œåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ã€‚å½“æˆ‘ä»¬ååºåˆ—åŒ–JSONå­—ç¬¦ä¸²æ—¶ï¼Œå¾—åˆ°çš„Productå¯¹è±¡å¹¶ä¸æ˜¯å’ŒåŸæ¥ç›¸åŒçš„ã€‚å®ƒçš„Propertyå’ŒMemberVariableå±æ€§çš„å€¼éƒ½è¢«é‡å¤äº†ï¼Œè€ŒArrayå±æ€§çš„å€¼æ²¡æœ‰å˜åŒ–ã€‚ä¾‹å¦‚ï¼š\n1 {\u0026#34;Property\u0026#34;:[1,2,3,1,2,3],\u0026#34;MemberVariable\u0026#34;:[4,5,6,4,5,6],\u0026#34;Array\u0026#34;:[7,8,9]} è¿™å°±æ˜¯æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆä½¿ç”¨Newtonsoft.Jsonååºåˆ—åŒ–æ—¶ï¼Œåˆ—è¡¨é¡¹ä¼šè¢«é‡å¤å‘¢ï¼Ÿ\né—®é¢˜åˆ†æ ä¸ºäº†æ‰¾å‡ºé—®é¢˜çš„åŸå› ï¼Œæˆ‘ä»¬é¦–å…ˆæŸ¥çœ‹äº†Newtonsoft.Jsonçš„æ–‡æ¡£ï¼Œå¹¶æœç´¢äº†ä¸€äº›ç›¸å…³çš„èµ„æ–™ ã€‚æˆ‘ä»¬å‘ç°äº†ä»¥ä¸‹å‡ ç‚¹ï¼š\nNewtonsoft.Jsonåœ¨ååºåˆ—åŒ–æ—¶ï¼Œä¼šå…ˆè°ƒç”¨å¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œç„¶åå†æ ¹æ®JSONå­—ç¬¦ä¸²ä¸­çš„é”®å€¼å¯¹æ¥è®¾ç½®å¯¹è±¡çš„å±æ€§æˆ–å­—æ®µã€‚ å¦‚æœå¯¹è±¡çš„å±æ€§æˆ–å­—æ®µå·²ç»åœ¨æ„é€ å‡½æ•°ä¸­è¢«åˆå§‹åŒ–äº†ï¼Œé‚£ä¹ˆååºåˆ—åŒ–æ—¶å°±ä¼šæŠŠJSONå­—ç¬¦ä¸²ä¸­çš„å€¼è¿½åŠ åˆ°åŸæ¥çš„å€¼ä¸Šï¼Œè€Œä¸æ˜¯æ›¿æ¢æ‰å®ƒä»¬ã€‚ è¿™ç§è¡Œä¸ºåªä¼šå‘ç”Ÿåœ¨åˆ—è¡¨ç±»å‹çš„å±æ€§æˆ–å­—æ®µä¸Šï¼Œå› ä¸ºåˆ—è¡¨ç±»å‹æœ‰ä¸€ä¸ªAddæ–¹æ³•ï¼Œå¯ä»¥æŠŠæ–°çš„å€¼æ·»åŠ åˆ°åˆ—è¡¨ä¸­ã€‚è€Œæ•°ç»„ç±»å‹æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ååºåˆ—åŒ–æ—¶ä¼šç›´æ¥æ›¿æ¢æ‰åŸæ¥çš„å€¼ã€‚\næ ¹æ®è¿™äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£ä¸ºä»€ä¹ˆæˆ‘ä»¬çš„é—®é¢˜ä¼šå‘ç”Ÿäº†ã€‚å½“æˆ‘ä»¬ååºåˆ—åŒ–JSONå­—ç¬¦ä¸²æ—¶ï¼ŒNewtonsoft.Jsonä¼šå…ˆè°ƒç”¨Productçš„æ„é€ å‡½æ•°ï¼Œè¿™æ—¶Propertyå’ŒMemberVariableå±æ€§å°±è¢«åˆå§‹åŒ–ä¸ºä¸€äº›æ•´æ•°å€¼ã€‚ç„¶åï¼ŒNewtonsoft.Jsonä¼šæ ¹æ®JSONå­—ç¬¦ä¸²ä¸­çš„é”®å€¼å¯¹æ¥è®¾ç½®Propertyå’ŒMemberVariableå±æ€§ï¼Œè¿™æ—¶å®ƒä¼šæŠŠJSONå­—ç¬¦ä¸²ä¸­çš„å€¼æ·»åŠ åˆ°åŸæ¥çš„å€¼ä¸Šï¼Œå¯¼è‡´åˆ—è¡¨é¡¹é‡å¤ã€‚è€ŒArrayå±æ€§æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹ï¼Œååºåˆ—åŒ–æ—¶ä¼šç›´æ¥æ›¿æ¢æ‰åŸæ¥çš„å€¼ã€‚ é—®é¢˜è§£å†³ æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†é—®é¢˜çš„åŸå› ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æƒ³åŠæ³•è§£å†³å®ƒäº†ã€‚åœ¨ç½‘ä¸Šæœç´¢åï¼Œæˆ‘ä»¬å‘ç°äº†å‡ ç§å¯èƒ½çš„æ–¹æ³•ï¼š\nä¸€ç§æ–¹æ³•æ˜¯åœ¨å¯¹è±¡çš„æ„é€ å‡½æ•°ä¸­ä¸è¦åˆå§‹åŒ–å±æ€§æˆ–å­—æ®µï¼Œè€Œæ˜¯åœ¨å±æ€§çš„getæ–¹æ³•ä¸­æ£€æŸ¥æ˜¯å¦ä¸ºç©ºï¼Œå¹¶åœ¨éœ€è¦æ—¶è¿›è¡Œåˆå§‹åŒ–ã€‚è¿™æ ·å°±å¯ä»¥é¿å…åœ¨ååºåˆ—åŒ–æ—¶è°ƒç”¨æ„é€ å‡½æ•°å¯¼è‡´çš„é‡å¤ã€‚ä¾‹å¦‚ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public class Product { private List\u0026lt;int\u0026gt; _property; public List\u0026lt;int\u0026gt; Property { get { if (_property == null) { _property = new List\u0026lt;int\u0026gt;() { 1, 2, 3 }; } return _property; } set { _property = value; } } // çœç•¥å…¶ä»–å±æ€§å’Œæ„é€ å‡½æ•° } å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨[JsonIgnore]ç‰¹æ€§æ¥å¿½ç•¥ä¸éœ€è¦åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–çš„å±æ€§æˆ–å­—æ®µã€‚è¿™æ ·å°±å¯ä»¥é¿å…åœ¨ååºåˆ—åŒ–æ—¶è®¾ç½®å¯¹è±¡çš„å±æ€§æˆ–å­—æ®µå¯¼è‡´çš„é‡å¤ã€‚ä¾‹å¦‚ï¼š 1 2 3 4 5 6 public class Product { [JsonIgnore] public List\u0026lt;int\u0026gt; Property { get; set; } // çœç•¥å…¶ä»–å±æ€§å’Œæ„é€ å‡½æ•° } è¿˜æœ‰ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨[ObjectCreationHandling]è®¾ç½®æ¥æ§åˆ¶ååºåˆ—åŒ–æ—¶å¯¹è±¡çš„åˆ›å»ºæ–¹å¼ã€‚è¿™ä¸ªè®¾ç½®æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼šAutoï¼ŒReuseå’ŒReplaceã€‚Autoæ˜¯é»˜è®¤çš„é€‰é¡¹ï¼Œå®ƒä¼šæ ¹æ®å¯¹è±¡çš„ç±»å‹æ¥å†³å®šæ˜¯é‡ç”¨è¿˜æ˜¯æ›¿æ¢ã€‚Reuseè¡¨ç¤ºä¼šé‡ç”¨å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œå¹¶æŠŠJSONå­—ç¬¦ä¸²ä¸­çš„å€¼è¿½åŠ åˆ°å¯¹è±¡ä¸Šã€‚Replaceè¡¨ç¤ºä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶æŠŠJSONå­—ç¬¦ä¸²ä¸­çš„å€¼èµ‹ç»™å¯¹è±¡ã€‚è¿™æ ·å°±å¯ä»¥é¿å…åœ¨ååºåˆ—åŒ–æ—¶è¿½åŠ åˆ—è¡¨é¡¹å¯¼è‡´çš„é‡å¤ã€‚ä¾‹å¦‚ï¼š 1 2 3 4 Product deserializedProduct = JsonConvert.DeserializeObject\u0026lt;Product\u0026gt;(json, new JsonSerializerSettings { ObjectCreationHandling = ObjectCreationHandling.Replace }); æˆ‘ä»¬æ ¹æ®é¡¹ç›®çš„å®é™…éœ€æ±‚ï¼Œé€‰æ‹©äº†ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œå¹¶ä¿®æ”¹äº†ä»£ç ã€‚ç»è¿‡æµ‹è¯•ï¼Œå®Œç¾è§£å†³é—®é¢˜ï¼Œååºåˆ—åŒ–åå¾—åˆ°çš„Productå¯¹è±¡å’ŒåŸæ¥ç›¸åŒäº†ã€‚\n","date":"2025-12-01T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/jsonserilize/","title":"é¿å…Newtonsoft.Jsonååºåˆ—åŒ–å‡ºç°é‡å¤åˆ—è¡¨é¡¹"},{"content":"åœ¨ PyCharmï¼ˆæˆ–ä»»ä½• Python å¼€å‘ç¯å¢ƒï¼‰ä¸­ï¼ŒVirtualenvã€Condaã€Pipenvã€Poetry éƒ½æ˜¯ç”¨æ¥ç®¡ç†é¡¹ç›®ç¯å¢ƒå’Œä¾èµ–çš„å·¥å…·ã€‚ å®ƒä»¬çš„ç›®æ ‡ç›¸ä¼¼ï¼ˆè§£å†³â€œä¸åŒé¡¹ç›®çš„ä¾èµ–å†²çªâ€ï¼‰ï¼Œä½†å·¥ä½œæ–¹å¼ã€é€‚ç”¨åœºæ™¯å’Œä¼˜åŠ£åŠ¿ä¸åŒã€‚\nğŸ§© ä¸€ã€å…±åŒç‚¹ï¼ˆæ ¸å¿ƒç›®çš„ï¼‰ æ‰€æœ‰è¿™äº›ç¯å¢ƒç®¡ç†å™¨éƒ½æ˜¯ä¸ºäº†è®©ï¼š\næ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ Python ç¯å¢ƒï¼ˆé¿å…å…¨å±€æ±¡æŸ“ï¼‰ï¼› ä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„åŒ…ï¼› ç®¡ç†ä¾èµ–ï¼ˆå®‰è£…ã€å‡çº§ã€å¸è½½ï¼‰æ›´æ–¹ä¾¿ã€‚ ğŸ§± äºŒã€å››è€…åŒºåˆ«æ¦‚è§ˆ å·¥å…· ç±»å‹ ä¾èµ–æ–‡ä»¶ æ˜¯å¦éœ€è¦é¢å¤–å®‰è£… ä¸»è¦ç‰¹ç‚¹ é€‚åˆäººç¾¤ Virtualenv è™šæ‹Ÿç¯å¢ƒç®¡ç†å·¥å…· requirements.txt âŒ Python è‡ªå¸¦ï¼ˆæˆ–å†…ç½®venvï¼‰ ç®€å•ç›´æ¥ã€æœ€è½»é‡ã€å‡ ä¹æ‰€æœ‰ç¯å¢ƒéƒ½æ”¯æŒ åˆå­¦è€…ã€é€šç”¨é¡¹ç›® Conda åŒ…ç®¡ç† + ç¯å¢ƒç®¡ç† environment.yml âœ… éœ€å®‰è£… Anaconda / Miniconda å¯ç®¡ç† Python + éPythonåº“ï¼ˆå¦‚numpyçš„Cä¾èµ–ï¼‰ æ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹  Pipenv è™šæ‹Ÿç¯å¢ƒ + ä¾èµ–é”ç®¡ç† Pipfile + Pipfile.lock âœ… pip install pipenv å®˜æ–¹æ¨èä¸€åº¦ï¼Œç”¨äºç²¾å‡†ä¾èµ–é”å®š Web / æ™®é€šPythoné¡¹ç›® Poetry ä¾èµ– + æ‰“åŒ… + å‘å¸ƒ pyproject.toml + poetry.lock âœ… pip install poetry ç°ä»£åŒ–ã€è‡ªåŠ¨åŒ–ä¾èµ–ç®¡ç†ã€æœ€ç®€æ´ä¼˜é›… ç°ä»£é¡¹ç›®ã€åŒ…å¼€å‘è€… ğŸ§  ä¸‰ã€è¯¦ç»†è®²è§£ 1ï¸âƒ£ Virtualenv / venv Python å®˜æ–¹æœ€åŸå§‹çš„è™šæ‹Ÿç¯å¢ƒæœºåˆ¶ã€‚\nä½œç”¨ï¼šåœ¨é¡¹ç›®ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ Python è§£é‡Šå™¨å’Œ site-packagesã€‚\nä¾èµ–æ–‡ä»¶ï¼šrequirements.txt\nå‘½ä»¤ç¤ºä¾‹ï¼š\n1 2 3 4 python -m venv venv venv\\Scripts\\activate pip install requests pip freeze \u0026gt; requirements.txt ä¼˜ç‚¹ï¼š\nå†…ç½®ã€è½»é‡ã€ç®€å•ï¼› ä¸ä¾èµ–å¤–éƒ¨å·¥å…·ï¼› PyCharm åŸç”Ÿæ”¯æŒæœ€å¥½ã€‚ ç¼ºç‚¹ï¼š\nä¸ä¼šè‡ªåŠ¨é”å®šä¾èµ–ï¼› åªèƒ½ç®¡ç† Python åŒ…ï¼ˆéç³»ç»Ÿä¾èµ–æ— æ³•å¤„ç†ï¼‰ã€‚ 2ï¸âƒ£ Conda æ¥è‡ª Anaconda ç”Ÿæ€ï¼Œæ˜¯ä¸€ä¸ªâ€œè·¨è¯­è¨€çš„åŒ…å’Œç¯å¢ƒç®¡ç†å™¨â€ã€‚ å¯ä»¥åŒæ—¶ç®¡ç† Pythonã€Cåº“ã€Rã€CUDA ç­‰ã€‚ ä¾èµ–æ–‡ä»¶ï¼šenvironment.yml å‘½ä»¤ç¤ºä¾‹ï¼š\n1 2 3 conda create -n myenv python=3.12 numpy pandas conda activate myenv conda env export \u0026gt; environment.yml ä¼˜ç‚¹ï¼š\nå®‰è£…é€Ÿåº¦å¿«ï¼ˆä½¿ç”¨é¢„ç¼–è¯‘äºŒè¿›åˆ¶åŒ…ï¼‰ï¼› å…¼å®¹æ€§å¥½ï¼ˆç§‘å­¦è®¡ç®—ã€AIå¸¸ç”¨ï¼‰ï¼› ä¸ä¾èµ–ç³»ç»Ÿç¼–è¯‘ç¯å¢ƒã€‚ ç¼ºç‚¹ï¼š\nç¯å¢ƒå¤§ï¼Œå ç©ºé—´ï¼› å¯¹çº¯ Python é¡¹ç›®ç•¥æ˜¾ç¬¨é‡ï¼› ä¸ pip ç®¡ç†çš„åº“å¯èƒ½å†²çªã€‚ é€‚åˆåœºæ™¯ï¼š\næ•°æ®åˆ†æã€ç§‘å­¦è®¡ç®—ã€æ·±åº¦å­¦ä¹ ï¼ˆTensorFlowã€PyTorchï¼‰ç­‰ã€‚\n3ï¸âƒ£ Pipenv ç”± PyPAï¼ˆPython å®˜æ–¹åŒ…ç®¡ç†æœºæ„ï¼‰å¼€å‘ï¼Œç”¨æ¥å–ä»£ virtualenv + requirements.txtã€‚\næ–‡ä»¶ï¼šPipfile å’Œ Pipfile.lock\nå‘½ä»¤ç¤ºä¾‹ï¼š\n1 2 pipenv install requests pipenv shell ä¼˜ç‚¹ï¼š\nè‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼› è‡ªåŠ¨ç”Ÿæˆé”æ–‡ä»¶ï¼Œç¡®ä¿ç‰ˆæœ¬ä¸€è‡´ï¼› é›†æˆ pip + virtualenvã€‚ ç¼ºç‚¹ï¼š\nç°åœ¨ç»´æŠ¤è¾ƒå°‘ï¼ˆæœ‰ç‚¹â€œè¿‡æ°”â€ï¼‰ï¼› å®‰è£…é€Ÿåº¦æ…¢ï¼› å¤§é¡¹ç›®ä¾èµ–è§£æå®¹æ˜“å‡ºé—®é¢˜ã€‚ é€‚åˆåœºæ™¯ï¼š\næ™®é€š Python é¡¹ç›®ï¼Œå°ä¸­å‹ Web åº”ç”¨ã€‚\n4ï¸âƒ£ Poetry ç°ä»£åŒ–çš„ä¾èµ–å’ŒåŒ…ç®¡ç†å·¥å…·ï¼Œè¶Šæ¥è¶Šæµè¡Œã€‚\næ–‡ä»¶ï¼špyproject.toml + poetry.lock\nå‘½ä»¤ç¤ºä¾‹ï¼š\n1 2 3 poetry init poetry add requests poetry shell ä¼˜ç‚¹ï¼š\né€Ÿåº¦å¿«ï¼› è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼› ç®¡ç† + æ„å»º + å‘å¸ƒä¸€ä½“åŒ–ï¼› æ¯” Pipenv æ›´ç¨³å®šï¼› å®˜æ–¹æ ‡å‡†æœªæ¥æ–¹å‘ï¼ˆPEP 621 æ”¯æŒï¼‰ã€‚ ç¼ºç‚¹ï¼š\nåˆå­¦è€…ä¸Šæ‰‹ç¨å¾®å¤æ‚ï¼› å¯¹æ—§é¡¹ç›®ï¼ˆrequirements.txtï¼‰å…¼å®¹æ€§ç•¥å·®ã€‚ é€‚åˆåœºæ™¯ï¼š\næƒ³è¦ç°ä»£åŒ–ä¾èµ–ç®¡ç†ã€å‡†å¤‡å‘å¸ƒè‡ªå·±çš„åŒ…çš„å¼€å‘è€…ã€‚\nğŸ’¡ å››ã€PyCharmä¸­çš„é€‰æ‹©å»ºè®® é¡¹ç›®ç±»å‹ æ¨èç¯å¢ƒç±»å‹ æ™®é€šå­¦ä¹  / è„šæœ¬é¡¹ç›® âœ… Virtualenv æ•°æ®åˆ†æ / æ·±åº¦å­¦ä¹  âœ… Conda ç°ä»£ Web æˆ–å¼€æºåŒ…å¼€å‘ âœ… Poetry è€é¡¹ç›®ã€Flask/Django æ•™ç¨‹ âœ… Virtualenv / Pipenv ğŸ§­ äº”ã€PyCharm è®¾ç½®è·¯å¾„ åœ¨åˆ›å»ºé¡¹ç›®æ—¶ï¼š\nFile â†’ Settings â†’ Project: xxx â†’ Python Interpreter â†’ Add Interpreter â†’ é€‰æ‹©ï¼š\nâ€œVirtualenv Environmentâ€ â€œConda Environmentâ€ â€œPipenv Environmentâ€ â€œPoetry Environmentâ€ ç„¶å PyCharm ä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºæˆ–é€‰æ‹©å·²æœ‰ç¯å¢ƒã€‚\n","date":"2025-11-05T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/py_env/","title":"Pythonç¯å¢ƒ"},{"content":" ğŸ§± ä¸€ã€ç”Ÿæˆæ“ä½œï¼ˆBuild Actionï¼‰çš„åŸºæœ¬æ¦‚å¿µ åœ¨ Visual Studio ä¸­ï¼Œæ–‡ä»¶å±æ€§é‡Œçš„ â€œç”Ÿæˆæ“ä½œï¼ˆBuild Actionï¼‰â€ å†³å®šäº†è¿™ä¸ªæ–‡ä»¶åœ¨ç¼–è¯‘æ—¶å¦‚ä½•è¢«å¤„ç†ã€æ˜¯å¦ä¼šè¢«æ‰“åŒ…è¿›æœ€ç»ˆçš„ç¨‹åºé›†ï¼ˆ.exe æˆ– .dllï¼‰ä¸­ï¼Œæˆ–è€…æ˜¯å¦ä¼šè¢«å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ã€‚\nå¸¸è§çš„é€‰é¡¹åŒ…æ‹¬ï¼š\nNoneï¼ˆä¸å‚ä¸ç¼–è¯‘ï¼‰ Contentï¼ˆå†…å®¹æ–‡ä»¶ï¼‰ Resourceï¼ˆWPF èµ„æºï¼‰ Embedded Resourceï¼ˆåµŒå…¥èµ„æºï¼‰ Pageï¼ˆç”¨äº XAMLï¼‰ Compileï¼ˆç”¨äºä»£ç æ–‡ä»¶ï¼‰ æˆ‘ä»¬é‡ç‚¹çœ‹ä½ æåˆ°çš„è¿™ä¸‰ä¸ªï¼š\nğŸ¨ äºŒã€â€œå†…å®¹ï¼ˆContentï¼‰â€ã€â€œèµ„æºï¼ˆResourceï¼‰â€ã€â€œåµŒå…¥çš„èµ„æºï¼ˆEmbedded Resourceï¼‰â€çš„åŒºåˆ« ç”Ÿæˆæ“ä½œ ç¼–è¯‘åæ˜¯å¦æ‰“åŒ…è¿› EXE è®¿é—®æ–¹å¼ å…¸å‹ç”¨é€” ç‰¹ç‚¹ Contentï¼ˆå†…å®¹ï¼‰ âŒ å¦ï¼ˆä½†ä¼šå¤åˆ¶åˆ°è¾“å‡ºç›®å½•ï¼‰ æ–‡ä»¶è·¯å¾„ï¼ˆURI æˆ–ç£ç›˜è·¯å¾„ï¼‰ å›¾ç‰‡ã€é…ç½®æ–‡ä»¶ã€å¤–éƒ¨å¯æ›¿æ¢èµ„æº æ–‡ä»¶å­˜åœ¨äºç£ç›˜ä¸Šï¼Œå¯ä»¥æ›¿æ¢æˆ–ä¿®æ”¹ Resourceï¼ˆèµ„æºï¼‰ âœ… æ˜¯ï¼ˆæ‰“åŒ…è¿›ç¨‹åºé›†ï¼‰ pack://application:,,,/è·¯å¾„ WPF UI å›¾ç‰‡ã€å›¾æ ‡ç­‰ æ¨èç”¨äº UI å›¾ç‰‡ï¼Œç¼–è¯‘æ—¶è‡ªåŠ¨å‹ç¼©æ‰“åŒ… Embedded Resourceï¼ˆåµŒå…¥çš„èµ„æºï¼‰ âœ… æ˜¯ï¼ˆæ‰“åŒ…è¿›ç¨‹åºé›†ï¼‰ ç¨‹åºä»£ç é€šè¿‡ Assembly.GetManifestResourceStream() é WPF ç‰¹æœ‰ï¼Œä¸€èˆ¬ç”¨äºä»£ç è®¿é—®çš„äºŒè¿›åˆ¶æ•°æ® ä¸ä¼šè¢« WPF èµ„æºç³»ç»Ÿè¯†åˆ« ğŸ§© ä¸‰ã€å…·ä½“åŒºåˆ«ä¸¾ä¾‹ å‡è®¾é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 MyApp/ â”œâ”€â”€ Images/ â”‚ â””â”€â”€ logo.png â””â”€â”€ MainWindow.xaml 1ï¸âƒ£ Contentï¼ˆå†…å®¹ï¼‰ å±æ€§è®¾ç½®ï¼š\n1 2 ç”Ÿæˆæ“ä½œ: Content å¤åˆ¶åˆ°è¾“å‡ºç›®å½•: å§‹ç»ˆå¤åˆ¶ ç¼–è¯‘åï¼š\nlogo.png ä¼šå‡ºç°åœ¨è¾“å‡ºç›®å½•ï¼ˆå¦‚ bin/Debug/net8.0-windows/Images/logo.pngï¼‰ã€‚ ä¸ä¼šæ‰“åŒ…è¿› .exeã€‚ è®¿é—®æ–¹å¼ï¼ˆXAMLï¼‰ï¼š\n1 \u0026lt;Image Source=\u0026#34;Images/logo.png\u0026#34;/\u0026gt; è®¿é—®æ–¹å¼ï¼ˆä»£ç ï¼‰ï¼š\n1 var image = new BitmapImage(new Uri(\u0026#34;Images/logo.png\u0026#34;, UriKind.Relative)); âœ… ä¼˜ç‚¹ï¼šå¯ä»¥æ›¿æ¢å›¾ç‰‡ï¼Œä¸ç”¨é‡æ–°ç¼–è¯‘ âŒ ç¼ºç‚¹ï¼šå‘å¸ƒæ—¶éœ€è¦ç¡®ä¿å›¾ç‰‡éšç¨‹åºä¸€èµ·æ‹·è´\n2ï¸âƒ£ Resourceï¼ˆèµ„æºï¼‰ å±æ€§è®¾ç½®ï¼š\n1 ç”Ÿæˆæ“ä½œ: Resource ç¼–è¯‘åï¼š\nlogo.png ä¼šè¢«å‹ç¼©å¹¶æ‰“åŒ…è¿› MyApp.exe ç¨‹åºé›†ä¸­ã€‚ è®¿é—®æ–¹å¼ï¼ˆXAMLï¼‰ï¼š\n1 \u0026lt;Image Source=\u0026#34;pack://application:,,,/Images/logo.png\u0026#34;/\u0026gt; æˆ–æ›´ç®€å•å†™æ³•ï¼ˆæ¨èï¼‰ï¼š\n1 \u0026lt;Image Source=\u0026#34;/MyApp;component/Images/logo.png\u0026#34;/\u0026gt; è®¿é—®æ–¹å¼ï¼ˆä»£ç ï¼‰ï¼š\n1 2 var uri = new Uri(\u0026#34;pack://application:,,,/Images/logo.png\u0026#34;); var image = new BitmapImage(uri); âœ… ä¼˜ç‚¹ï¼š\nä¸éœ€è¦å•ç‹¬æ‹·è´æ–‡ä»¶ã€‚ ä¸æ€•ä¸¢å¤±ï¼Œå‘å¸ƒç®€å•ã€‚ æ˜¯ WPF çš„é»˜è®¤æ¨èæ–¹å¼ã€‚ âŒ ç¼ºç‚¹ï¼š\nä¿®æ”¹å›¾ç‰‡éœ€è¦é‡æ–°ç¼–è¯‘ç¨‹åºã€‚ 3ï¸âƒ£ Embedded Resourceï¼ˆåµŒå…¥çš„èµ„æºï¼‰ å±æ€§è®¾ç½®ï¼š\n1 ç”Ÿæˆæ“ä½œ: Embedded Resource ç¼–è¯‘åï¼š\næ–‡ä»¶ä¼šä»¥äºŒè¿›åˆ¶æµå½¢å¼åµŒå…¥åˆ°ç¨‹åºé›†ï¼Œä½†ä¸å±äº WPF çš„èµ„æºç³»ç»Ÿã€‚ è®¿é—®æ–¹å¼ï¼ˆä»…ä»£ç ï¼‰ï¼š\n1 2 3 4 5 6 var assembly = Assembly.GetExecutingAssembly(); using var stream = assembly.GetManifestResourceStream(\u0026#34;MyApp.Images.logo.png\u0026#34;); var image = new BitmapImage(); image.BeginInit(); image.StreamSource = stream; image.EndInit(); âœ… ä¼˜ç‚¹ï¼š\nå¯¹äºé WPF ç¨‹åºï¼ˆå¦‚æ§åˆ¶å°ã€WinFormsï¼‰å¾ˆæ–¹ä¾¿ã€‚ âŒ ç¼ºç‚¹ï¼š WPF çš„ XAML æ— æ³•ç›´æ¥è¯†åˆ«è¿™ç§èµ„æºã€‚ ä¸æ¨èåœ¨çº¯ WPF ç•Œé¢ä¸­ä½¿ç”¨ã€‚ ğŸ’¡ å››ã€æ€»ç»“ä¸æ¨èä½¿ç”¨ ä½¿ç”¨åœºæ™¯ æ¨èç”Ÿæˆæ“ä½œ ç†ç”± UI å›¾ç‰‡ï¼ˆæŒ‰é’®å›¾æ ‡ã€èƒŒæ™¯ï¼‰ Resource æ‰“åŒ…åœ¨ç¨‹åºé›†å†…ï¼ŒURI å¯ç›´æ¥è®¿é—® å¯æ›¿æ¢å›¾ç‰‡ï¼ˆç”¨æˆ·å¯æ›´æ”¹ï¼‰ Content æ”¾åœ¨è¾“å‡ºç›®å½•ä¸­ï¼Œå¯æ›¿æ¢ åµŒå…¥é…ç½®/æ¨¡æ¿æ–‡ä»¶ï¼ˆä»…ä»£ç è®¿é—®ï¼‰ Embedded Resource ç”¨æµè®¿é—®ï¼Œçµæ´» å¤§å›¾æ ‡ï¼ˆAppIcon.icoï¼‰ Resource è¢«æ‰“åŒ…å¹¶è‡ªåŠ¨è¯†åˆ« ğŸ§  å°æŠ€å·§ é¡¹ç›®æ‰“åŒ…è·¯å¾„æ¨èï¼š\n1 2 /Assets/Icons/ /Assets/Images/ å¹¶å°†è¿™äº›æ–‡ä»¶è®¾ç½®ä¸º Resourceã€‚\nå¿«é€Ÿåˆ¤æ–­æ˜¯å¦æ‰“åŒ…ï¼š åœ¨è¾“å‡ºç›®å½•çœ‹ä¸åˆ°å›¾ç‰‡ â†’ å¤šåŠæ˜¯ Resourceã€‚ èƒ½çœ‹åˆ°å›¾ç‰‡ â†’ å¤šåŠæ˜¯ Contentã€‚\n","date":"2025-11-05T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/wpf_content_resource/","title":"Wpfç”Ÿæˆæ“ä½œï¼šå†…å®¹å’Œèµ„æº"},{"content":" C#å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ (30) C#å­—å…¸çš„åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ (26) è¯·è§£é‡Šä»€ä¹ˆæ˜¯åƒåœ¾å›æ”¶ï¼ˆGCï¼‰åŠå…¶å·¥ä½œåŸç†ï¼Ÿ (25) C#ä¸­ä»€ä¹ˆæ˜¯è£…ç®±å’Œæ‹†ç®±ï¼Ÿ (18) è¯·è¯¦è¿°åœ¨C#ä¸­ç±»(class)ä¸ç»“æ„(struct)çš„å¼‚åŒï¼Ÿ (9) æ€ä¹ˆé˜²æ­¢è¿‡åº¦çš„GCäº§ç”Ÿï¼Ÿ (8) C#ä¸­çš„åå°„ï¼ˆReflectionï¼‰æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ (8) è¯·è¯´æ˜c#å§”æ‰˜å’Œäº‹ä»¶çš„åŒºåˆ« (7) C#ä¸­ä»€ä¹ˆæ˜¯å€¼ç±»å‹ä¸å¼•ç”¨ç±»å‹ï¼Ÿ (7) è¯·è§£é‡Šä»€ä¹ˆæ˜¯æ³›å‹ï¼Œå¦‚ä½•åœ¨C#ä¸­ä½¿ç”¨æ³›å‹ï¼Ÿ (6) C#ä¸­abstract classå’Œinterfaceæœ‰ä»€ä¹ˆåŒºåˆ«? (5) C#ä¸­çš„å§”æ‰˜æ˜¯ä»€ä¹ˆï¼Ÿäº‹ä»¶æ˜¯ä¸æ˜¯ä¸€ç§å§”æ‰˜ï¼Ÿ (5) è¯·è¯´æ˜C#åç¨‹å’Œçº¿ç¨‹çš„æ¦‚å¿µ (5) ArrayListå’ŒListçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ (4) è¯·è¯´æ˜åƒåœ¾å›æ”¶æœºåˆ¶ä½•æ—¶è‡ªåŠ¨é‡Šæ”¾ï¼Œä½•æ—¶éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ (4) C#ä¸­å¦‚ä½•å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ (4) è¯·ä»‹ç»C#ä¸­çš„æ•°æ®ç»“æ„ï¼Œå¦‚åˆ—è¡¨ï¼ˆListï¼‰å’Œå­—å…¸ï¼ˆDictionaryï¼‰ç­‰ (3) ç®€è¿°dictionaryå‘ç”Ÿå“ˆå¸Œå†²çªæ—¶çš„è§£å†³æ–¹æ³• (3) C#ä¸­Listçš„åº•å±‚æ˜¯ä»€ä¹ˆ (2) C#ä¸­çš„äº‹ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ (2) c#å½“ä¸­intå’Œlongåˆ†åˆ«å ç”¨å¤šå°‘å­—èŠ‚ (2) è¯´æ˜C#å¦‚ä½•æŠŠä¸€ä¸ªå€¼ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹ (2) è¯·è¯´æ˜ privateã€protectedã€publicã€internal çš„è®¿é—®æƒé™ (2) C#ä¸­å€¼ä¼ é€’ä¸å¼•ç”¨ä¼ é€’çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ (2) C#ä¸­å †å’Œæ ˆçš„åŒºåˆ«ï¼Ÿ (2) C#åå°„æ€ä¹ˆè·å–ä¸€ä¸ªç±»ç„¶åè°ƒç”¨é‡Œé¢çš„æ–¹æ³• (2) å¦‚ä½•åœ¨C#ä¸­å®ç°ä¾èµ–æ³¨å…¥ï¼Ÿ (2) å¦‚æœæœ‰æ•°ä»¥ç™¾ä¸‡è®¡çš„æ•°æ®è¦æ’å…¥å“ˆå¸Œè¡¨ï¼Œåº”è¯¥å¦‚ä½•å°½é‡å‡å°‘å“ˆå¸Œå†²çª (2) è¯·è§£é‡Šå¼‚æ­¥ç¼–ç¨‹çš„æ¦‚å¿µã€å·¥ä½œåŸç†ä»¥åŠå®ç°æ–¹å¼ (2) è¯·é˜è¿°ASP.NETå’ŒASP.NET Coreçš„åŒºåˆ«ã€‚ (2) æ€ä¹ˆå»è®¾è®¡ä¸€ä¸ªå¯¹è±¡æ± ï¼Ÿï¼ˆç”¨å…·ä½“çš„ç¨‹åºé€»è¾‘ã€æ•°æ®ç»“æ„ã€å¯¹å¤–æä¾›å“ªäº›æ¥å£ï¼‰ (2) C# Listæ˜¯ä»€ä¹ˆç±»å‹çš„å®¹å™¨ C# yieldçš„ä½œç”¨æ˜¯ä»€ä¹ˆ C# æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°å‰åŠ staticçš„ä½œç”¨ï¼Ÿ C#ä¸­IEnumeratorçš„æ¦‚å¿µå’Œä½œç”¨æ˜¯ä»€ä¹ˆ C#ä¸­outå…³é”®å­—å¦‚ä½•å®ç°å°†å‚æ•°ä¼ åˆ°æ–¹æ³•å¤–ï¼Ÿ C#ä¸­å®ç°å¤šçº¿ç¨‹çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ C#ä¸­å¼•ç”¨ç±»å‹åŠ refå’Œä¸åŠ refæœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿ C#ä¸­ç”¨staticå®šä¹‰æ„é€ å‡½æ•°ä¼šæ€ä¹ˆæ · C#ä¸­çš„Listå’Œæ•°ç»„çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ C#æ‰€æœ‰ç±»çš„åŸºç±»æ˜¯ä»€ä¹ˆ C#æ·»åŠ äº‹ä»¶å’Œåˆ é™¤äº‹ä»¶ä¸€èˆ¬é€šè¿‡+=æˆ–-=ï¼Œå¦‚æœæ·»åŠ ä¸¤æ¬¡+=åŒä¸€ä¸ªäº‹ä»¶ï¼Œè°ƒç”¨ä¼šæ‰§è¡Œä¸€æ¬¡è¿˜æ˜¯ä¸¤æ¬¡ C#çš„åç¨‹æ˜¯ä»€ä¹ˆ HashSetå’ŒDictionaryçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ int?å’Œintæœ‰ä»€ä¹ˆåŒºåˆ« int32çš„æœ€å¤§å€¼2147483647åŠ 1ä¹‹åç­‰äºå¤šå°‘ Listä¸­å¦‚æœä¸­é—´åˆ é™¤äº†æŸäº›å…ƒç´ ï¼ŒListä¼šåšä»€ä¹ˆæ“ä½œï¼ŒåŸæ•°ç»„ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ sealedå…³é”®å­—çš„ä½œç”¨æ˜¯ä»€ä¹ˆ ä»€ä¹ˆæ—¶å€™ä½¿ç”¨classï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨struct åˆ—ä¸¾å“ªäº›æƒ…å†µä¼šå‘ç”Ÿè£…ç®± å‰å°çº¿ç¨‹å’Œåå°çº¿ç¨‹æœ‰ä»€ä¹ˆå·®åˆ«ï¼Ÿ å½“å­—ç¬¦ä¸²æ“ä½œéå¸¸é¢‘ç¹æ—¶ï¼Œå¦‚ä½•è¿›è¡Œä¼˜åŒ– ç®€è¿° readonly å…³é”®å­—çš„ä½œç”¨ ç®€è¿°C# dictionaryæŸ¥è¯¢çš„å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Œä¸ºä»€ä¹ˆ ç®€è¿°C#è£…ç®±æ‹†ç®±æ—¶ï¼Œåœ¨å†…å­˜ä¸Šå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ– è¯·åˆ—ä¸¾Usingå…³é”®å­—çš„ç”¨æ³• è¯·åˆ—ä¸¾å¼•ç”¨ç±»å‹å’Œå€¼ç±»å‹ï¼Œè¯´æ˜å®ƒä»¬çš„æ•°æ®å­˜å‚¨ç»“æ„ï¼Œä»¥åŠæ‹†è£…ç®±æ—¶åº•å±‚å‘ç”Ÿäº†ä»€ä¹ˆ è¯·ç®€è¿°è£…ç®±çš„å±å®³ è¯·è¯´æ˜C#ä¸­æ‹†è£…ç®±æ“ä½œçš„è¿è¡Œæœºåˆ¶ è¯·è¯´æ˜StringBuilderå’ŒStringçš„åŒºåˆ«ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²æ—¶çš„åŒºåˆ«ï¼Œä»¥åŠStringBuild AOTæ‰“åŒ…é¡¹ç›®åï¼Œæ˜¯å¦è¿˜èƒ½ä½¿ç”¨åå°„ C#ä¸­ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´å¦‚ä½•å®ç°é€šä¿¡æœºåˆ¶ï¼Ÿ C#ä¸­å‚æ•°ä¼ é€’ ref ä¸ out çš„åŒºåˆ«ï¼Ÿ C#ä¸­çš„partialç±»æ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ C#ä¸­çš„äº’æ–¥é‡å’Œé”åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ C#ä¸­çš„æ‰©å±•æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Œå¦‚ä½•ä½¿ç”¨ï¼Ÿ C#ä¸­çš„ç®¡é“å¦‚ä½•å®ç°ï¼Ÿ c#å¯å¦å¯¹å†…å­˜ç›´æ¥æ“ä½œï¼Ÿ C#å®ç°å¤šæ€çš„è¿‡ç¨‹ä¸­ overload é‡è½½ ä¸override é‡å†™çš„åŒºåˆ«ï¼Ÿ C#é—­åŒ…å’ŒåŒ¿åè¡¨è¾¾å¼åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼šäº§ç”ŸGC Locké”çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è¿™ä¸ªå¯¹è±¡æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ Parallelçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº› ä¸ä½¿ç”¨åå°„ï¼Œæœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥å®ç°ç±»ä¼¼çš„æ•ˆæœ ä¸ºä»€ä¹ˆæ•°ç»„æŸ¥æ‰¾æ¯”Listå¿«ï¼Ÿ åˆ†æC# Lambdaè¡¨è¾¾å¼åŠå…¶æ€§èƒ½ åç¨‹æ˜¯å¦ç®—æ˜¯å¼‚æ­¥ åœ¨C#ä¸­å¦‚ä½•è®©GCå»¶è¿Ÿè°ƒç”¨ åœ¨C#ä¸­å¦‚ä½•è¿›è¡Œæ·±æ‹·è´ï¼Ÿ å¤šä¸ªçº¿ç¨‹ä¹‹é—´è®¿é—®åŒä¸€ä¸ªæ•°æ®æ—¶å¦‚ä½•ä¿è¯æ•°æ®çš„çº¿ç¨‹å®‰å…¨ï¼Œå¦‚ä½•å¤„ç†å¤šçº¿ç¨‹å¹¶å‘å®‰å…¨é—®é¢˜ï¼Ÿ å¦‚ä½•è§£å†³è£…ç®±æ‹†ç®±å¸¦æ¥çš„æ€§èƒ½æ¶ˆè€— å¦‚æœç”¨å­—ç¬¦ä¸²ä½œä¸ºdictionaryçš„é”®ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜å’Œæ€§èƒ½æŸè€— å½“awaitå¼‚æ­¥ç­‰å¾…åŠ è½½ç½‘ç»œABåŒ…å‡ºé”™æ—¶ï¼Œåº”å¦‚ä½•å¤„ç† æ¥å£ä¼ é€’ç»“æ„ä½“æ—¶ï¼Œæ˜¯è¿›è¡Œè£…ç®±è¿˜æ˜¯æ‹†ç®±æ“ä½œï¼Ÿ æ˜¯å¦äº†è§£ unity çš„åƒåœ¾å›æ”¶æœºåˆ¶ æœ‰ä¸€ä¸ªç§¯åˆ†å˜é‡ï¼Œåœ¨æ“ä½œè¿‡ç¨‹ä¸­å­˜åœ¨é¢‘ç¹æ‹†è£…ç®±çš„æƒ…å†µï¼Œå¦‚ä½•è¿›è¡Œä¼˜åŒ–ï¼›è‹¥ç§¯åˆ†æœ€å¤šåªæœ‰1000ï¼Œåˆè¯¥å¦‚ä½•ä¼˜åŒ– ç®€è¿°C# GCåŒºåŸŸåˆ’åˆ† ç®€è¿°C#ä¸­çš„æ³›å‹ï¼ˆGenericï¼‰åŠå…¶ä¼˜åŠ¿ã€‚ çº¿ç¨‹æ± ç›¸å¯¹äºåŸºç¡€çš„çº¿ç¨‹æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ è®¾ç½®çº¿ç¨‹æ± çš„æœ€å¤§è¿›ç¨‹æ•°çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ è¯´ä¸€ä¸‹C#çš„ç¼–è¯‘æµç¨‹ è¯·ä»‹ç»å„ç§é”çš„æ¦‚å¿µå’Œåº”ç”¨ è¯·è§£é‡Šä¸ºä»€ä¹ˆGCä¼šäº§ç”Ÿå¡é¡¿ è¯·è¯¦ç»†è¯´æ˜C#å†…å­˜åˆ†é…æƒ…å†µï¼ŒåŒ…æ‹¬stringå¯¹è±¡ã€StringBuilderå¯¹è±¡å’Œconstä¿®é¥°çš„å˜ è¯·è¯´æ˜Usingé‡Œé¢ç”¨åˆ°å“ªäº›å›ºå®šç±»å‹ï¼Œå·¥ä½œåŸç†å’Œæœºåˆ¶ï¼Œåœ¨å†…å­˜ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæ˜¯å¦å¯ä»¥åœ¨é‡Œé¢ä½¿ç”¨å¤šçº¿ç¨‹ è¯·è¯´æ˜å¯¹ DI å’Œ IOC çš„äº†è§£ï¼Œä»¥åŠ.NET å†…ç½®å®¹å™¨çš„ä¸‰ç§ç”Ÿå‘½å‘¨æœŸ è¯·è¯´æ˜å¯¹å¼‚æ­¥å¤šçº¿ç¨‹çš„çœ‹æ³•ä»¥åŠå¼‚æ­¥å¤šçº¿ç¨‹å¯èƒ½å¯¼è‡´çš„é—®é¢˜ è¯·é˜è¿°å¯¹IOCä¸AOPçš„ç†è§£ è¯·é˜è¿°å¯¹ORMæ¡†æ¶çš„ç†è§£ï¼Œåˆ—ä¸¾è®¤è¯†çš„ORMæ¡†æ¶å¹¶è¯´æ˜å¸¸ç”¨çš„æœ‰å“ªäº› è¯·é˜è¿°æ•°æ®åº“è¿æ¥æ± é‡Šæ”¾çš„åŸç†ï¼Œæ˜¯å¦ä½¿ç”¨åˆ°äº†åƒåœ¾å›æ”¶æœºåˆ¶ä»¥åŠåŸå›  C#ä¸­çš„å¤šçº¿ç¨‹å¦‚ä½•å®ç°ï¼Ÿ è¯·é˜è¿°å¼‚æ­¥ã€å¤šçº¿ç¨‹çš„åº•å±‚åŸç†ï¼Œä»¥åŠåœ¨é¡¹ç›®ä¸­çš„åº”ç”¨å’Œé‡åˆ°çš„é—®é¢˜ ADO.NETå¸¸ç”¨å¯¹è±¡æœ‰å“ªäº›ï¼Ÿ byte a = 255; a += 5; açš„å€¼æ˜¯å¤šå°‘ï¼Ÿ C#ä¸­çš„LINQæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰å“ªäº›ä¸»è¦ç»„ä»¶ï¼Ÿ newå…³é”®å­—çš„ä½œç”¨ Strings = new String(â€œxyzâ€); åˆ›å»ºäº†å‡ ä¸ªString Object? ä»€ä¹ˆæ˜¯LINQï¼Ÿè¯·ç»™å‡ºä¸€ä¸ªç®€å•ç¤ºä¾‹ã€‚ ä»€ä¹ˆæ˜¯NuGetï¼Ÿå¦‚ä½•åœ¨C#é¡¹ç›®ä¸­ä½¿ç”¨ã€‚ åœ¨ASP.NETä¸­æ‰€æœ‰çš„è‡ªå®šä¹‰ç”¨æˆ·æ§ä»¶éƒ½å¿…é¡»ç»§æ‰¿è‡ªï¼Ÿ å­—ç¬¦ä¸²ä¸­string str=nullå’Œstring str=\u0026ldquo;\u0026ldquo;å’Œstring str=strin è¯·æè¿°C#ä¸­çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–æ–¹æ³•ã€‚ è¯·è§£é‡ŠC#ä¸­çš„foreachå¾ªç¯çš„å·¥ä½œåŸç†ã€‚ è¯·è§£é‡ŠC#ä¸­çš„å‘½åç©ºé—´ï¼ˆNamespaceï¼‰åŠå…¶ä½œç”¨ã€‚ C#ä¸­å¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿ C#ä¸­ç”¨sealedä¿®é¥°çš„ç±»æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ C#ä¸­çš„Attributesæ˜¯ä»€ä¹ˆï¼Ÿå®ƒä»¬çš„ç”¨é€”æ˜¯ä»€ä¹ˆï¼Ÿ C#ä¸­çš„Serializationå’ŒDeserializationæ˜¯ä»€ä¹ˆï¼Ÿ C#ä¸­çš„Taskå’ŒThreadçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ C#ä¸­çš„åŠ¨æ€ç±»å‹ï¼ˆdynamicï¼‰å’Œvarå…³é”®å­—æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ C#ä¸­çš„å¤šçº¿ç¨‹ç¼–ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿç®€è¿°Threadã€ThreadPoolå’ŒTaskçš„åŒºåˆ«ã€‚ C#ä¸­çš„å±æ€§å’Œå­—æ®µæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ C#ä¸­çš„å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯æ€æ ·çš„ï¼Ÿtry-catch-finallyå—çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ C#ä¸­çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ C#ä¸­çš„ç‰ˆæœ¬æ§åˆ¶ï¼ˆVersioningï¼‰å¦‚ä½•ç®¡ç†ï¼Ÿ C#ä¸­çš„ç´¢å¼•å™¨æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ç´¢å¼•å™¨ï¼Ÿ C#ä¸­çš„é›†åˆï¼ˆCollectionï¼‰æœ‰å“ªäº›ä¸»è¦ç±»å‹ï¼Ÿå®ƒä»¬å„è‡ªçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ C#é™æ€æ„é€ å‡½æ•°ç‰¹ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ constå’Œreadonlyæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ CTSã€CLSã€CLRåˆ†åˆ«ä½œä½•è§£é‡Š ORMä¸­çš„å»¶è¿ŸåŠ è½½ä¸ç›´æ¥åŠ è½½æœ‰ä»€ä¹ˆå¼‚åŒï¼Ÿ ä»€ä¹ˆå«åº”ç”¨ç¨‹åºåŸŸ(AppDomain) ä»€ä¹ˆæ˜¯ASP.NETä¸­çš„Web APIï¼Ÿ ä»€ä¹ˆæ˜¯MVCæ¶æ„ï¼Œå®ƒæ˜¯å¦‚ä½•åœ¨C#ä¸­å®ç°çš„ï¼Ÿ ä»€ä¹ˆæ˜¯MVCæ¨¡å¼ ä»€ä¹ˆæ˜¯å¤šæ€ï¼Ÿå¦‚ä½•åœ¨C#ä¸­å®ç°å¤šæ€ï¼Ÿ ä»€ä¹ˆæ˜¯å¼ºç±»å‹ï¼Œä»€ä¹ˆæ˜¯å¼±ç±»å‹ï¼Ÿå“ªç§æ›´å¥½äº›ï¼Ÿä¸ºä»€ä¹ˆ? ä»€ä¹ˆæ˜¯æ•°æ®ç»‘å®šï¼Ÿå¦‚ä½•åœ¨C#ä¸­å®ç°ï¼Ÿ ä»€ä¹ˆæ˜¯æ•°æ®è®¿é—®å±‚ï¼ˆDALï¼‰ï¼Ÿå¦‚ä½•å®ç°å®ƒï¼Ÿ ä»€ä¹ˆæ˜¯çº¿æ€§é“¾è¡¨å’ŒåŒå‘é“¾è¡¨çš„åŒºåˆ«ï¼Ÿ ä»€ä¹ˆæ˜¯è™šå‡½æ•°ï¼Ÿä»€ä¹ˆæ˜¯æŠ½è±¡å‡½æ•°ï¼Ÿ åœ¨.NETæ‰˜ç®¡ä»£ç æ€»æˆ‘ä»¬ä¸å¿…æ‹…å¿ƒå†…å­˜æ³„æ¼ï¼Œè¿™æ˜¯å› ä¸ºï¼Ÿ å¦‚ä½•åœ¨C#ä¸­å®ç°æ¥å£çš„å¤šé‡ç»§æ‰¿ï¼Ÿ æè¿°C#ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼‰ã€‚ æè¿°C#ä¸­çš„æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„ä½œç”¨åŠç”¨æ³•ã€‚ ç®€è¿°C#ä¸­çš„å§”æ‰˜ï¼ˆDelegateï¼‰å’ŒåŒ¿åæ–¹æ³•ï¼ˆAnonymous Methodï¼‰ã€‚ ç®€è¿°Funcä¸Actionçš„åŒºåˆ«ï¼Ÿ è¯·æè¿°ASP.NETä¸­çš„è·¯ç”±æœºåˆ¶ã€‚ è¯·æè¿°C#ä¸­çš„å¯ç©ºç±»å‹ï¼ˆNullable Typesï¼‰ã€‚ è¯·æè¿°å¦‚ä½•åœ¨C#ä¸­å¤„ç†å¼‚å¸¸ã€‚ è¯·è§£é‡ŠC#ä¸­å­—ç¬¦ä¸²çš„ä¸å˜æ€§ã€‚ è¯·è§£é‡ŠC#ä¸­çš„lambdaè¡¨è¾¾å¼åŠå…¶è¯­æ³•ã€‚ è¯·è§£é‡ŠC#ä¸­çš„å±æ€§ï¼ˆPropertyï¼‰åŠå…¶è®¿é—®å™¨ï¼ˆAccessorï¼‰ã€‚ è¯·è§£é‡ŠC#ä¸­çš„ç‰¹æ€§ï¼ˆAttributeï¼‰åŠå…¶ä½œç”¨ã€‚ è¯·è§£é‡ŠC#ä¸­çš„é”ï¼ˆlockï¼‰è¯­å¥åŠå…¶ä½¿ç”¨åœºæ™¯ã€‚ è¯·è§£é‡Šä»€ä¹ˆæ˜¯asyncå’Œawaitï¼Œä»¥åŠå®ƒä»¬çš„ä½¿ç”¨åœºæ™¯ã€‚ è¯·è§£é‡Šå¦‚ä½•å¤„ç†JSONæ•°æ®ã€‚ è¯·é˜è¿°MVCä¸MVVMæ¨¡å¼çš„åŒºåˆ«ã€‚ C#ä¸­å¦‚ä½•å®ç°å‘½ä»¤æ¨¡å¼ï¼Ÿ ä»€ä¹ˆæ˜¯ååºåˆ—åŒ–æ”»å‡»ï¼Ÿå¦‚ä½•é˜²èŒƒï¼Ÿ è¯·è§£é‡ŠC#ä¸­çš„é”è‡ªç”±ï¼ˆLock-freeï¼‰ç¼–ç¨‹æ¨¡å‹ã€‚ è¯·è§£é‡Šå¦‚ä½•å¤„ç†å¹¶å‘é—®é¢˜ã€‚ ","date":"2025-10-30T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/c%23test/","title":"C#é«˜é¢‘é¢è¯•é¢˜"},{"content":" ğŸ§© ä¸€ã€åŸºæœ¬ä½œç”¨å¯¹æ¯” å¯¹æ¯”ç‚¹ Python ä¸­çš„ self C# ä¸­çš„ this å«ä¹‰ å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼ˆå®ä¾‹æœ¬èº«ï¼‰ å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼ˆå®ä¾‹æœ¬èº«ï¼‰ æ˜¾å¼æ€§ å¿…é¡»æ˜¾å¼å†™å‡ºåœ¨æ–¹æ³•å‚æ•°ä¸­ï¼ˆé€šå¸¸å‘½åä¸º selfï¼‰ ç¼–è¯‘å™¨éšå¼æä¾›ï¼Œåœ¨å®ä¾‹æ–¹æ³•ä¸­è‡ªåŠ¨å¯ç”¨ æ˜¯å¦å…³é”®å­— ä¸æ˜¯å…³é”®å­—ï¼Œåªæ˜¯çº¦å®šä¿—æˆçš„åå­—ï¼ˆå¯æ”¹æˆåˆ«çš„ï¼‰ æ˜¯è¯­è¨€å…³é”®å­— ä½¿ç”¨åœºæ™¯ ç±»çš„å®ä¾‹æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»ä¼ å…¥ self ç±»çš„å®ä¾‹æ–¹æ³•å¯ç›´æ¥ä½¿ç”¨ this é™æ€æ–¹æ³•æ˜¯å¦å¯ç”¨ ä¸å¯ç”¨ï¼Œé™¤éæ‰‹åŠ¨ä¼ å®ä¾‹ ä¸å¯ç”¨ï¼Œåªèƒ½ç”¨äºå®ä¾‹æ–¹æ³• ğŸ§  äºŒã€ç¤ºä¾‹å¯¹æ¯” ğŸ Python 1 2 3 4 5 6 class Person: def __init__(self, name): self.name = name # self æŒ‡å½“å‰å®ä¾‹ def greet(self): print(f\u0026#34;Hello, I\u0026#39;m {self.name}\u0026#34;) ä½¿ç”¨ï¼š\n1 2 p = Person(\u0026#34;Alice\u0026#34;) p.greet() # ç­‰ä»·äº Person.greet(p) âœ… æ³¨æ„ï¼šè°ƒç”¨ p.greet() æ—¶ï¼ŒPython è‡ªåŠ¨ä¼ å…¥ self=pã€‚\nğŸ’» C# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Person { private string name; public Person(string name) { this.name = name; // this æŒ‡å½“å‰å®ä¾‹ } public void Greet() { Console.WriteLine($\u0026#34;Hello, I\u0026#39;m {this.name}\u0026#34;); } } ä½¿ç”¨ï¼š\n1 2 var p = new Person(\u0026#34;Alice\u0026#34;); p.Greet(); // ç¼–è¯‘å™¨è‡ªåŠ¨ç»‘å®š this = p âœ… åœ¨ C# ä¸­ä¸éœ€è¦æ˜¾å¼ä¼ å‚ï¼Œthis æ˜¯éšå¼å­˜åœ¨çš„ã€‚\nâš™ï¸ ä¸‰ã€è°ƒç”¨æœºåˆ¶å·®å¼‚ å¯¹æ¯”ç‚¹ Python C# æ–¹æ³•æœ¬è´¨ å®ä¾‹æ–¹æ³•å…¶å®æ˜¯æ™®é€šå‡½æ•°ï¼Œé€šè¿‡ç»‘å®šå¯¹è±¡æˆä¸ºâ€œæ–¹æ³•â€ å®ä¾‹æ–¹æ³•æ˜¯ç±»æˆå‘˜ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨å…³è”å®ä¾‹ è°ƒç”¨æœ¬è´¨ p.greet() â†’ Person.greet(p) p.Greet() â†’ ç¼–è¯‘å™¨è‡ªåŠ¨ä¼ é€’ this å‡½æ•°ä¸æ–¹æ³•ç•Œé™ è¾ƒæ¨¡ç³Šï¼ˆå‡½æ•°æœ¬èº«ç‹¬ç«‹äºç±»å­˜åœ¨ï¼‰ æ˜ç¡®åŒºåˆ†ï¼ˆæ–¹æ³•ç»‘å®šåœ¨ç±»å‹ä¸Šï¼‰ ğŸ§© å››ã€å¯ç”¨åœºæ™¯å·®å¼‚ åœºæ™¯ Python (self) C# (this) å¼•ç”¨å®ä¾‹æˆå‘˜ self.name this.nameï¼ˆä¹Ÿå¯çœç•¥ï¼‰ åŒºåˆ†åŒåå˜é‡ self.name = nameï¼ˆæ‰‹åŠ¨ï¼‰ this.name = nameï¼ˆå¸¸ç”¨ï¼‰ é“¾å¼è°ƒç”¨ return self å¯å®ç° return this å¯å®ç° é™æ€æ–¹æ³• @staticmethod ä¸å¸¦ self static æ–¹æ³•ä¸èƒ½ç”¨ this ç±»æ–¹æ³• @classmethod ç”¨ clsï¼ˆç±»æœ¬èº«ï¼‰ æ²¡æœ‰ç±»ä¼¼çš„æœºåˆ¶ï¼ˆä½†å¯ç”¨æ³›å‹æˆ–åå°„å®ç°ï¼‰ ğŸ’¡ äº”ã€æ€»ç»“ä¸€å¥è¯ self æ˜¯ Python æ˜¾å¼ä¼ é€’çš„å®ä¾‹å¼•ç”¨ï¼› this æ˜¯ C# ç¼–è¯‘å™¨éšå¼æä¾›çš„å®ä¾‹å¼•ç”¨ã€‚\n","date":"2025-10-28T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/pyandcsharp/","title":"Python çš„ self å’Œ C# çš„ this"},{"content":" ğŸ§© ä¸€ã€å•ä¸ªæ˜Ÿå· * â€”â€” æ¥æ”¶ã€Œä»»æ„æ•°é‡çš„ä½ç½®å‚æ•°ã€ 1 2 def foo(*args): print(args) è°ƒç”¨ï¼š\n1 2 foo(1, 2, 3) # è¾“å‡º: (1, 2, 3) ğŸ“˜ å«ä¹‰ï¼š\n*args ä¼šæŠŠä¼ å…¥çš„å¤šä¸ªä½ç½®å‚æ•°æ‰“åŒ…æˆä¸€ä¸ªå…ƒç»„ (tuple)ï¼› åå­— args åªæ˜¯æƒ¯ä¾‹ï¼Œä½ å¯ä»¥å†™æˆä»»ä½•åå­—ï¼Œæ¯”å¦‚ *numbersã€‚ âœ… ç¤ºä¾‹ï¼š\n1 2 3 4 def add(*nums): return sum(nums) print(add(1, 2, 3, 4)) # 10 ğŸ§© äºŒã€ä¸¤ä¸ªæ˜Ÿå· ** â€”â€” æ¥æ”¶ã€Œä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ã€ 1 2 def foo(**kwargs): print(kwargs) è°ƒç”¨ï¼š\n1 2 foo(a=1, b=2, c=3) # è¾“å‡º: {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3} ğŸ“˜ å«ä¹‰ï¼š\n**kwargs ä¼šæŠŠæ‰€æœ‰çš„å…³é”®å­—å‚æ•°æ‰“åŒ…æˆä¸€ä¸ªå­—å…¸ dictï¼› åå­— kwargs ä¹Ÿæ˜¯æƒ¯ä¾‹ï¼Œå¯ä»¥æ¢æˆä»»æ„åˆæ³•æ ‡è¯†ç¬¦ã€‚ âœ… ç¤ºä¾‹ï¼š\n1 2 3 4 5 def print_info(**info): for k, v in info.items(): print(f\u0026#34;{k} = {v}\u0026#34;) print_info(name=\u0026#34;Alice\u0026#34;, age=25) ğŸ§© ä¸‰ã€å‡½æ•°å®šä¹‰ä¸­å•ç‹¬çš„ * â€”â€” é™åˆ¶åé¢å‚æ•°å¿…é¡»ç”¨å…³é”®å­—ä¼ é€’ 1 2 def foo(a, b, *, c, d): print(a, b, c, d) è°ƒç”¨ï¼š\n1 2 foo(1, 2, c=3, d=4) # âœ… æ­£ç¡® foo(1, 2, 3, 4) # âŒ é”™è¯¯ï¼šcã€d å¿…é¡»ç”¨å…³é”®å­—ä¼ é€’ ğŸ“˜ å«ä¹‰ï¼š\nå•ç‹¬ä¸€ä¸ª * è¡¨ç¤ºâ€œä»æ­¤å¤„å¼€å§‹çš„å‚æ•°å¿…é¡»ä½¿ç”¨å…³é”®å­—æŒ‡å®šâ€ï¼› å¸¸ç”¨äºæé«˜å‡½æ•°è°ƒç”¨çš„å¯è¯»æ€§å’Œå®‰å…¨æ€§ã€‚ âœ… ç¤ºä¾‹ï¼š\n1 2 3 4 5 def move(x, y, *, speed=1): print(f\u0026#34;Moving to ({x},{y}) at speed {speed}\u0026#34;) move(10, 20, speed=5) # âœ… move(10, 20, 5) # âŒ æŠ¥é”™ ğŸ§© å››ã€åœ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨ * / ** â€”â€” å‚æ•°ã€Œè§£åŒ…ã€ è¿™æ—¶ * / ** çš„ä½œç”¨æ˜¯ æŠŠåºåˆ—æˆ–å­—å…¸æ‹†åŒ…æˆå‚æ•°åˆ—è¡¨ã€‚\nç¤ºä¾‹ 1ï¼šè§£åŒ…åˆ—è¡¨æˆ–å…ƒç»„ 1 2 3 4 5 def add(a, b, c): print(a + b + c) nums = [1, 2, 3] add(*nums) # ç­‰ä»·äº add(1, 2, 3) ç¤ºä¾‹ 2ï¼šè§£åŒ…å­—å…¸ 1 2 3 4 5 def print_person(name, age): print(name, age) person = {\u0026#34;name\u0026#34;: \u0026#34;Alice\u0026#34;, \u0026#34;age\u0026#34;: 25} print_person(**person) # ç­‰ä»·äº print_person(name=\u0026#34;Alice\u0026#34;, age=25) ğŸ§© äº”ã€æ€»ç»“å¯¹æ¯”è¡¨ å½¢å¼ å®šä¹‰ä¸­å«ä¹‰ è°ƒç”¨ä¸­å«ä¹‰ *args æ”¶é›†å¤šä¸ªä½ç½®å‚æ•°ä¸ºå…ƒç»„ è§£åŒ…åºåˆ—ä¸ºå¤šä¸ªä½ç½®å‚æ•° **kwargs æ”¶é›†å¤šä¸ªå…³é”®å­—å‚æ•°ä¸ºå­—å…¸ è§£åŒ…å­—å…¸ä¸ºå¤šä¸ªå…³é”®å­—å‚æ•° å•ç‹¬ * é™åˆ¶åç»­å‚æ•°å¿…é¡»ç”¨å…³é”®å­— â€”â€”ï¼ˆä¸èƒ½å•ç‹¬åœ¨è°ƒç”¨ä¸­ä½¿ç”¨ï¼‰ âœ… ä¸€å¥è¯æ€»ç»“ï¼š\n* â†’ æ‰“åŒ…æˆ–è§£åŒ…â€œä½ç½®å‚æ•°â€ï¼› ** â†’ æ‰“åŒ…æˆ–è§£åŒ…â€œå…³é”®å­—å‚æ•°â€ï¼› å•ç‹¬çš„ * â†’ æ ‡è¯†â€œåé¢å‚æ•°å¿…é¡»ç”¨å…³é”®å­—ä¼ å…¥â€ã€‚\n","date":"2025-10-28T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/xinghaoinpy/","title":"Pythonä¸­*"},{"content":"\nç®€ä»‹ ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰ æ˜¯ ASP.NET Core çš„æ ¸å¿ƒç»„ä»¶ï¼Œç”¨äºå¤„ç† HTTP è¯·æ±‚å’Œå“åº”çš„ç®¡é“æœºåˆ¶ã€‚å®ƒæ˜¯åŸºäºç®¡é“æ¨¡å‹çš„è½»é‡çº§ã€æ¨¡å—åŒ–è®¾è®¡ï¼Œå…è®¸å¼€å‘è€…åœ¨è¯·æ±‚å¤„ç†è¿‡ç¨‹ä¸­æ’å…¥è‡ªå®šä¹‰é€»è¾‘ã€‚ä¸­é—´ä»¶å¹¿æ³›åº”ç”¨äºæ—¥å¿—è®°å½•ã€è®¤è¯æˆæƒã€å¼‚å¸¸å¤„ç†ã€è·¯ç”±ç­‰åœºæ™¯ã€‚\nå®šä¹‰ï¼šä¸­é—´ä»¶æ˜¯å¤„ç† HTTP è¯·æ±‚å’Œå“åº”çš„ç»„ä»¶ï¼Œä½äºæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åˆ°æœ€ç»ˆè¿”å›å“åº”ä¹‹é—´çš„â€œç®¡é“â€ä¸­ã€‚ ä½œç”¨ï¼šå¯ç”¨äºèº«ä»½è®¤è¯ã€æˆæƒã€æ—¥å¿—ã€é™æ€æ–‡ä»¶ã€å¼‚å¸¸å¤„ç†ã€CORSã€å‹ç¼©ã€è·¯ç”±ç­‰æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚ èŒè´£é“¾ï¼šè¯·æ±‚ä¾æ¬¡ç»è¿‡æ¯ä¸ªä¸­é—´ä»¶ï¼Œæ‰§è¡Œâ€œå‰ç½®é€»è¾‘â€â†’è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶â†’æ‰§è¡Œâ€œåç½®é€»è¾‘â€ï¼Œæœ€ç»ˆå½¢æˆè´£ä»»é“¾ã€‚ è¯·æ±‚ç®¡é“ï¼ˆRequest Pipelineï¼‰ æ„å»ºï¼šåœ¨ Startup.Configure(IApplicationBuilder app) ä¸­ï¼Œé€šè¿‡ app.UseXXX()ã€app.Run() ç­‰æ–¹æ³•ï¼ŒæŒ‰æ³¨å†Œé¡ºåºæ„å»ºä¸€æ¡ RequestDelegate é“¾ã€‚ æ‰§è¡Œï¼šæ¡†æ¶åœ¨æ”¶åˆ° HTTP è¯·æ±‚æ—¶ï¼Œä»ç®¡é“å¤´éƒ¨ï¼ˆç¬¬ä¸€ä¸ªä¸­é—´ä»¶ï¼‰å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°æ‰¾åˆ°ç»ˆç»“ç‚¹ï¼ˆUseEndpoints/Runï¼‰æˆ–ç®¡é“ç»“æŸã€‚ çŸ­è·¯ï¼šä¸­é—´ä»¶å¯ä»¥é€‰æ‹©ä¸è°ƒç”¨ next()ï¼Œç›´æ¥ç”Ÿæˆå“åº”ï¼Œé˜»æ–­åç»­ä¸­é—´ä»¶ã€‚ è¯·æ±‚æµç¨‹ï¼šClient â†’ Middleware1 â†’ Middleware2 â†’ \u0026hellip; â†’ Endpoint å“åº”æµç¨‹ï¼šEndpoint â†’ \u0026hellip; â†’ Middleware2 â†’ Middleware1 â†’ Client 1 2 3 HTTP â†’ [Middleware A] â†’ [Middleware B] â†’ [Middleware C] â†’ Response â†‘ â†“ å‰ç½®é€»è¾‘ A åç½®é€»è¾‘ B è¯·æ±‚å§”æ‰˜ï¼ˆRequestDelegateï¼‰ æ¯ä¸ªä¸­é—´ä»¶é€šè¿‡ RequestDelegate å°è£…å¤„ç†é€»è¾‘ï¼Œæ¥æ”¶ HttpContext å¹¶å¼‚æ­¥æ‰§è¡Œæ“ä½œ\n1 2 3 4 5 6 public async Task InvokeAsync(HttpContext context, RequestDelegate next) { // é¢„å¤„ç†è¯·æ±‚ await next(context); // è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ // åå¤„ç†å“åº” } çŸ­è·¯ï¼ˆShort-Circuitingï¼‰ ä¸­é—´ä»¶å¯é€šè¿‡ä¸è°ƒç”¨ next() ç»ˆæ­¢ç®¡é“ï¼Œç›´æ¥è¿”å›å“åº”ï¼ˆå¦‚é™æ€æ–‡ä»¶ä¸­é—´ä»¶æ‰¾åˆ°æ–‡ä»¶æ—¶ï¼‰\nä¸­é—´ä»¶çš„æ³¨å†Œä¸ç±»å‹ æ³¨å†Œæ–¹å¼ é€šè¿‡ IApplicationBuilder åœ¨ Program.cs æˆ– Startup.Configure ä¸­æ³¨å†Œï¼Œé¡ºåºå†³å®šæ‰§è¡Œä¼˜å…ˆçº§\næ–¹æ³• æ–¹æ³• ç¤ºä¾‹ Use æ·»åŠ å¯è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶çš„ç»„ä»¶ app.Use(async (ctx, next) =\u0026gt; { ... await next(); ... }) Run æ·»åŠ ç»ˆç«¯ä¸­é—´ä»¶ï¼ˆå¼ºåˆ¶çŸ­è·¯ï¼‰ app.Run(ctx =\u0026gt; ctx.Response.WriteAsync(\u0026quot;End\u0026quot;)) Map æ ¹æ®è·¯å¾„åˆ†æ”¯ç®¡é“ app.Map(\u0026quot;/admin\u0026quot;, branch =\u0026gt; { ... }) MapWhen æŒ‰æ¡ä»¶åˆ†æ”¯ç®¡é“ app.MapWhen(ctx =\u0026gt; ctx.Request.Query.ContainsKey(\u0026quot;log\u0026quot;), branch =\u0026gt; ...) ç”Ÿå‘½å‘¨æœŸç®¡ç† å•ä¾‹æ„é€ ï¼šä¸­é—´ä»¶ç±»åœ¨åº”ç”¨å¯åŠ¨æ—¶å®ä¾‹åŒ–ï¼ˆæ„é€ å‡½æ•°ä»…æ‰§è¡Œä¸€æ¬¡ï¼‰ æŒ‰è¯·æ±‚æ‰§è¡Œï¼šInvoke æˆ– InvokeAsync æ–¹æ³•å¯¹æ¯ä¸ªè¯·æ±‚è°ƒç”¨ä¸€æ¬¡ è‡ªå®šä¹‰ä¸­é—´ä»¶å®ç° åŸºæœ¬æ¨¡æ¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public class MyMiddleware { private readonly RequestDelegate _next; public MyMiddleware(RequestDelegate next) { _next = next; } public async Task InvokeAsync(HttpContext context) { // å‰ç½®é€»è¾‘ // e.g. æ—¥å¿—ï¼šConsole.WriteLine(\u0026#34;Request start: \u0026#34; + context.Request.Path); await _next(context); // è°ƒç”¨ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ // åç½®é€»è¾‘ // e.g. æ—¥å¿—ï¼šConsole.WriteLine(\u0026#34;Request end: \u0026#34; + context.Response.StatusCode); } } æ‰©å±•æ–¹æ³• 1 2 3 4 5 6 7 public static class MyMiddlewareExtensions { public static IApplicationBuilder UseMyMiddleware(this IApplicationBuilder app) { return app.UseMiddleware\u0026lt;MyMiddleware\u0026gt;(); } } åœ¨ Startup.Configure æˆ– Program ä¸­è°ƒç”¨ï¼š\n1 app.UseMyMiddleware(); å†…ç½®ä¸­é—´ä»¶æ¦‚è§ˆ ä¸­é—´ä»¶ åŠŸèƒ½ UseRouting / UseEndpoints è·¯ç”±åŒ¹é…ä¸ç»ˆç»“ç‚¹æ‰§è¡Œ UseStaticFiles æä¾›é™æ€æ–‡ä»¶æœåŠ¡ UseAuthentication éªŒè¯ç”¨æˆ·èº«ä»½ UseAuthorization æˆæƒç­–ç•¥æ£€æŸ¥ UseCors è·¨åŸŸè¯·æ±‚æ”¯æŒ UseResponseCompression å“åº”å†…å®¹å‹ç¼© UseSession ä¼šè¯çŠ¶æ€ç®¡ç† UseExceptionHandler / UseDeveloperExceptionPage å…¨å±€å¼‚å¸¸æ•è·ä¸å¼€å‘ç¯å¢ƒé”™è¯¯é¡µ UseHttpsRedirection HTTP è‡ªåŠ¨é‡å®šå‘åˆ° HTTPS UseForwardedHeaders X-Forwarded-For / X-Forwarded-Proto å¤„ç† å…¸å‹çš„æ³¨å†Œé¡ºåºï¼š\n1 2 3 4 5 6 7 8 9 app.UseExceptionHandler(\u0026#34;/Error\u0026#34;); // å¼‚å¸¸å¤„ç†ï¼ˆæœ€å…ˆï¼‰ app.UseHttpsRedirection(); // HTTPS é‡å®šå‘ app.UseStaticFiles(); // é™æ€æ–‡ä»¶ app.UseRouting(); // è·¯ç”± app.UseAuthentication(); // è®¤è¯ app.UseAuthorization(); // æˆæƒ app.UseEndpoints(endpoints =\u0026gt; { // ç«¯ç‚¹å¤„ç†ï¼ˆæœ€åï¼‰ endpoints.MapControllers(); }); æ³¨å†Œé¡ºåºä¸æ³¨æ„äº‹é¡¹ å¼‚å¸¸å¤„ç†ï¼š\nUseDeveloperExceptionPageï¼ˆå¼€å‘ç¯å¢ƒï¼‰æˆ– UseExceptionHandler åº”æ”¾åœ¨æœ€å‰é¢ï¼Œæ•è·åç»­æ‰€æœ‰å¼‚å¸¸ã€‚ HTTPS é‡å®šå‘ï¼š\nUseHttpsRedirection éœ€åœ¨è·¯ç”±ã€é™æ€æ–‡ä»¶ä¹‹å‰ã€‚ é™æ€æ–‡ä»¶ï¼š\nè‹¥ç«™ç‚¹é™æ€èµ„æºè¾ƒå¤šï¼Œåº”å°½æ—©è°ƒç”¨ UseStaticFilesï¼Œé¿å…æ— è°“è·¯ç”±åŒ¹é…ã€‚ è·¯ç”±ä¸ç»ˆç»“ç‚¹ï¼š\nå¿…é¡»åœ¨ UseRouting åè°ƒç”¨ UseAuthentication/UseAuthorizationï¼Œå†è°ƒç”¨ UseEndpointsã€‚ ç¤ºä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 public void Configure(IApplicationBuilder app, IWebHostEnvironment env) { if (env.IsDevelopment()) app.UseDeveloperExceptionPage(); else app.UseExceptionHandler(\u0026#34;/Home/Error\u0026#34;); app.UseHttpsRedirection(); app.UseStaticFiles(); app.UseRouting(); app.UseAuthentication(); app.UseAuthorization(); app.UseEndpoints(endpoints =\u0026gt; { endpoints.MapControllers(); endpoints.MapRazorPages(); }); } ç»ˆç»“ç‚¹ä¸åˆ†æ”¯ ç»ˆç»“ç‚¹ï¼ˆEndpointï¼‰ï¼šUseEndpoints ä¸­æ³¨å†Œå…·ä½“çš„è¯·æ±‚å¤„ç†ï¼Œå¦‚ MVC æ§åˆ¶å™¨ã€Razor é¡µé¢ã€SignalRã€gRPCã€‚\nåˆ†æ”¯ç®¡é“ï¼šapp.Map(\u0026quot;/path\u0026quot;, branch =\u0026gt; { /* branch.UseXXX() */ });\næ ¹æ®è·¯å¾„æˆ–æ¡ä»¶ï¼Œå°†è¯·æ±‚â€œåˆ†æµâ€åˆ°ä¸åŒçš„å­ç®¡é“ã€‚ 1 2 3 4 5 6 app.Map(\u0026#34;/api\u0026#34;, apiApp =\u0026gt; { apiApp.UseRouting(); apiApp.UseAuthorization(); apiApp.UseEndpoints(endpoints =\u0026gt; endpoints.MapControllers()); }); è¿›é˜¶ç”¨æ³• æ¡ä»¶æ‰§è¡Œ 1 2 3 4 app.UseWhen(ctx =\u0026gt; ctx.Request.Path.StartsWithSegments(\u0026#34;/mobile\u0026#34;), mobileApp =\u0026gt; { mobileApp.UseMiddleware\u0026lt;MobileSpecificMiddleware\u0026gt;(); }); ä¸­é—´ä»¶çŸ­è·¯ 1 2 3 4 5 6 7 8 9 10 11 app.Use(async (ctx, next) =\u0026gt; { if (ctx.Request.Path == \u0026#34;/health\u0026#34;) { ctx.Response.StatusCode = 200; await ctx.Response.WriteAsync(\u0026#34;OK\u0026#34;); return; // ä¸è°ƒç”¨ nextï¼Œç›´æ¥è¿”å› } await next(); }); æ•è·å¹¶å¤„ç†å¼‚å¸¸ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public class ErrorHandlingMiddleware { private readonly RequestDelegate _next; public ErrorHandlingMiddleware(RequestDelegate next) =\u0026gt; _next = next; public async Task InvokeAsync(HttpContext ctx) { try { await _next(ctx); } catch (Exception ex) { ctx.Response.StatusCode = 500; await ctx.Response.WriteAsync(\u0026#34;Internal Server Error\u0026#34;); // TODO: æ—¥å¿—è®°å½• ex } } } åˆ†æ”¯ä¸­é—´ä»¶ï¼ˆMap/MapWhenï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 // åŸºäºè·¯å¾„åˆ†æ”¯ app.Map(\u0026#34;/api\u0026#34;, apiApp =\u0026gt; { apiApp.UseAuthentication(); apiApp.UseEndpoints(endpoints =\u0026gt; { endpoints.MapControllers(); }); }); // åŸºäºæ¡ä»¶åˆ†æ”¯ app.MapWhen(context =\u0026gt; context.Request.Query.ContainsKey(\u0026#34;debug\u0026#34;), debugApp =\u0026gt; { debugApp.UseMiddleware\u0026lt;DebugLoggingMiddleware\u0026gt;(); }); ç»ˆç»“ç‚¹ä¸­é—´ä»¶ï¼ˆRunï¼‰ 1 2 3 4 // ç›´æ¥ç»ˆæ­¢è¯·æ±‚ç®¡é“ï¼Œä¸è°ƒç”¨åç»­ä¸­é—´ä»¶ app.Run(async context =\u0026gt; { await context.Response.WriteAsync(\u0026#34;Hello from terminal middleware!\u0026#34;); }); ä¸­é—´ä»¶ä¸ä¾èµ–æ³¨å…¥ä¸€ åœ¨ä¸­é—´ä»¶ä¸­ä½¿ç”¨æœåŠ¡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public class AuthenticationMiddleware { private readonly RequestDelegate _next; private readonly IAuthService _authService; public AuthenticationMiddleware(RequestDelegate next, IAuthService authService) { _next = next; _authService = authService; } public async Task InvokeAsync(HttpContext context) { var token = context.Request.Headers[\u0026#34;Authorization\u0026#34;]; var user = await _authService.ValidateToken(token); context.User = user; await _next(context); } } ä½œç”¨åŸŸæœåŠ¡æ³¨å…¥ 1 2 3 4 5 6 7 8 9 public async Task InvokeAsync(HttpContext context) { // æ‰‹åŠ¨è§£æä½œç”¨åŸŸæœåŠ¡ using (var scope = context.RequestServices.CreateScope()) { var scopedService = scope.ServiceProvider.GetRequiredService\u0026lt;IScopedService\u0026gt;(); await scopedService.ProcessRequest(context); } await _next(context); } å¸¦é…ç½®çš„ä¸­é—´ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public class CustomHeaderMiddleware { private readonly RequestDelegate _next; private readonly string _headerValue; public CustomHeaderMiddleware( RequestDelegate next, string headerValue) // é…ç½®å‚æ•° { _next = next; _headerValue = headerValue; } public async Task Invoke(HttpContext context) { context.Response.Headers[\u0026#34;X-Custom\u0026#34;] = _headerValue; await _next(context); } } // æ³¨å†Œæ—¶ä¼ é€’é…ç½® app.UseMiddleware\u0026lt;CustomHeaderMiddleware\u0026gt;(\u0026#34;MyValue\u0026#34;); ä¸­é—´ä»¶å·¥å‚ (IMiddlewareFactory) 1 2 3 4 5 6 7 8 9 10 11 12 public class CustomMiddlewareFactory : IMiddlewareFactory { public IMiddleware Create(Type middlewareType) { return ActivatorUtilities.CreateInstance(_serviceProvider, middlewareType) as IMiddleware; } public void Release(IMiddleware middleware) =\u0026gt; (middleware as IDisposable)?.Dispose(); } // æ³¨å†Œå·¥å‚ builder.Services.AddSingleton\u0026lt;IMiddlewareFactory, CustomMiddlewareFactory\u0026gt;(); ä¸­é—´ä»¶ä¾èµ–æ³¨å…¥äºŒ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 public class MyMiddleware { private readonly RequestDelegate _next; private readonly IUserService _userService; public MyMiddleware(RequestDelegate next, IUserService userService) { _next = next; _userService = userService; } public async Task InvokeAsync(HttpContext context) { var userName = _userService.GetUserName(1); await context.Response.WriteAsync($\u0026#34;User: {userName}\u0026#34;); await _next(context); } } public static class MyMiddlewareExtensions { public static IApplicationBuilder UseMyMiddleware(this IApplicationBuilder builder) { return builder.UseMiddleware\u0026lt;MyMiddleware\u0026gt;(); } } // æ³¨å†ŒæœåŠ¡ builder.Services.AddScoped\u0026lt;IUserService, UserService\u0026gt;(); app.UseMyMiddleware(); å†…ç½®ä¸­é—´ä»¶ å†…ç½®ä¸­é—´ä»¶ 1 2 3 4 5 6 7 8 app.UseRouting(); // è·¯ç”±åŒ¹é… app.UseEndpoints(endpoints =\u0026gt; { endpoints.MapControllers(); // APIæ§åˆ¶å™¨ endpoints.MapRazorPages(); // Razoré¡µé¢ endpoints.MapHub\u0026lt;ChatHub\u0026gt;(\u0026#34;/chat\u0026#34;); // SignalR }); å¼‚å¸¸å¤„ç†ä¸­é—´ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 app.UseExceptionHandler(errorApp =\u0026gt; { errorApp.Run(async context =\u0026gt; { var exceptionHandler = context.Features.Get\u0026lt;IExceptionHandlerFeature\u0026gt;(); // è®°å½•å¼‚å¸¸ await context.Response.WriteAsJsonAsync(new { Error = exceptionHandler.Error.Message }); }); }); é™æ€æ–‡ä»¶ä¸­é—´ä»¶ 1 2 3 4 5 6 7 8 9 10 app.UseStaticFiles(new StaticFileOptions { FileProvider = new PhysicalFileProvider( Path.Combine(builder.Environment.ContentRootPath, \u0026#34;Assets\u0026#34;)), RequestPath = \u0026#34;/static\u0026#34;, OnPrepareResponse = ctx =\u0026gt; { ctx.Context.Response.Headers.Append(\u0026#34;Cache-Control\u0026#34;, \u0026#34;public,max-age=3600\u0026#34;); } }); ","date":"2025-10-27T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/middleware/","title":"C#.NET ä¸­é—´ä»¶è¯¦è§£"},{"content":"åœ¨ä½¿ç”¨ RestSharp æ—¶ï¼Œå¾ˆå¤šäººä¼šé‡åˆ°ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼šåºåˆ—åŒ–æˆ JSON æ—¶å­—æ®µçš„å¤§å°å†™è¢«æ”¹å˜ï¼ˆæ¯”å¦‚å±æ€§åå˜æˆå°å†™æˆ– camelCaseï¼‰ã€‚è¿™é€šå¸¸ä¸ RestSharp é»˜è®¤ä½¿ç”¨çš„ JSON åºåˆ—åŒ–å™¨ï¼ˆSystem.Text.Json æˆ– Newtonsoft.Jsonï¼‰ æœ‰å…³ã€‚\nåºåˆ—åŒ–å™¨ é»˜è®¤å±æ€§å‘½åç­–ç•¥ ç»“æœç¤ºä¾‹ è¯´æ˜ å…³é—­å¤§å°å†™å˜åŒ–çš„æ–¹æ³• System.Text.Json (.NET Core 3+ é»˜è®¤) âœ… camelCaseï¼ˆé¦–å­—æ¯å°å†™ï¼‰ UserName â†’ userName æ›´ç¬¦åˆå‰ç«¯ JavaScript ä¹ æƒ¯ options.PropertyNamingPolicy = null Newtonsoft.Json (Json.NET) âŒ ä¿ç•™åŸæœ‰å¤§å°å†™ UserName â†’ UserName æ›´ä¼ ç»Ÿï¼Œæ›´é€‚åˆåç«¯ç³»ç»Ÿé—´é€šä¿¡ ContractResolver = new DefaultContractResolver() ","date":"2025-10-11T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/serializationinrestsharp/","title":"System.Text.Json å’Œ Newtonsoft.Json é»˜è®¤åºåˆ—åŒ–æ—¶çš„å¤§å°å†™è¡Œä¸ºå·®å¼‚"},{"content":"ğŸ“Œ å¼•è¨€ï¼šasync/await å¾ˆå¼ºå¤§ï¼Œä½†ä¹Ÿå¾ˆå®¹æ˜“ç”¨é”™ï¼ åœ¨ .NET ä¸­ä½¿ç”¨ async å’Œ await è¿›è¡Œå¼‚æ­¥ç¼–ç¨‹ï¼Œç¡®å®è®©ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´ã€é€»è¾‘æ›´æ¸…æ™°ã€‚ä½†æ­£å› ä¸ºå†™èµ·æ¥å¤ªâ€œé¡ºæ‰‹â€ï¼Œå¾ˆå¤šå¼€å‘è€…ï¼ˆåŒ…æ‹¬æˆ‘è‡ªå·±ï¼‰éƒ½æ›¾ä¸å°å¿ƒæ‰è¿›è¿‡å„ç§â€œå‘â€é‡Œã€‚\næ¯”å¦‚ç¨‹åºå¡æ­»ã€æ€§èƒ½ä¸‹é™ã€å¼‚å¸¸ä¸¢å¤±ã€èµ„æºè€—å°½â€¦â€¦è¿™äº›é—®é¢˜å¾€å¾€ä¸æ˜¯è¯­æ³•é”™è¯¯é€ æˆçš„ï¼Œè€Œæ˜¯å¯¹å¼‚æ­¥æœºåˆ¶çš„ç†è§£ä¸åˆ°ä½ã€‚\nä»Šå¤©æˆ‘å°±æ¥æ€»ç»“ä¸€ä¸‹ï¼Œ.NET å¼€å‘è€…æœ€å®¹æ˜“çŠ¯çš„ 6 ä¸ª async/await ä½¿ç”¨é”™è¯¯ï¼Œå¹¶å‘Šè¯‰ä½ æ­£ç¡®çš„åšæ³•æ˜¯ä»€ä¹ˆã€‚å¸Œæœ›ä½ çœ‹äº†ä¹‹åèƒ½å°‘èµ°å¼¯è·¯ï¼Œå†™å‡ºçœŸæ­£é«˜æ•ˆåˆç¨³å®šçš„å¼‚æ­¥ä»£ç ã€‚\nğŸ”¥ å¸¸è§é”™è¯¯ä¸€ï¼šç”¨äº† .Result æˆ– .Wait() é˜»å¡å¼‚æ­¥æ–¹æ³• âŒ é”™è¯¯ç¤ºä¾‹ï¼š 1 var result = GetDataAsync().Result; æˆ–è€…ï¼š\n1 GetDataAsync().Wait(); âš ï¸ ä¸ºä»€ä¹ˆæœ‰é—®é¢˜ï¼Ÿ è¿™çœ‹ä¼¼åªæ˜¯ç­‰ä¸€ä¸ªç»“æœï¼Œä½†åœ¨æŸäº›ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼ˆæ¯”å¦‚ UI çº¿ç¨‹æˆ– ASP.NET è¯·æ±‚çº¿ç¨‹ï¼‰ï¼Œè¿™æ ·åšä¼šå¯¼è‡´æ­»é”ï¼\nåŸå› åœ¨äºï¼š\nawait é»˜è®¤ä¼šå°è¯•å›åˆ°åŸæ¥çš„ä¸Šä¸‹æ–‡çº¿ç¨‹å»ç»§ç»­æ‰§è¡Œã€‚ å¦‚æœä¸»çº¿ç¨‹è¢« .Result æˆ– .Wait() é˜»å¡äº†ï¼Œå°±æ²¡äººå»é‡Šæ”¾å®ƒï¼Œå¯¼è‡´æ­»å¾ªç¯ã€‚ âœ… æ­£ç¡®åšæ³•ï¼š å¦‚æœå½“å‰æ–¹æ³•æ”¯æŒå¼‚æ­¥ï¼Œå°±æŠŠå®ƒä¹Ÿæ ‡è®°ä¸º asyncï¼Œç„¶åç”¨ awaitï¼š\n1 var result = await GetDataAsync(); ğŸ’¡ å°è´´å£«ï¼š â˜…\nåœ¨ ASP.NET Coreã€WPFã€WinFormsã€Blazor Server è¿™ç±»æ¡†æ¶ä¸­ï¼Œä¸€å®šè¦é¿å…ä½¿ç”¨ .Result æˆ– .Wait()ï¼Œå¦åˆ™å¾ˆå®¹æ˜“å¼•å‘æ­»é”é—®é¢˜ã€‚\nğŸ”¥ å¸¸è§é”™è¯¯äºŒï¼šå†™äº† async æ–¹æ³•ï¼Œå´æ²¡ç”¨ await âŒ é”™è¯¯ç¤ºä¾‹ï¼š 1 2 3 4 public async Task DoWorkAsync() { Task.Delay(1000); // å•¥ä¹Ÿæ²¡å¹² } âš ï¸ æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ è¿™ä¸ªæ–¹æ³•è™½ç„¶åŠ äº† asyncï¼Œä½†æ²¡æœ‰ç”¨ awaitï¼Œæ‰€ä»¥å®ƒå…¶å®æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼Œåªä¸è¿‡å¤šäº†ä¸€ä¸ªçŠ¶æ€æœºåŒ…è£…è€Œå·²ã€‚\næ›´ç³Ÿçš„æ˜¯ï¼Œç¼–è¯‘å™¨å¹¶ä¸ä¼šæŠ¥é”™ï¼Œä½ å¯èƒ½è¿˜ä»¥ä¸ºè‡ªå·±å†™äº†ä¸ªå¼‚æ­¥æ–¹æ³•ã€‚\nâœ… æ­£ç¡®åšæ³•ï¼š è¦ç”¨ await æ‰èƒ½çœŸæ­£è¿›å…¥å¼‚æ­¥æµç¨‹ï¼š\n1 2 3 4 public async Task DoWorkAsync() { await Task.Delay(1000); } ğŸ’¡ å°è´´å£«ï¼š â˜…\næ¯ä¸€ä¸ª async æ–¹æ³•éƒ½åº”è¯¥è‡³å°‘æœ‰ä¸€ä¸ª awaitï¼›å¦‚æœæ²¡æœ‰ï¼Œé‚£å°±ä¸åº”è¯¥åŠ  asyncã€‚\nğŸ”¥ å¸¸è§é”™è¯¯ä¸‰ï¼šä½¿ç”¨ async voidï¼ˆé™¤äº†äº‹ä»¶å¤„ç†ï¼‰ âŒ é”™è¯¯ç¤ºä¾‹ï¼š 1 2 3 4 public async void SaveDataAsync() { await Task.Delay(500); } âš ï¸ ä¸ºä»€ä¹ˆå±é™©ï¼Ÿ async void æ–¹æ³•å°±åƒâ€œå¹½çµâ€ä¸€æ ·ï¼Œä½ æ— æ³•ç­‰å¾…å®ƒå®Œæˆï¼Œä¹Ÿæ— æ³•æ•è·å®ƒçš„å¼‚å¸¸ã€‚\nä¸€æ—¦æŠ›å‡ºå¼‚å¸¸ï¼Œå°±ä¼šç›´æ¥å´©æºƒæ•´ä¸ªåº”ç”¨ç¨‹åº â€”â€” å³ä½¿ä½ åœ¨å¤–é¢å†™äº† try-catch ä¹Ÿæ²¡ç”¨ï¼\nâœ… æ­£ç¡®åšæ³•ï¼š é™¤éæ˜¯äº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆæ¯”å¦‚æŒ‰é’®ç‚¹å‡»ï¼‰ï¼Œå¦åˆ™ä¸€å¾‹è¿”å› Taskï¼š\n1 2 3 4 public async Task SaveDataAsync() { await Task.Delay(500); } è¿™æ ·å°±å¯ä»¥è¢« await è°ƒç”¨ï¼Œå¹¶ä¸”èƒ½æ­£ç¡®å¤„ç†å¼‚å¸¸ã€‚\nğŸ’¡ å°è´´å£«ï¼š â˜…\né™¤äº†äº‹ä»¶å¤„ç†å™¨ï¼Œæ°¸è¿œä¸è¦å†™ async void æ–¹æ³•ã€‚å®ƒå°±åƒæ˜¯â€œè£¸å¥”â€çš„å¼‚æ­¥æ–¹æ³•ï¼Œéå¸¸ä¸å®‰å…¨ã€‚\nğŸ”¥ å¸¸è§é”™è¯¯å››ï¼šæ˜æ˜ä¸éœ€è¦å¼‚æ­¥ï¼Œå´è¿˜åŠ  async âŒ é”™è¯¯ç¤ºä¾‹ï¼š 1 2 3 4 public async Task\u0026lt;int\u0026gt; GetNumberAsync() { return 42; } âš ï¸ æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ è¿™ä¸ªæ–¹æ³•æ ¹æœ¬æ²¡æœ‰åšä»»ä½•å¼‚æ­¥æ“ä½œï¼Œä½†å´åŠ äº† async å…³é”®å­—ï¼Œç™½ç™½å¼•å…¥äº†çŠ¶æ€æœºï¼Œå¢åŠ äº†æ€§èƒ½å¼€é”€ã€‚\nè¿™ä¸æ˜¯â€œä¸ºäº†å¼‚æ­¥è€Œå¼‚æ­¥â€ï¼Œè€Œæ˜¯â€œä¸ºäº†è£…æ ·å­è€Œå¼‚æ­¥â€ã€‚\nâœ… æ­£ç¡®åšæ³•ï¼š å¦‚æœä½ çš„æ–¹æ³•å°±æ˜¯åŒæ­¥è¿”å›æ•°æ®ï¼Œé‚£å°±ä¸è¦ç”¨ asyncï¼Œç›´æ¥è¿”å›å·²å®Œæˆçš„ Taskï¼š\n1 2 3 4 public Task\u0026lt;int\u0026gt; GetNumberAsync() { return Task.FromResult(42); } ğŸ’¡ å°è´´å£«ï¼š â˜…\nåªæœ‰å½“ä½ çœŸçš„åœ¨è°ƒç”¨ I/Oã€æ•°æ®åº“ã€ç½‘ç»œè¯·æ±‚ç­‰å¼‚æ­¥æ“ä½œæ—¶ï¼Œæ‰éœ€è¦ç”¨ async/awaitï¼Œå¦åˆ™å°±åˆ«æ»¥ç”¨ã€‚\nğŸ”¥ å¸¸è§é”™è¯¯äº”ï¼šæ¯æ¬¡è°ƒç”¨éƒ½ new HttpClient âŒ é”™è¯¯ç¤ºä¾‹ï¼š 1 2 3 4 5 public async Task\u0026lt;string\u0026gt; GetData() { using var client = new HttpClient(); // æ¯æ¬¡éƒ½æ–°å»ºä¸€ä¸ª return await client.GetStringAsync(\u0026#34;https://api.example.com/data\u0026#34;); } âš ï¸ æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ æ¯æ¬¡åˆ›å»º HttpClient å®é™…ä¸Šéƒ½ä¼šæ‰“å¼€ä¸€ä¸ªæ–°çš„ TCP è¿æ¥ï¼Œè€Œä¸”å…³é—­åä¸ä¼šç«‹åˆ»é‡Šæ”¾ç«¯å£ï¼Œå®¹æ˜“é€ æˆç«¯å£è€—å°½ï¼ˆSocket Exhaustionï¼‰ã€‚\nå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œè¿™ç§å†™æ³•å¯èƒ½ä¼šè®©ä½ çš„åº”ç”¨çªç„¶â€œæŒ‚æ‰â€ã€‚\nâœ… æ­£ç¡®åšæ³•ï¼š æŠŠ HttpClient å½“ä½œå…±äº«èµ„æºæ¥ä½¿ç”¨ï¼Œæ¨èé€šè¿‡ä¾èµ–æ³¨å…¥çš„æ–¹å¼è·å–ï¼š\n1 2 3 4 5 6 7 8 9 10 11 private readonly HttpClient _httpClient; public MyService(HttpClient httpClient) { _httpClient = httpClient; } public async Task\u0026lt;string\u0026gt; GetData() { return await _httpClient.GetStringAsync(\u0026#34;https://api.example.com/data\u0026#34;); } è¿™æ ·ä¸ä»…å¤ç”¨äº†è¿æ¥ï¼Œè¿˜èƒ½æ›´å¥½åœ°æ§åˆ¶ç”Ÿå‘½å‘¨æœŸã€‚\nğŸ’¡ å°è´´å£«ï¼š â˜…\nHttpClient æ˜¯è®¾è®¡ç”¨æ¥é•¿æœŸä½¿ç”¨çš„ï¼Œé¢‘ç¹ new å®ƒæ˜¯ä¸€ç§â€œåæ¨¡å¼â€ã€‚å»ºè®®é…åˆ IHttpClientFactory æˆ–æœåŠ¡æ³¨å…¥ä¸€èµ·ä½¿ç”¨ã€‚\nğŸ”¥ å¸¸è§é”™è¯¯å…­ï¼šå¿½ç•¥ ConfigureAwait(false)ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡æ•è·å¼•å‘æ­»é” âŒ é”™è¯¯ç¤ºä¾‹ï¼š 1 2 3 4 5 // é»˜è®¤æ•è·å½“å‰ä¸Šä¸‹æ–‡ï¼Œå¯èƒ½å¯¼è‡´çº¿ç¨‹é˜»å¡ public async Task DoWorkAsync() { await SomeIoOperationAsync(); // é»˜è®¤ä¼šå°è¯•å›åˆ°åŸå§‹ä¸Šä¸‹æ–‡ } âš ï¸ æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ åœ¨å¾ˆå¤šå¼‚æ­¥åº“æˆ–æ¡†æ¶ä¸­ï¼ˆå¦‚ ASP.NET æˆ– WPFï¼‰ï¼Œawait é»˜è®¤ä¼šå°è¯•æ•è·å½“å‰çš„åŒæ­¥ä¸Šä¸‹æ–‡ï¼ˆSynchronization Contextï¼‰ï¼Œå¹¶åœ¨ä»»åŠ¡å®Œæˆåå›åˆ°è¿™ä¸ªä¸Šä¸‹æ–‡ç»§ç»­æ‰§è¡Œåç»­ä»£ç ã€‚\nè¿™åœ¨ UI åº”ç”¨ä¸­æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä½†åœ¨é UI å±‚ï¼ˆå¦‚ç±»åº“ã€æœåŠ¡å±‚ï¼‰ä¸­ï¼Œè¿™ç§è¡Œä¸ºåè€Œå¯èƒ½å¸¦æ¥ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ï¼Œç”šè‡³åœ¨æŸäº›æƒ…å†µä¸‹å¼•å‘æ­»é”ã€‚\nâœ… æ­£ç¡®åšæ³•ï¼š åœ¨é UI ä»£ç ä¸­ï¼Œå»ºè®®åŠ ä¸Š .ConfigureAwait(false) æ¥é¿å…ä¸Šä¸‹æ–‡æ•è·ï¼š\n1 2 3 4 5 // é¿å…ä¸Šä¸‹æ–‡æ•è·ï¼Œæé«˜æ€§èƒ½å¹¶é˜²æ­¢æ­»é” public async Task DoWorkAsync() { await SomeIoOperationAsync().ConfigureAwait(false); } ğŸ’¡ å°è´´å£«ï¼š â˜…\nåœ¨ç±»åº“ã€é€šç”¨æ–¹æ³•ã€åå°æœåŠ¡ä¸­ï¼Œå»ºè®®å§‹ç»ˆåŠ ä¸Š .ConfigureAwait(false)ï¼Œé™¤éä½ ç¡®å®éœ€è¦å›åˆ°åŸå§‹ä¸Šä¸‹æ–‡ã€‚\nğŸ§¾ æ€»ç»“ï¼šasync/await çš„æœ€ä½³å®è·µæ¸…å• é—®é¢˜ æ¨èåšæ³• âŒ ä½¿ç”¨ .Result æˆ– .Wait() âœ… æ”¹æˆ async/awaitï¼Œä¿æŒå¼‚æ­¥é“¾ âŒ å†™äº† async å´ä¸ç”¨ await âœ… è¯¥åˆ å°±åˆ ï¼Œä¸è¯¥åŠ å°±åˆ«åŠ  âŒ ä¹±ç”¨ async void âœ… ä»…é™äº‹ä»¶å¤„ç†ï¼Œå…¶ä»–ä¸€å¾‹ç”¨ Task âŒ ä¸éœ€è¦å¼‚æ­¥å´åŠ äº† async âœ… ç”¨ Task.FromResult() æ›¿ä»£ âŒ æ¯æ¬¡éƒ½ new HttpClient âœ… å…¨å±€å¤ç”¨æˆ–é€šè¿‡ DI è·å– âŒ å¿½ç•¥ ConfigureAwait(false) âœ… é UI ä»£ç ä¸­åŠ ä¸Š .ConfigureAwait(false) ğŸ¯ å†™åœ¨æœ€å async/await æ˜¯ .NET ä¸­éå¸¸å¼ºå¤§çš„å·¥å…·ï¼Œä½†ä¹Ÿæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ã€‚ç”¨å¾—å¥½ï¼Œèƒ½è®©ä½ çš„åº”ç”¨å“åº”æ›´å¿«ã€ååæ›´é«˜ï¼›ç”¨ä¸å¥½ï¼Œè½»åˆ™æ€§èƒ½ä¸‹é™ï¼Œé‡åˆ™ç³»ç»Ÿå´©æºƒã€‚\nè¿™ç¯‡æ–‡ç« åˆ—å‡ºçš„å…­ä¸ªå¸¸è§é”™è¯¯ï¼Œéƒ½æ˜¯æˆ‘ä»¬åœ¨å®é™…é¡¹ç›®ä¸­æœ€å®¹æ˜“è¸©åˆ°çš„â€œåœ°é›·â€ã€‚å¸Œæœ›ä½ èƒ½ä»ä¸­å¸å–ç»éªŒæ•™è®­ï¼Œå†™å‡ºæ›´ç¨³å®šã€æ›´é«˜æ•ˆçš„å¼‚æ­¥ä»£ç ã€‚\n","date":"2025-07-15T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/asyncawait/","title":"æœ€å®¹æ˜“è¸©å‘çš„6ä¸ªasync/await ä½¿ç”¨é”™è¯¯"},{"content":"æŸäº›æ•°æ®åº“ï¼ˆå°¤å…¶æ˜¯ SQL Serverï¼‰å¯¹å½¢æˆå‘¨æœŸçš„çº§è”è¡Œä¸ºæœ‰é™åˆ¶ã€‚ ä¾‹å¦‚ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹æ¨¡å‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 public class Blog { public int Id { get; set; } public string Name { get; set; } public IList\u0026lt;Post\u0026gt; Posts { get; } = new List\u0026lt;Post\u0026gt;(); public int OwnerId { get; set; } public Person Owner { get; set; } } public class Post { public int Id { get; set; } public string Title { get; set; } public string Content { get; set; } public int BlogId { get; set; } public Blog Blog { get; set; } public int AuthorId { get; set; } public Person Author { get; set; } } public class Person { public int Id { get; set; } public string Name { get; set; } public IList\u0026lt;Post\u0026gt; Posts { get; } = new List\u0026lt;Post\u0026gt;(); public Blog OwnedBlog { get; set; } } æ­¤æ¨¡å‹å…·æœ‰ä¸‰ç§å…³ç³»ï¼Œå…¨éƒ¨å¿…éœ€ï¼Œå› æ­¤é…ç½®ä¸ºæŒ‰çº¦å®šçº§è”åˆ é™¤ï¼š\nåˆ é™¤åšå®¢å°†åŒæ—¶åˆ é™¤æ‰€æœ‰ç›¸å…³å¸–å­ åˆ é™¤å¸–å­çš„ä½œè€…å°†å¯¼è‡´å…¶åˆ›ä½œçš„å¸–å­è¢«çº§è”åˆ é™¤ã€‚ åˆ é™¤åšå®¢æ‰€æœ‰è€…å°†å¯¼è‡´åšå®¢è¢«çº§è”åˆ é™¤ è¿™ä¸€åˆ‡éƒ½æ˜¯åˆç†çš„ï¼ˆè™½ç„¶åšå®¢ç®¡ç†ç­–ç•¥æœ‰äº›ä¸¥å‰ï¼ï¼‰ï¼Œä½†å°è¯•é…ç½®è¿™äº›çº§è”æ¥åˆ›å»º SQL Server æ•°æ®åº“ä¼šå¼•å‘ä»¥ä¸‹å¼‚å¸¸ï¼š\nMicrosoft.Data.SqlClient.SqlException ï¼ˆ0x80131904ï¼‰ï¼šåœ¨è¡¨â€œPostâ€ä¸Šå¼•å…¥ FOREIGN KEY çº¦æŸâ€œFK_Posts_Person_AuthorIdâ€å¯èƒ½ä¼šå¯¼è‡´å¾ªç¯æˆ–å¤šä¸ªçº§è”è·¯å¾„ã€‚ è¯·æŒ‡å®š ON DELETE NO ACTION æˆ– ON UPDATE NO ACTIONï¼Œæˆ–ä¿®æ”¹å…¶ä»– FOREIGN KEY çº¦æŸã€‚\næœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å¤„ç†è¿™ç§æƒ…å†µï¼š\næ›´æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªå…³ç³»ä»¥ä½¿å…¶ä¸è¿›è¡Œçº§è”åˆ é™¤ã€‚ åœ¨æ²¡æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ­¤ç±»çº§è”åˆ é™¤çš„æƒ…å†µä¸‹é…ç½®æ•°æ®åº“ï¼Œç„¶åç¡®ä¿åŠ è½½æ‰€æœ‰ä¾èµ–å®ä½“ï¼Œä»¥ä¾¿ EF Core å¯ä»¥æ‰§è¡Œçº§è”è¡Œä¸ºã€‚ é€šè¿‡ç¤ºä¾‹é‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ºå…¶æä¾›å¯ä¸º null çš„å¤–é”®å±æ€§æ¥ä½¿åšå®¢åçš„å…³ç³»å¯é€‰ï¼š\n1 public int? BlogId { get; set; } å¯é€‰å…³ç³»å…è®¸å¸–å­åœ¨æ²¡æœ‰åšå®¢çš„æƒ…å†µä¸‹å­˜åœ¨ï¼Œè¿™æ„å‘³ç€é»˜è®¤æƒ…å†µä¸‹å°†ä¸å†é…ç½®çº§è”åˆ é™¤ã€‚ è¿™æ„å‘³ç€åœ¨çº§è”ä½œä¸­ä¸å†å­˜åœ¨å¾ªç¯ï¼Œå¯ä»¥åœ¨ SQL Server ä¸Šåˆ›å»ºæ•°æ®åº“è€Œä¸å‡ºé”™ã€‚\næ”¹ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä¿ç•™åšå®¢ä¸æ‰€æœ‰è€…çš„å…³ç³»ï¼Œå¹¶é…ç½®ä¸ºçº§è”åˆ é™¤ï¼Œä½†ä½¿æ­¤é…ç½®ä»…é€‚ç”¨äºè¢«è·Ÿè¸ªçš„å®ä½“ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ•°æ®åº“ã€‚\n1 2 3 4 5 6 7 8 protected override void OnModelCreating(ModelBuilder modelBuilder) { modelBuilder .Entity\u0026lt;Blog\u0026gt;() .HasOne(e =\u0026gt; e.Owner) .WithOne(e =\u0026gt; e.OwnedBlog) .OnDelete(DeleteBehavior.ClientCascade); } ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬åŒæ—¶åŠ è½½ä¸€ä¸ªäººå’Œä»–ä»¬æ‹¥æœ‰çš„åšå®¢ï¼Œé‚£ä¹ˆä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Œç„¶ååˆ é™¤è¯¥äººå‘˜ï¼Ÿ\n1 2 3 4 5 6 7 8 using var context = new BlogsContext(); var owner = await context.People.SingleAsync(e =\u0026gt; e.Name == \u0026#34;ajcvickers\u0026#34;); var blog = await context.Blogs.SingleAsync(e =\u0026gt; e.Owner == owner); context.Remove(owner); await context.SaveChangesAsync(); EF Core å°†çº§è”åˆ é™¤æ‰€æœ‰è€…ï¼Œä»¥ä¾¿åŒæ—¶åˆ é™¤åšå®¢ï¼š\n1 2 3 4 5 6 7 8 9 10 11 -- Executed DbCommand (8ms) [Parameters=[@p0=\u0026#39;1\u0026#39;], CommandType=\u0026#39;Text\u0026#39;, CommandTimeout=\u0026#39;30\u0026#39;] SET NOCOUNT ON; DELETE FROM [Blogs] WHERE [Id] = @p0; SELECT @@ROWCOUNT; -- Executed DbCommand (2ms) [Parameters=[@p1=\u0026#39;1\u0026#39;], CommandType=\u0026#39;Text\u0026#39;, CommandTimeout=\u0026#39;30\u0026#39;] SET NOCOUNT ON; DELETE FROM [People] WHERE [Id] = @p1; SELECT @@ROWCOUNT; ä½†æ˜¯ï¼Œå¦‚æœåœ¨åˆ é™¤æ‰€æœ‰è€…æ—¶åšå®¢æœªåŠ è½½ï¼š\n1 2 3 4 5 6 7 using var context = new BlogsContext(); var owner = await context.People.SingleAsync(e =\u0026gt; e.Name == \u0026#34;ajcvickers\u0026#34;); context.Remove(owner); await context.SaveChangesAsync(); ç„¶åï¼Œç”±äºè¿åæ•°æ®åº“ä¸­çš„å¤–é”®çº¦æŸï¼Œå°†å¼•å‘å¼‚å¸¸ï¼š\nMicrosoft.Data.SqlClient.SqlExceptionï¼šDELETE è¯­å¥ä¸ REFERENCE çº¦æŸâ€œFK_Blogs_People_OwnerIdâ€å†²çªã€‚ æ•°æ®åº“â€œScratchâ€ä¸­è¡¨â€œdbo.Blogsâ€çš„åˆ—â€œOwnerIdâ€å‘ç”Ÿå†²çªã€‚ è¯­å¥å·²ç»ˆæ­¢ã€‚\n","date":"2025-07-10T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/ef-core-cascade-delete/","title":"æ•°æ®åº“çº§è”é™åˆ¶"},{"content":"å½“è°ˆåŠè®¡ç®—æœºä¸­çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šæƒ³åˆ°æ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ã€è¯­éŸ³ã€3D æ¨¡å‹ç­‰å„ç§å½¢å¼ã€‚å°½ç®¡è¿™äº›æ•°æ®çš„ç»„ç»‡å½¢å¼å„å¼‚ï¼Œä½†å®ƒä»¬éƒ½ç”±å„ç§åŸºæœ¬æ•°æ®ç±»å‹æ„æˆã€‚\nåŸºæœ¬æ•°æ®ç±»å‹æ˜¯ CPU å¯ä»¥ç›´æ¥è¿›è¡Œè¿ç®—çš„ç±»å‹ï¼Œåœ¨ç®—æ³•ä¸­ç›´æ¥è¢«ä½¿ç”¨ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚\næ•´æ•°ç±»å‹ byteã€shortã€intã€long ã€‚ æµ®ç‚¹æ•°ç±»å‹ floatã€double ï¼Œç”¨äºè¡¨ç¤ºå°æ•°ã€‚ å­—ç¬¦ç±»å‹ char ï¼Œç”¨äºè¡¨ç¤ºå„ç§è¯­è¨€çš„å­—æ¯ã€æ ‡ç‚¹ç¬¦å·ç”šè‡³è¡¨æƒ…ç¬¦å·ç­‰ã€‚ å¸ƒå°”ç±»å‹ bool ï¼Œç”¨äºè¡¨ç¤ºâ€œæ˜¯â€ä¸â€œå¦â€åˆ¤æ–­ã€‚ åŸºæœ¬æ•°æ®ç±»å‹ä»¥äºŒè¿›åˆ¶çš„å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ã€‚ä¸€ä¸ªäºŒè¿›åˆ¶ä½å³ä¸º1 æ¯”ç‰¹ã€‚åœ¨ç»å¤§å¤šæ•°ç°ä»£æ“ä½œç³»ç»Ÿä¸­ï¼Œ1 å­—èŠ‚ï¼ˆbyteï¼‰ç”±8 æ¯”ç‰¹ï¼ˆbitï¼‰ç»„æˆã€‚\nåŸºæœ¬æ•°æ®ç±»å‹çš„å–å€¼èŒƒå›´å–å†³äºå…¶å ç”¨çš„ç©ºé—´å¤§å°ã€‚ä¸‹é¢ä»¥ Java ä¸ºä¾‹ã€‚\næ•´æ•°ç±»å‹ byte å ç”¨1 å­—èŠ‚ =8 æ¯”ç‰¹ ï¼Œå¯ä»¥è¡¨ç¤º28 ä¸ªæ•°å­—ã€‚ æ•´æ•°ç±»å‹ int å ç”¨4 å­—èŠ‚ =32 æ¯”ç‰¹ ï¼Œå¯ä»¥è¡¨ç¤º232 ä¸ªæ•°å­—ã€‚ è¡¨ 3-1 åˆ—ä¸¾äº† Java ä¸­å„ç§åŸºæœ¬æ•°æ®ç±»å‹çš„å ç”¨ç©ºé—´ã€å–å€¼èŒƒå›´å’Œé»˜è®¤å€¼ã€‚æ­¤è¡¨æ ¼æ— é¡»æ­»è®°ç¡¬èƒŒï¼Œå¤§è‡´ç†è§£å³å¯ï¼Œéœ€è¦æ—¶å¯ä»¥é€šè¿‡æŸ¥è¡¨æ¥å›å¿†ã€‚\nè¡¨ 3-1 \u0026nbsp; åŸºæœ¬æ•°æ®ç±»å‹çš„å ç”¨ç©ºé—´å’Œå–å€¼èŒƒå›´ ç±»å‹ ç¬¦å· å ç”¨ç©ºé—´ æœ€å°å€¼ æœ€å¤§å€¼ é»˜è®¤å€¼ æ•´æ•° byte 1 å­—èŠ‚ $-2^7$ ($-128$) $2^7 - 1$ ($127$) $0$ short 2 å­—èŠ‚ $-2^{15}$ $2^{15} - 1$ $0$ int 4 å­—èŠ‚ $-2^{31}$ $2^{31} - 1$ $0$ long 8 å­—èŠ‚ $-2^{63}$ $2^{63} - 1$ $0$ æµ®ç‚¹æ•° float 4 å­—èŠ‚ $1.175 \\times 10^{-38}$ $3.403 \\times 10^{38}$ $0.0\\text{f}$ double 8 å­—èŠ‚ $2.225 \\times 10^{-308}$ $1.798 \\times 10^{308}$ $0.0$ å­—ç¬¦ char 2 å­—èŠ‚ $0$ $2^{16} - 1$ $0$ å¸ƒå°” bool 1 å­—èŠ‚ $\\text{false}$ $\\text{true}$ $\\text{false}$ è¯·æ³¨æ„ï¼Œè¡¨ 3-1 é’ˆå¯¹çš„æ˜¯ Java çš„åŸºæœ¬æ•°æ®ç±»å‹çš„æƒ…å†µã€‚æ¯ç§ç¼–ç¨‹è¯­è¨€éƒ½æœ‰å„è‡ªçš„æ•°æ®ç±»å‹å®šä¹‰ï¼Œå®ƒä»¬çš„å ç”¨ç©ºé—´ã€å–å€¼èŒƒå›´å’Œé»˜è®¤å€¼å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚\nåœ¨ Python ä¸­ï¼Œæ•´æ•°ç±»å‹ int å¯ä»¥æ˜¯ä»»æ„å¤§å°ï¼Œåªå—é™äºå¯ç”¨å†…å­˜ï¼›æµ®ç‚¹æ•° float æ˜¯åŒç²¾åº¦ 64 ä½ï¼›æ²¡æœ‰ char ç±»å‹ï¼Œå•ä¸ªå­—ç¬¦å®é™…ä¸Šæ˜¯é•¿åº¦ä¸º 1 çš„å­—ç¬¦ä¸² str ã€‚\nC å’Œ C++ æœªæ˜ç¡®è§„å®šåŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ï¼Œè€Œå› å®ç°å’Œå¹³å°å„å¼‚ã€‚è¡¨ 3-1 éµå¾ª LP64 æ•°æ®æ¨¡å‹ï¼Œå…¶ç”¨äºåŒ…æ‹¬ Linux å’Œ macOS åœ¨å†…çš„ Unix 64 ä½æ“ä½œç³»ç»Ÿã€‚\nå­—ç¬¦ char çš„å¤§å°åœ¨ C å’Œ C++ ä¸­ä¸º 1 å­—èŠ‚ï¼Œåœ¨å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸­å–å†³äºç‰¹å®šçš„å­—ç¬¦ç¼–ç æ–¹æ³•ï¼Œè¯¦è§â€œå­—ç¬¦ç¼–ç â€ç« èŠ‚ã€‚\nå³ä½¿è¡¨ç¤ºå¸ƒå°”é‡ä»…éœ€ 1 ä½ï¼ˆ\n0 æˆ–\n1ï¼‰ï¼Œå®ƒåœ¨å†…å­˜ä¸­é€šå¸¸ä¹Ÿå­˜å‚¨ä¸º 1 å­—èŠ‚ã€‚è¿™æ˜¯å› ä¸ºç°ä»£è®¡ç®—æœº CPU é€šå¸¸å°† 1 å­—èŠ‚ä½œä¸ºæœ€å°å¯»å€å†…å­˜å•å…ƒã€‚\né‚£ä¹ˆï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¸æ•°æ®ç»“æ„ä¹‹é—´æœ‰ä»€ä¹ˆè”ç³»å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œæ•°æ®ç»“æ„æ˜¯åœ¨è®¡ç®—æœºä¸­ç»„ç»‡ä¸å­˜å‚¨æ•°æ®çš„æ–¹å¼ã€‚è¿™å¥è¯çš„ä¸»è¯­æ˜¯â€œç»“æ„â€è€Œéâ€œæ•°æ®â€ã€‚\nå¦‚æœæƒ³è¡¨ç¤ºâ€œä¸€æ’æ•°å­—â€ï¼Œæˆ‘ä»¬è‡ªç„¶ä¼šæƒ³åˆ°ä½¿ç”¨æ•°ç»„ã€‚è¿™æ˜¯å› ä¸ºæ•°ç»„çš„çº¿æ€§ç»“æ„å¯ä»¥è¡¨ç¤ºæ•°å­—çš„ç›¸é‚»å…³ç³»å’Œé¡ºåºå…³ç³»ï¼Œä½†è‡³äºå­˜å‚¨çš„å†…å®¹æ˜¯æ•´æ•° intã€å°æ•° float è¿˜æ˜¯å­—ç¬¦ char ï¼Œåˆ™ä¸â€œæ•°æ®ç»“æ„â€æ— å…³ã€‚\næ¢å¥è¯è¯´ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æä¾›äº†æ•°æ®çš„â€œå†…å®¹ç±»å‹â€ï¼Œè€Œæ•°æ®ç»“æ„æä¾›äº†æ•°æ®çš„â€œç»„ç»‡æ–¹å¼â€ã€‚ä¾‹å¦‚ä»¥ä¸‹ä»£ç ï¼Œæˆ‘ä»¬ç”¨ç›¸åŒçš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ï¼‰æ¥å­˜å‚¨ä¸è¡¨ç¤ºä¸åŒçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ intã€floatã€charã€bool ç­‰ã€‚\n","date":"2025-06-25T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/basic_data_types/","title":"åŸºæœ¬æ•°æ®ç±»å‹"},{"content":"ä½¿ç”¨ EventWaitHandle åŸç†ï¼šé€šè¿‡å‘½åçš„äº‹ä»¶å¯¹è±¡ï¼ˆEventWaitHandleï¼‰æ£€æµ‹æ˜¯å¦å·²æœ‰å®ä¾‹è¿è¡Œã€‚\nç‰¹ç‚¹ï¼š\né€‚åˆè·¨è¿›ç¨‹é€šä¿¡ï¼ˆIPCï¼‰ã€‚ å¯ä»¥é€šè¿‡ Set() å’Œ WaitOne() å”¤é†’å…¶ä»–å®ä¾‹ï¼ˆå¦‚ä½ çš„ä»£ç ä¸­å”¤é†’ä¸»çª—å£ï¼‰ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 public bool EnsureAppSingletion() { EventWaitHandle singletonEvent = new EventWaitHandle(false, EventResetMode.AutoReset, \u0026#34;SlimeNull/OpenGptChat\u0026#34;, out bool createdNew); if (createdNew) { Task.Run(() =\u0026gt; { while (true) { // wait for the second instance of OpenGptChat singletonEvent.WaitOne(); Dispatcher.Invoke(() =\u0026gt; { ShowApp(); }); } }); return true; } else { singletonEvent.Set(); return false; } } public static void ShowApp() { Window mainWindow = Application.Current.MainWindow; if (mainWindow == null) return; mainWindow.Show(); if (mainWindow.WindowState == WindowState.Minimized) mainWindow.WindowState = WindowState.Normal; if (!mainWindow.IsActive) mainWindow.Activate(); } public bool EnsureAppSingletion() { EventWaitHandle singletonEvent = new EventWaitHandle(false, EventResetMode.AutoReset, \u0026#34;SlimeNull/OpenGptChat\u0026#34;, out bool createdNew); if (createdNew) { Task.Run(() =\u0026gt; { while (true) { // wait for the second instance of OpenGptChat singletonEvent.WaitOne(); Dispatcher.Invoke(() =\u0026gt; { ShowApp(); }); } }); return true; } else { singletonEvent.Set(); return false; } } public static void ShowApp() { Window mainWindow = Application.Current.MainWindow; if (mainWindow == null) return; mainWindow.Show(); if (mainWindow.WindowState == WindowState.Minimized) mainWindow.WindowState = WindowState.Normal; if (!mainWindow.IsActive) mainWindow.Activate(); } ä½¿ç”¨ Mutexï¼ˆäº’æ–¥é”ï¼‰ åŸç†ï¼šé€šè¿‡å‘½åçš„äº’æ–¥é”æ£€æµ‹æ˜¯å¦å·²æœ‰å®ä¾‹è¿è¡Œã€‚ ç‰¹ç‚¹ï¼š æ›´è½»é‡çº§ï¼Œé€‚åˆå•çº¯åˆ¤æ–­å•ä¾‹ï¼ˆä¸æ¶‰åŠå¤æ‚é€šä¿¡ï¼‰ã€‚ ç³»ç»Ÿä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æºï¼ˆMutex ç»§æ‰¿è‡ª WaitHandleï¼Œæœ‰ Dispose() æœºåˆ¶ï¼‰ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 public bool EnsureAppSingleton() { bool isFirstInstance; Mutex mutex = new Mutex(true, \u0026#34;SlimeNull/OpenGptChat\u0026#34;, out isFirstInstance); if (isFirstInstance) { // é¦–æ¬¡è¿è¡Œï¼Œä¿æŒ Mutex ä¸é‡Šæ”¾ï¼ˆé€šè¿‡ä¸è°ƒç”¨ ReleaseMutexï¼‰ return true; } else { mutex.Dispose(); // ç«‹å³é‡Šæ”¾èµ„æº return false; } } public bool EnsureAppSingleton() { bool isFirstInstance; Mutex mutex = new Mutex(true, \u0026#34;SlimeNull/OpenGptChat\u0026#34;, out isFirstInstance); if (isFirstInstance) { // é¦–æ¬¡è¿è¡Œï¼Œä¿æŒ Mutex ä¸é‡Šæ”¾ï¼ˆé€šè¿‡ä¸è°ƒç”¨ ReleaseMutexï¼‰ return true; } else { mutex.Dispose(); // ç«‹å³é‡Šæ”¾èµ„æº return false; } } ä¸¤ç§æ–¹å¼çš„å¯¹æ¯” ç‰¹æ€§ EventWaitHandle Mutex ä¸»è¦ç”¨é€” è·¨è¿›ç¨‹é€šä¿¡ + å•ä¾‹åˆ¤æ–­ å•ä¾‹åˆ¤æ–­ï¼ˆè½»é‡çº§ï¼‰ èµ„æºé‡Šæ”¾ éœ€æ‰‹åŠ¨ Dispose() æˆ– Close() è‡ªåŠ¨é‡Šæ”¾ï¼ˆusing è¯­å¥ï¼‰ å”¤é†’å…¶ä»–å®ä¾‹ æ”¯æŒï¼ˆé€šè¿‡ Set()ï¼‰ ä¸æ”¯æŒ æ€§èƒ½ ç¨é‡ï¼ˆé€‚åˆå¤æ‚åœºæ™¯ï¼‰ æ›´è½»é‡ å¦‚ä½•é€‰æ‹©ï¼Ÿ å¦‚æœåªéœ€è¦åˆ¤æ–­å•ä¾‹ï¼ˆä¸æ¶‰åŠå”¤é†’å…¶ä»–å®ä¾‹ï¼‰ï¼Œä¼˜å…ˆç”¨ Mutexï¼ˆä»£ç æ›´ç®€æ´ï¼‰ã€‚ å¦‚æœéœ€è¦å”¤é†’å·²æœ‰å®ä¾‹ï¼ˆå¦‚ä½ çš„ä»£ç ä¸­å”¤é†’ä¸»çª—å£ï¼‰ï¼Œç”¨ EventWaitHandleã€‚ ","date":"2025-06-19T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/%E6%A1%8C%E9%9D%A2%E7%A8%8B%E5%BA%8F%E5%8D%95%E4%BE%8B/","title":"Windowsæ¡Œé¢ç¨‹åºå•ä¾‹"},{"content":"åŸºç¡€çŸ¥è¯† å…‰å­¦ï¼šå‡ ä½•å…‰å­¦ï¼Œç‰©ç†å…‰å­¦\næ•°å­¦ï¼šå¯¼æ•°ä¸ºä¸»çš„é«˜ç­‰æ•°å­¦ï¼ŒçŸ©é˜µè®º\näº”ç§éœ€æ±‚ï¼š 1.è¯†åˆ«å®šä½\n2.ç¬¦å·è¯†åˆ«ï¼šä¸€äºŒç»´ç ï¼ŒOCR\n3.æµ‹é‡éœ€æ±‚\n4.ç¼ºé™·éœ€æ±‚ï¼ˆæœ€å¸¸è§ï¼Œéš¾åº¦æœ€å¤§ï¼‰\n5.æ‰‹çœ¼æ ‡å®šå’ŒæŠ“å–ï¼ˆç»“åˆè¿åŠ¨æ§åˆ¶ï¼‰\nå›¾åƒå¤„ç†ä¸€èˆ¬æ€è·¯ 1.é‡‡é›†\n2.é¢„å¤„ç†\næ‹‰å¼€ç°åº¦ å‡ ä½•å˜æ¢ å»å™ªï¼šä¸­å€¼æ»¤æ³¢ï¼Œå‡å€¼æ»¤æ³¢ï¼Œé«˜æ–¯æ»¤æ³¢ æŠ å›¾ 3.å›¾åƒåˆ†å‰²\näºŒå€¼åŒ– å½¢æ€å­¦ ç‰¹å¾é€‰æ‹© psï¼šHalconé‡ŒåŒºåŸŸå’Œå›¾åƒæ˜¯ä¸åŒæ¦‚å¿µ\n4.è¯†åˆ«æ˜¾ç¤º\n5.é€šä¿¡\nä¸‰å¤§æ•°æ®ç±»å‹ å›¾åƒï¼ŒåŒºåŸŸï¼ŒXLD\nç°åº¦ç›´æ–¹å›¾ å‹¾é€‰â€œé˜ˆå€¼â€\nå°†ç°åº¦å€¼åœ¨â€ç»¿çº¿å’Œçº¢çº¿ä¹‹é—´â€çš„ä»¥é€‰å®šé¢œè‰²è¿›è¡Œå¡«å…… å‹¾é€‰â€œç¼©æ”¾â€\nå°†æŠŠåœˆå®šçš„é˜ˆå€¼èŒƒå›´å†…çš„ç›´æ–¹å›¾å‡åŒ€æ‹‰ä¼¸é‡Šæ”¾åˆ°æ•´ä¸ªç›´æ–¹å›¾è½´ä¸Š æ•°ç»„è¯­æ³• 1 2 3 4 5 6 7 8 9 10 11 12 13 14 * Simple tuple operations Tuple1 := [1,2,3,4,5] Number := |Tuple1| SingleElement := Tuple1[3] Part := Tuple1[1:3] Copy := Tuple1[0:|Tuple1| - 1] * Simple tuple operations Tuple1 := [1,2,3,4,5] Number := |Tuple1| SingleElement := Tuple1[3] Part := Tuple1[1:3] Copy := Tuple1[0:|Tuple1| - 1] è¿è¡Œç»“æœ è¯»å–å›¾ç‰‡çš„å››ç§æ–¹æ³• æ–‡ä»¶ -\u0026gt; è¯»å–å›¾ç‰‡\nImage Acquisition -\u0026gt; è‡ªåŠ¨æ£€æµ‹æ¥å£ï¼ˆåˆ·æ–°è®¾å¤‡ï¼‰-\u0026gt; Direct showï¼Œä»æ‘„åƒå¤´ç›´æ¥è¯»å›¾\nImage Acquisition -\u0026gt; é€‰æ‹©æ–‡ä»¶ï¼Œä»å›¾åƒæ–‡ä»¶ä¸­è¯»å–\nImage Acquisition -\u0026gt; é€‰æ‹©è·¯å¾„ï¼Œç»“åˆæ­£åˆ™è¡¨è¾¾å¼è¯»å–è·¯å¾„ä¸‹çš„å›¾ç‰‡\nPSï¼šç”¨Image Acquisitionè¯»å–æ—¶è®°å¾—ç‚¹å‡»ä»£ç ç”Ÿæˆ æ‘„åƒå¤´æŠ“å–æ¨¡å¼ï¼šåœ¨å¯è§†åŒ– -\u0026gt; æ›´æ–°çª—å£ä¸­è°ƒæ•´\nåŒæ­¥é‡‡é›†ï¼šå®æ—¶æŠ“å–ï¼Œä¸€ç›´æŠ“å–\nå¼‚æ­¥é‡‡é›†ï¼šåªç­‰å›¾ç‰‡å¤„ç†å®Œåï¼Œgrab_imageæ‰å¼€å§‹æŠ“å–\nPSï¼šæ›´å¤šä¿¡æ¯åŒ…æ‹¬åŒç›¸æœºé‡‡é›†ï¼Œå¯ä»¥åœ¨æ¡ˆä¾‹ -\u0026gt; æ–¹æ³• -\u0026gt; å›¾åƒé‡‡é›†è®¾å¤‡ä¸­å­¦ä¹ \nROIï¼ˆæ„Ÿå…´è¶£åŒºåŸŸï¼‰ ç‰¹å¾æ£€æµ‹ PSï¼šäºŒå€¼åŒ–ä¹‹åçš„åŒºåŸŸè™½ç„¶ä¸è¿é€šï¼Œä½†ä»ç„¶è®¤ä¸ºæ˜¯ä¸€ä¸ªåŒºåŸŸã€‚éœ€è¦è°ƒç”¨connectionæŠŠåŒºåŸŸåˆ†å‰²æˆç‹¬ç«‹åŒºåŸŸï¼Œæ‰èƒ½è¿›è¡Œselect_shapeï¼Œç‚¹å‡»ç‰¹å®šåŒºåŸŸï¼Œå†è¿›è¡Œç‰¹å¾æ£€æµ‹ï¼Œåˆ™æ˜¾ç¤ºç‰¹å®šåŒºåŸŸçš„ç‰¹å¾ä¿¡æ¯ã€‚ï¼ˆconnectionåˆ†å‰²ä¾æ®ï¼ˆä¹å®«æ ¼ä¸­çš„å…«é‚»åŸŸï¼‰ï¼‰\nè‹¥ç›´æ–¹å›¾çª—å£å†…çš„ç›´æ–¹å›¾ä¸æ˜¾ç¤º\n1.å°†ç¨‹åºæ‰§è¡Œä¸€éï¼ˆæŒ‰å®Œå…¨æ‰§è¡Œæˆ–F5ï¼‰\n2.å°†ç›´æ–¹å›¾çª—å£çºµå‘æ‹‰å¤§ï¼ˆè¿™ä¸ªæ‹‰å‡æ–¹æ¡ˆé»˜è®¤æŠŠå‰©ä½™æ˜¾ç¤ºåŒºåŸŸç•™ç»™ç›´æ–¹å›¾ï¼‰\nå½¢æ€å­¦ è†¨èƒ€ï¼š\nå°†æ¨¡æ¿åœ¨åŸå›¾ä¸Šç§»åŠ¨ï¼Œå½“é™¤ä¸­å¿ƒç‚¹å¤–çš„æ¨¡æ¿ç‚¹ï¼Œä¸åŸå›¾ä¸­åƒç´ é‡åˆæ—¶ï¼Œå°†ä¸­å¿ƒç‚¹å˜é»‘ã€‚æœ€ç»ˆç»“æœï¼ˆå½“ç„¶ä¹Ÿèƒ½è¦†ç›–åŸå›¾ï¼‰å°±æ˜¯æ–°å›¾ æ•ˆæœå³æ‰©å¤§äº†â€œä¸€åœˆâ€ è…èš€ï¼š\nå°†æ¨¡æ¿åœ¨åŸå›¾ä¸Šç§»åŠ¨ï¼Œä»…æœ‰æ•´ä¸ªç»“æ„å…ƒç´ èƒ½å…¨éƒ¨è¢«åŒºåŸŸæ‰€åŒ…å«æ—¶ï¼Œä¿ç•™ä¸­å¿ƒå…ƒç´ ç‚¹ï¼Œæœ€ç»ˆç»“æœå³æ–°å›¾èƒ½è¢«åŸå›¾åŒ…å« æ•ˆæœå³ç¼©å°äº†â€œä¸€åœˆâ€ å¼€è¿ç®—ï¼š\nå…ˆè…èš€ï¼Œåè†¨èƒ€ æ•ˆæœï¼šå‡å°‘åƒç´ ï¼ˆå¼±äºè…èš€ï¼‰ï¼Œæ–­å¼€ é—­è¿ç®—ï¼š\nå…ˆè†¨èƒ€ï¼Œåè…èš€ æ•ˆæœï¼šå¢åŠ åƒç´ ï¼ˆå¼±äºè†¨èƒ€ï¼‰ï¼Œè¿æ¥ PSï¼šä»¥ä¸Šæ˜¯å¯¹äºŒå€¼å›¾åƒè€Œè¨€ï¼Œè€Œå¯¹ç°åº¦å›¾åƒåšå½¢æ€å­¦å¤„ç†æ˜¯æ”¹å˜äº®æš—\nä»£ç è¿è¡Œäº‹ä»¶ç›‘æµ‹ ä½¿ç”¨countå‡½æ•° å¦‚å›¾ä½¿ç”¨â€œæ€§èƒ½è¯„æµ‹å™¨â€ ç»“æ„å…ƒç´ æ¨¡æ¿é€‰æ‹© è¦æ ¹æ®æ„Ÿå…´è¶£çš„å›¾åƒç»“æ„ æ¥çµæ´»é€‰æ‹©ç»“æ„å…ƒç´ æ¨¡æ¿ æ•ˆæœå±•ç¤º(ä»¥å®˜æ–¹ä¾‹ç¨‹ball.hdveä¸ºä¾‹)ï¼š\nåŸå›¾ çº¢è‰²-\u0026gt;åœ†ç»“æ„å…ƒç´ æå– ç»¿è‰²-\u0026gt;çŸ©å½¢ç»“æ„æå– å¯ä»¥çŸ¥é“ï¼Œæƒ³è¦æå–åœ†çš„æ—¶å€™ï¼Œé‡‡ç”¨åœ†ç»“æ„å…ƒç´ èƒ½æ›´å¥½ä¿ç•™å½¢æ€\nä¹‹åé‡‡ç”¨åœ†åº¦ç‰¹å¾è¿›è¡Œè¿›ä¸€æ­¥çš„blobæå–\né¢„å¤„ç†å›¾åƒå¢å¼º ä¸€èˆ¬é€šè¿‡å¦‚ä¸‹å‡ ç§æ–¹å¼ï¼š\nscale_image: gâ€™ := g * Mult + Add\ngä¸ºå½“å‰çš„ç°åº¦å€¼ï¼ŒMult ä¸ºæ‰€ä¹˜çš„ç³»æ•°ï¼ŒAddä¸ºåŠ çš„åç§»å€¼ï¼Œç”±å…¬å¼å¯ä»¥åˆŠå‡ºç”¨scale_imageæ¥å¤„ç†å›¾åƒæ˜¯ä¸ªçº¿æ€§å˜åŒ–ï¼Œä¼šè®©é»‘çš„åœ°æ–¹æ›´é»‘ï¼Œäº®çš„åœ°æ–¹æ›´äº®ã€‚\nå›¾åƒå½¢æ€å­¦\ngray_opening\nç»“æ„å…ƒç´ åœ¨å›¾åƒä¸­æ»‘ï¼Œç°åº¦å€¼æœ€é«˜çš„å€¼ä½œä¸ºæ–°å€¼ï¼Œæœ‰ä½¿å›¾åƒå˜äº®çš„ä½œç”¨ã€‚\ngray_closing\nç»“æ„å…ƒç´ åœ¨å›¾åƒä¸­æ»‘ï¼Œç°åº¦å€¼æœ€ä½çš„å€¼ä½œä¸ºæ–°å€¼ï¼Œæœ‰ä½¿å›¾åƒå˜æš—çš„ä½œç”¨ã€‚\ngray_range_rect\nç”¨ä¸€ä¸ªçŸ©å½¢ç»“æ„å…ƒç´ åœ¨å›¾åƒä¸­æ»‘åŠ¨ï¼Œæ–°å€¼=(çŸ©å½¢ä¸­æœ€å¤§çš„)ç°åº¦å€¼-(çŸ©å½¢ä¸­æœ€å¤§çš„)æœ€å°çš„ç°åº¦å€¼\nemphasize: res := round((orig - mean) * Factor) + orig\nmeanä»£è¡¨å…ˆå¯¹åŸå›¾è¿›è¡Œmean_imageåçš„å›¾åƒå¯¹åº”çš„ç°åº¦å€¼ï¼Œ\norig ä»£è¡¨æ¯å¹…å›¾å¯¹åº”çš„ç°é˜¶å€¼ ï¼Œresä»£è¡¨è¾“å‡ºå›¾åƒçš„ç°é˜¶å€¼\nå‡¸æ€§ å‡¸æ€§ï¼šå›¾å½¢å†…ä»»æ„ä¸¤ç‚¹ç›¸è¿ï¼Œå›¾åƒä¸Šæ‰€æœ‰çš„ç‚¹ç›¸è¿çš„çš„çº¿è¿›è¡Œç‚¹å¡«å…… 1 å‡½æ•°ï¼šshape_trans(Region, RegionTrans, \u0026#39;convex\u0026#39;) å¤–æ¥çŸ©å½¢ï¼šä¸èµ˜è¿° 1 å‡½æ•°ï¼šshape_trans(Region, RegionTrans, \u0026#39;rectangle1\u0026#39;) PSï¼šrectangle1ä¸ºå¹³è¡Œäºçª—å£çš„æ­£çŸ©å½¢ï¼Œrectangle2ä¸ºæ–œå¤–æ¥çŸ©å½¢ï¼Œè¯¦è§å®˜æ–¹æ‰‹å†Œ\nä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå‡¸å½¢å’Œå¤–æ¥çŸ©å½¢åˆ†åˆ«å¦‚ä¸‹\nå®šä½æ–¹æ³• Blobåˆ†æ æ¨¡æ¿åŒ¹é… é€šè¿‡markç‚¹æˆ–ç‰¹å¾æ‰¾å‡ºå…´è¶£åŒºåŸŸ ä»¿å°„å˜æ¢åˆ°æ ‡å‡†ä½ç½® ä»¿å°„å˜æ¢ ä»¥å®˜æ–¹ä¾‹ç¨‹check_blister.hdevä»‹ç»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 dev_update_window (\u0026#39;off\u0026#39;) //åœæ­¢æ›´æ–°çª—ä½“ dev_close_window () //å…³é—­çª—ä½“ read_image (ImageOrig, \u0026#39;blister/blister_reference\u0026#39;) dev_open_window_fit_image (ImageOrig, 0, 0, -1, -1, WindowHandle) //çª—å£å¤§å°é€‚åº”å›¾ç‰‡ access_channel (ImageOrig, Image1, 1) //é€šé“1ï¼ŒRå›¾ threshold (Image1, Region, 90, 255) //äºŒå€¼åŒ–ï¼Œç°åº¦ç›´æ–¹å›¾å·¥å…· shape_trans (Region, Blister, \u0026#39;convex\u0026#39;) //å‡¸åŒ…ï¼Œå†…éƒ¨éƒ½è¢«å¡«å…… orientation_region (Blister, Phi) //åŒºåŸŸæ–¹å‘ï¼Œè·å¾—è§’åº¦å€¼Phiï¼ŒèŒƒå›´[-Î ,Î ) area_center (Blister, Area1, Row, Column) //è·å¾—é¢ç§¯ã€è´¨å¿ƒåæ ‡ vector_angle_to_rigid (Row, Column, Phi, Row, Column, 0, HomMat2D) // è·å¾—ä»¿å°„å˜æ¢çŸ©é˜µHomMat2D affine_trans_image (ImageOrig, Image2, HomMat2D, \u0026#39;constant\u0026#39;, \u0026#39;false\u0026#39;) //å¯¹å›¾åƒè¿›è¡Œä»¿å°„å˜æ¢ï¼Œæ’å€¼ç®—æ³•constant dev_update_window (\u0026#39;on\u0026#39;) //æ›´æ–°çª—ä½“ dev_update_window (\u0026#39;off\u0026#39;) //åœæ­¢æ›´æ–°çª—ä½“ dev_close_window () //å…³é—­çª—ä½“ read_image (ImageOrig, \u0026#39;blister/blister_reference\u0026#39;) dev_open_window_fit_image (ImageOrig, 0, 0, -1, -1, WindowHandle) //çª—å£å¤§å°é€‚åº”å›¾ç‰‡ access_channel (ImageOrig, Image1, 1) //é€šé“1ï¼ŒRå›¾ threshold (Image1, Region, 90, 255) //äºŒå€¼åŒ–ï¼Œç°åº¦ç›´æ–¹å›¾å·¥å…· shape_trans (Region, Blister, \u0026#39;convex\u0026#39;) //å‡¸åŒ…ï¼Œå†…éƒ¨éƒ½è¢«å¡«å…… orientation_region (Blister, Phi) //åŒºåŸŸæ–¹å‘ï¼Œè·å¾—è§’åº¦å€¼Phiï¼ŒèŒƒå›´[-Î ,Î ) area_center (Blister, Area1, Row, Column) //è·å¾—é¢ç§¯ã€è´¨å¿ƒåæ ‡ vector_angle_to_rigid (Row, Column, Phi, Row, Column, 0, HomMat2D) // è·å¾—ä»¿å°„å˜æ¢çŸ©é˜µHomMat2D affine_trans_image (ImageOrig, Image2, HomMat2D, \u0026#39;constant\u0026#39;, \u0026#39;false\u0026#39;) //å¯¹å›¾åƒè¿›è¡Œä»¿å°„å˜æ¢ï¼Œæ’å€¼ç®—æ³•constant dev_update_window (\u0026#39;on\u0026#39;) //æ›´æ–°çª—ä½“ æµ‹é‡åŠ©æ‰‹ æ‰“å¼€æ–¹æ³•ï¼š åŠ©æ‰‹ -\u0026gt; æ‰“å¼€æ–°çš„Measure\nOCRæµç¨‹ é‡‡é›† é¢„å¤„ç†ï¼Œæ ¡æ­£ åˆ†å‰²æˆç‹¬ç«‹è¿é€šåŸŸ å¦‚æœæ¯ä¸ªå­—æ²¡æœ‰å½¢æˆç‹¬ç«‹è¿é€šåŸŸï¼ˆå¦‚ä¸Šå›¾ï¼‰ï¼Œéœ€è¦ä½¿ç”¨å½¢æ€å­¦ï¼Œä½¿æ¯ä¸ªæ±‰å­—çš„å„ç¬”ç”»åœ¨å„è‡ªçš„ä¸€ä¸ªè¿é€šåŸŸå†…ï¼Œä¸åŒçš„æ±‰å­—çš„å„ç¬”ç”»åœ¨ä¸åŒçš„è¿é€šåŸŸå†…ã€‚å¦‚â€œæ˜â‰ æ—¥æœˆâ€çš„å…³ç³» ä½¿ç”¨ç°æˆçš„ï¼Œæˆ–è®­ç»ƒ trfæ–‡ä»¶ï¼šæ–‡æœ¬ä¸å­—ç¬¦çš„å…³è”æ–‡ä»¶ï¼Œåªæ˜¯å¯¹åº”å…³ç³»ã€‚å¯è¢«OCRåŠ©æ‰‹å’ŒOCRè¯»å–å‡½æ•°è¯»å– omcæ–‡ä»¶ï¼šä¸ºè®­ç»ƒåçš„æ–‡ä»¶ï¼Œå¯ç”¨äºè¯†åˆ«ã€‚ä¸èƒ½è¢«OCRåŠ©æ‰‹è¯»å–ï¼Œåªèƒ½è¢«orcè¯»å–å‡½æ•°è¯»å– è¯†åˆ« è‰²å½©è¯†åˆ« RGBè½¬HSV\nè‰²è°ƒï¼ˆHï¼‰ï¼Œé¥±å’Œåº¦ï¼ˆSï¼‰ï¼Œæ˜åº¦ï¼ˆVï¼‰\nä¸»è¦åˆ†æHï¼ŒSåˆ†é‡ åˆ†ç±»å™¨ï¼ˆå¦å¤–è¯¦ç»†ä»‹ç»ï¼‰\nå¯¹æ¯”åº¦ç›¸å…³ç®—å­ scale_image emphasize gray_range_rectç­‰ï¼ˆç°åº¦å›¾çš„å½¢æ€å­¦å˜æ¢ï¼‰ equ_histo_imageç›´æ–¹å›¾å‡è¡¡åŒ– å‡ å¤§â€œé—¨æ´¾â€æ€»ç»“ åŸºç¡€ç†è®º ç°åº¦å˜æ¢ å¢å¼º å‡ ä½•å˜æ¢ åˆ†å‰² é¢‘åŸŸå¤„ç† å½¢æ€å­¦ å¤åŸ è¿åŠ¨å›¾åƒ å›¾åƒé…å‡† ","date":"2025-06-12T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/halcon1/","title":"HalconåŸºç¡€"},{"content":"æ ‡å®šç›®çš„ é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»è¦æ˜ç¡®ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦å¯¹æ‘„åƒå¤´è¿›è¡Œæ ‡å®šï¼Ÿ\nåœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸï¼Œæˆ‘ä»¬æ˜¯å°†ä¸‰ç»´ç‰©ä½“è½¬æ¢åˆ°äºŒç»´å¹³é¢ï¼Œè¿™å°±éœ€è¦ç¡®å®šç©ºé—´ç‰©ä½“è¡¨é¢æŸç‚¹çš„ä¸‰ç»´å‡ ä½•ä½ç½®ä¸å…¶åœ¨äºŒç»´å›¾åƒä¸­å¯¹åº”ç‚¹ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œè¿™åˆéœ€è¦å»ºç«‹æ‘„åƒå¤´æˆåƒçš„å‡ ä½•æ¨¡å‹ï¼Œè€Œè¿™äº›å‡ ä½•æ¨¡å‹çš„å‚æ•°å°±æ˜¯æ‘„åƒå¤´å‚æ•°ï¼ŒåŒ…æ‹¬å†…å‚ã€å¤–å‚ã€ç•¸å˜å‚æ•°ç­‰ã€‚\nè€Œæˆ‘ä»¬è¿›è¡Œæ ‡å®šçš„ç›®çš„ï¼šæ±‚å‡ºæ‘„åƒå¤´çš„å†…ã€å¤–å‚æ•°ï¼Œä»¥åŠç•¸å˜å‚æ•°ï¼Œè¿›è€Œå¯ä»¥å»ºç«‹æ‘„åƒå¤´æˆåƒçš„å‡ ä½•æ¨¡å‹ã€‚\næ€»ä¹‹ï¼Œå°±æ˜¯å¯»æ‰¾å›¾åƒå’Œç°å®çš„æ•°å­¦è½¬æ¢å…³ç³»ï¼Œä»è€Œå¯ä»¥ä»å›¾åƒä¸­æµ‹é‡å‡ºå®é™…æ•°æ®ï¼Œè€Œåœ¨æ ‡å®šå®Œæˆä¹‹åï¼Œä¸€èˆ¬ä¼šåšä¸¤ä»¶äº‹ï¼š\nç”±äºæ¯ä¸ªé•œå¤´çš„ç•¸å˜ç¨‹åº¦ä¸åŒï¼Œå¯¼è‡´æˆåƒæ—¶çš„å›¾åƒä¼šå†…å‡¹æˆ–è€…å¤–å‡¸ï¼Œé€šè¿‡æ ‡å®šå¯ä»¥çŸ«æ­£è¿™ç§é•œå¤´ç•¸å˜ï¼Œè®©æ‘„åƒå¤´èƒ½å¤Ÿæ­£ç¡®ç”ŸæˆçŸ«æ­£åçš„å›¾åƒ æ ¹æ®è·å¾—çš„å›¾åƒé‡æ„ä¸‰ç»´åœºæ™¯ï¼Œå³ä¸‰ç»´é‡å»ºï¼Œä½¿ç”¨åŒä¸€æˆåƒå‡ ä½•æ¨¡å‹ä¸‹çš„å¤šè§†è§’äºŒç»´å›¾åƒæ¥æ‹Ÿåˆå‡ºä¸‰ç»´ä¿¡æ¯ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯æ ‡å®šçš„é€†è¿‡ç¨‹ é‚£ä¹ˆï¼Œæ˜¯ä¸æ˜¯æ‰€æœ‰çš„æ‘„åƒå¤´éƒ½éœ€è¦æ ‡å®šå‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¦ã€‚ç®€å•æ¥è¯´ï¼Œåƒè‡ªåŠ¨é©¾é©¶æ„ŸçŸ¥æ‘„åƒå¤´éƒ½æ˜¯éœ€è¦æ ‡å®šçš„ï¼Œå› ä¸ºç®—æ³•éœ€è¦æå–å›¾åƒä¸­çš„ä¿¡æ¯ï¼ˆç‰©ä½“ç±»åˆ«ã€ç‰©ä½“å°ºå¯¸ç­‰ï¼‰å¹¶å°†è¯¥ä¿¡æ¯å‚ä¸è®¡ç®—ï¼Œå¦‚æœä¸è¿›è¡Œæ ‡å®šå·¥ä½œï¼Œé‚£ä¹ˆå¾—åˆ°çš„è§†é‡ä¿¡æ¯å°±ä¼šæœ‰è¯¯ï¼Œæ— æ³•å¯¹ç‰©ä½“ã€è·ç¦»è¿›è¡Œå‡†ç¡®çš„åˆ¤æ–­ï¼Œè€Œç±»ä¼¼äºRVMæ‘„åƒå¤´ï¼ˆå€’è½¦å½±åƒï¼‰ã€ç›‘æ§æ‘„åƒå¤´è¿™ç§ç±»å‹çš„æ‘„åƒå¤´ï¼Œå®ƒçš„ä½œç”¨ä»…ä»…æ˜¯ç”¨äºæ˜¾ç¤ºå›¾åƒç»™äººè§‚å¯Ÿï¼Œå›¾åƒä¿¡æ¯å¹¶ä¸ä¼šå‚ä¸åç»­çš„è®¡ç®—ï¼Œæ‰€ä»¥æ— éœ€æ ‡å®šã€‚\nåœ¨ä»‹ç»æ ‡å®šåŸç†å‰ï¼Œæˆ‘ä»¬å…ˆä»‹ç»æ‘„åƒå¤´æˆåƒåŸç†ã€å››ä¸ªåæ ‡ç³»ã€æ‘„åƒå¤´å‚æ•°ã€‚\næ ‡å®šåŸç† æˆåƒåŸç† æˆ‘ä»¬ä»¥æœ€å¸¸è§çš„ç›¸æœºä¸ºä¾‹ï¼Œç›¸æœºçš„æˆåƒåŸç†å°±æ˜¯å°å­”æˆåƒåŸç†ï¼Œåç»­çš„æ‰€æœ‰å…¬å¼æ¨å¯¼å‡æ˜¯åŸºäºè¯¥åŸç†è¿›è¡Œçš„ã€‚é€šè¿‡è¯¥åŸç†æˆ‘ä»¬å¯ä»¥å»ºç«‹æ¨¡å‹â€”â€”é’ˆå­”æ¨¡å‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\nå·¦ä¾§æ˜¯ç›¸æœºåæ ‡ç³»ï¼Œå³ä¾§æ˜¯å›¾åƒå¹³é¢ï¼Œç›¸æœºæ‰€åœ¨ä½ç½®ä¸ºåŸç‚¹ï¼Œä¹Ÿæ˜¯æˆåƒå°å­”æ‰€åœ¨ä½ç½®ï¼Œå›¾åƒå¹³é¢ä¸å°å­”çš„è·ç¦»ä¸ºç„¦è· f ï¼Œç„¦è·çš„ç‰©ç†æ„ä¹‰æ˜¯ï¼šå½“å›¾åƒå¹³é¢ä¸ç›¸æœºè·ç¦»ä¸º f æ—¶ï¼Œæˆåƒæœ€æ¸…æ™°ã€‚ Z è½´ä¸ºå…‰è½´ï¼Œå®ƒå‚ç›´äºç›¸æœºå¹³é¢å’Œå›¾åƒå¹³é¢ï¼Œä¸å›¾åƒå¹³é¢çš„äº¤ç‚¹å«ä¸»ç‚¹(Principle point)ã€‚\nä»¥é’ˆå­”æ¨¡å‹ä¸ºåŸºç¡€çš„åæ ‡å˜æ¢ç¤ºæ„å›¾å¦‚ä¸‹ï¼Œæ¶‰åŠåˆ°å››ä¸ªåæ ‡ç³»ï¼šåƒç´ åæ ‡ç³»ã€å›¾åƒåæ ‡ç³»ã€ç›¸æœºåæ ‡ç³»ã€ä¸–ç•Œåæ ‡ç³»ã€‚\næ€»ä¹‹ï¼Œç›¸æœºæˆåƒçš„åŸç†æœ¬è´¨ä¸Šå°±æ˜¯ä¸‰ç»´ç©ºé—´åæ ‡åˆ°äºŒç»´ç©ºé—´åæ ‡çš„å˜æ¢ã€‚æ‰€ä»¥æ ‡å®šçš„ç›®çš„å°±æ˜¯**ç¡®å®šç©ºé—´ç‰©ä½“è¡¨é¢æŸç‚¹çš„ä¸‰ç»´å‡ ä½•ä½ç½®ä¸å…¶åœ¨å›¾åƒä¸­å¯¹åº”ç‚¹ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œå»ºç«‹æ‘„åƒå¤´æˆåƒçš„å‡ ä½•æ¨¡å‹ï¼Œè¿™äº›å‡ ä½•æ¨¡å‹å‚æ•°å°±æ˜¯æ‘„åƒå¤´å‚æ•°ã€‚**æ‰€ä»¥æ±‚å‡ºæ‘„åƒå¤´çš„å‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå°±åŸºæœ¬å®Œæˆäº†æ ‡å®šè¿‡ç¨‹ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»4ä¸ªåæ ‡ç³»ã€‚\nå››ä¸ªåæ ‡ç³» åƒç´ åæ ‡ç³»$(u,v)$\nä¸‹å›¾ä¾¿æ˜¯åƒç´ åæ ‡ç³»ï¼Œåƒç´ çš„åæ ‡å°±æ˜¯åƒç´ åœ¨å›¾åƒä¸­çš„ä½ç½®ï¼Œæ°´å¹³æ–¹å‘ä¸º $u$ è½´ï¼Œå‚ç›´æ–¹å‘ä¸º $v$ è½´ï¼Œå·¦ä¸Šè§’ä¸ºé¡¶ç‚¹ $Op$ ï¼Œä¹Ÿè¢«ç§°ä¸ºè¿œç‚¹ã€‚åƒç´ åæ ‡ç³»åæ˜ äº†æ‘„åƒå¤´/ç›¸æœºçš„æ„Ÿå…‰å…ƒä»¶ï¼ˆCCD/CMOSï¼‰ä¸­åƒç´ çš„æ’åˆ—æƒ…å†µï¼Œåæ ‡è½´å•ä½ä¸ºåƒç´ ï¼ˆPixelï¼‰ï¼Œå¯ä»¥è®¤ä¸ºä¸€ä¸ªå°æ–¹æ ¼å°±ä»£è¡¨ä¸€å—åƒç´ ã€‚\nåœ¨åƒç´ åæ ‡ç³»ä¸­ï¼Œä»»æ„ä¸€ä¸ªåƒç´ åæ ‡å¯ä»¥è¡¨ç¤ºä¸º $(u_i,v_i)$ ã€‚\nå›¾åƒåæ ‡ç³»$(x,y)$ åƒç´ åæ ‡ç³»ä¸‹ï¼Œæ¯ä¸ªåƒç´ çš„åæ ‡æ˜¯ç”±åƒç´ è¡¨ç¤ºçš„ï¼Œä½†æ˜¯è¿™ç§è¡¨ç¤ºæ–¹æ³•ä¸èƒ½ååº”å›¾åƒç‰©ä½“çš„å°ºåº¦å¤§å°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†åƒç´ åæ ‡è½¬æ¢ä¸ºå›¾åƒåæ ‡ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š\nå°†åƒç´ åæ ‡ç³»çš„åŸç‚¹å¹³ç§»åˆ°å›¾åƒä¸­å¿ƒï¼Œå¹¶å°†ä¸­å¿ƒä½ç½®å®šä½å›¾åƒåæ ‡ç³»çš„åŸç‚¹ $O_i$ ï¼ˆå³å›¾åƒä¸­å¿ƒç‚¹ï¼‰ï¼Œå›¾åƒåæ ‡ç³»çš„ x è½´ä¸åƒç´ åæ ‡ç³»çš„ u è½´å¹³è¡Œä¸”åŒå‘ï¼Œ y è½´ä¸ v è½´å¹³è¡Œä¸”åŒå‘ã€‚æˆ‘ä»¬ä¸€èˆ¬æè¿°åƒç´ ç‚¹éƒ½æ˜¯å‡ è¡Œå‡ åˆ—ï¼Œæ‰€ä»¥äºŒè€…çš„è½¬æ¢å…³ç³»ä¸ºï¼šå…¶ä¸­dxå’Œdyè¡¨ç¤ºæ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—åˆ†åˆ«ä»£è¡¨å¤šå°‘mmï¼Œå³1 pixel=dx mmã€‚\næ‘„åƒå¤´åæ ‡ç³»ï¼ˆç›¸æœºåæ ‡ç³»ï¼‰$(x_c,y_c,z_c)$ æ‘„åƒå¤´åæ ‡ç³»ä¹Ÿå«ç›¸æœºåæ ‡ç³»ï¼Œä»¥æ‘„åƒå¤´çš„å…‰è½´ä¸º z è½´ï¼Œå…‰çº¿åœ¨æ‘„åƒå¤´å…‰å­¦ç³»ç»Ÿçš„ä¸­å¿ƒä½ç½®ï¼ˆé•œå¤´çš„å…‰å¿ƒå¤„ï¼‰å°±æ˜¯åŸç‚¹ Ocï¼Œç›¸æœºåæ ‡ç³»çš„æ°´å¹³è½´ xc å’Œå‚ç›´è½´ yc åˆ†åˆ«å’Œå›¾åƒåæ ‡ç³»çš„ x è½´å’Œ y è½´å¹³è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥å‘ç°ï¼Œç›¸æœºåæ ‡ç³»æ˜¯ä¸‰ç»´åæ ‡ç³»ï¼Œä¹‹å‰çš„åƒç´ ã€å›¾åƒåæ ‡ç³»å‡ä¸ºäºŒç»´åæ ‡ç³»ã€‚å…¶ä¸­ï¼Œç›¸æœºåæ ‡ç³»çš„åŸç‚¹ Oc ä¸å›¾åƒåæ ‡ç³»åŸç‚¹ Oi è¿çº¿è·ç¦» $O_cO_i=f$ ï¼Œä¹Ÿå°±æ˜¯æ‘„åƒå¤´ç„¦è·ã€‚\nä¸–ç•Œåæ ‡ç³»$(X_w,Y_w,Z_w)$ ä¸–ç•Œåæ ‡ç³»è¡¨è¾¾äº†å›¾åƒå’Œç°å®ä¸­çš„çœŸå®ç‰©ä½“ä¹‹é—´çš„ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œä»¥æ­¤ä¸ºåŸºå‡†å¯ä»¥æè¿°ç›¸æœºä¸ç‰©ä½“çš„ç©ºé—´ä½ç½®ï¼Œé€šè¿‡ä¸–ç•Œåæ ‡ç³»è½¬æ¢ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç‰©ä½“æ˜ å°„åœ¨å›¾åƒä¸­ã€‚å¯¹äºå•ç›®è§†è§‰è€Œè¨€ï¼Œå°±æ˜¯çœŸå®ç‰©ä½“å°ºå¯¸å’Œå›¾åƒå°ºå¯¸çš„æ˜ å°„å…³ç³»ã€‚å¯¹äºå¤šç›®è§†è§‰è€Œè¨€ï¼Œå°±éœ€è¦æ˜ç¡®å„ä¸ªæ‘„åƒå¤´ä¹‹é—´çš„ä½ç½®å…³ç³»ï¼Œç„¶åå°†å…¶è½¬æ¢åœ¨åŒä¸€ä¸ªåæ ‡ç³»ä¸‹è¿›è¡Œè®¡ç®—ã€‚ä¸–ç•Œåæ ‡ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒåŸç‚¹ä¸º Ow ã€‚\nå½“ç¡®å®šå”¯ä¸€ä¸”ä¸å˜çš„ä¸–ç•Œåæ ‡ç³»åï¼Œåç»­æ‰€æœ‰çš„åæ ‡ç³»éƒ½å¯ä»¥é€šè¿‡åæ ‡å˜æ¢æ¥è·å¾—ï¼Œè€Œå½“å¹³ç§»æˆ–æ—‹è½¬ä¸–ç•Œåæ ‡ç³»åï¼Œé€šè¿‡è½¬æ¢å…³ç³»å¯ä»¥è¿…é€Ÿå¾—åˆ°å›¾åƒåœ¨å…¶ä»–åæ ‡ç³»ä¸‹çš„ä¿¡æ¯ã€‚\nå›¾12 ä¸–ç•Œåæ ‡ç³»\næ³¨æ„ï¼š $X_w,Y_w,Z_w$ è½´å¹¶ä¸æ˜¯å’Œå…¶ä»–åæ ‡ç³»çš„åæ ‡è½´å¹³è¡Œï¼Œè€Œæ˜¯å­˜åœ¨ä¸€å®šçš„è§’åº¦å’Œå¹³ç§»å…³ç³»ã€‚\nä»ä¸–ç•Œåæ ‡ç³»å˜æ¢åˆ°ç›¸æœºåæ ‡ç³»å±äºåˆšä½“å˜æ¢ï¼Œå³ç‰©ä½“ä¸ä¼šå‘ç”Ÿå½¢å˜ï¼Œåªéœ€è¦å¯¹åæ ‡ç³»è¿›è¡Œå¹³ç§»å’Œæ—‹è½¬ï¼Œå½“å¯¹ç›¸æœºåæ ‡ç³»è®¾å®šä¸€å®šçš„å‚æ•°ï¼Œåˆ†åˆ«ç»•ç€ X,Y,Z è½´åšå¹³ç§»å’Œæ—‹è½¬åï¼Œå°±å¯ä»¥å¾—åˆ°åœ¨ä¸–ç•Œåæ ‡ç³»çš„åæ ‡ã€‚\né˜…è¯»åŸæ–‡ https://zhuanlan.zhihu.com/p/668358597\n","date":"2025-06-09T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/camera_calibration/","title":"æ‘„åƒå¤´æ ‡å®šï¼ˆç›¸æœºæ ‡å®šï¼‰åŠå¼ æ­£å‹æ ‡å®šæ³•ï¼ˆå¼ æ°æ ‡å®šæ³•ï¼‰"},{"content":"èƒ¶ç‰‡æ‘„å½±ä¸æ•°ç æ‘„å½± èƒ¶ç‰‡æ‘„å½±æ˜¯æŠŠå…‰å­¦é•œå¤´çš„å…‰ä¿¡å·æŠ•å°„åˆ°èƒ¶ç‰‡ä¸Šï¼Œ æ•°ç æ‘„å½±æ˜¯æŠŠå…‰å­¦é•œå¤´çš„å…‰ä¿¡å·æŠ•å°„åˆ°ä¼ æ„Ÿå™¨ä¸Šï¼Œä¼ æ„Ÿå™¨æŠŠå…‰ä¿¡å·ä¾æ¬¡å¤„ç†ä¸ºç”µä¿¡å·å’Œæ•°å­—ä¿¡å·ï¼Œç‰‡ä¸Šè®¡ç®—æœºå†æŠŠæ•°å­—ä¿¡å·è¿›è¡Œå¤„ç† ç›¸æœºçš„ç»„æˆ åªæœ‰ä¼ æ„Ÿå™¨ç›¸æœºçš„æˆåƒ ä¸€æ£µæ ‘æ‰€æœ‰çš„ç‚¹å‘å‡ºçš„å…‰ç…§å°„åˆ°å›¾åƒä¼ æ„Ÿå™¨ä¸Šï¼Œæœ€åæ‰€æˆçš„åƒä¸º å°å­”æˆåƒ å¦‚æœåœ¨æ ‘å’Œä¼ æ„Ÿå™¨ä¹‹é—´æ”¾ç½®ä¸€ä¸ªæœ‰å°å­”çš„æŒ¡æ¿å‘¢ï¼Œåªæœ‰å‡ æŸå…‰çº¿å¯ä»¥ç©¿è¿‡å°å­”ï¼Œæ‰€æˆçš„åƒå¦‚ä¸‹ï¼Œ æœ‰å°å­”çš„æŒ¡æ¿ç›¸å½“äºç›¸æœºä¸­çš„æŒ¡æ¿ï¼Œå°å­”ç›¸å½“äºå…‰åœˆï¼Œ å°å­”ç›¸æœºçš„å‚æ•°å’Œæˆåƒç»“æœ æŒ¡æ¿å’Œå›¾åƒä¼ æ„Ÿå™¨ä¹‹é—´çš„è·ç¦»ä¸ºç„¦è·ï¼Œ å°†æˆåƒä½ç½®ç§»åŠ¨åˆ°å°å­”ä¸ç‰©ä½“çš„ä¸€ä¾§ï¼Œä¾¿äºç†è§£å°å­”æˆåƒçš„å‡ ä½•æ¨¡å‹\nå¯ä»¥æŠŠä¸Šé¢çš„å›¾è½¬æˆä¸‹é¢çš„å…‰è·¯å›¾ï¼Œå…¶ä¸­ X X\nXæ˜¯çœŸå®ç‰©ä½“çš„ä¸€ä¸ªç‚¹ï¼Œç›¸æœºä¸­å¿ƒæ˜¯å°å­”ï¼Œå°å­”ä¸è™šæ‹Ÿåƒå¹³é¢çš„è·ç¦»æ˜¯ç„¦è·ï¼Œä¸»å…‰è½´æ˜¯å°å­”ä¸è™šæ‹Ÿåƒå¹³é¢çš„å‚ç›´çº¿ï¼Œ ä¹Ÿå¯ä»¥æŠŠä¸Šé¢çš„å…‰è·¯å›¾è½¬æˆä¸‹é¢çš„å½¢å¼ï¼Œå…¶ä¸­\nXæ˜¯çœŸå®ç‰©ä½“çš„ç‚¹åˆ°åƒåœˆï¼ˆå°å­”ï¼‰çš„è·ç¦»ï¼Œ\nYæ˜¯çœŸå®ç‰©ä½“çš„ç‚¹åˆ°ä¸»å…‰è½´çš„è·ç¦»ï¼Œ\nfæ˜¯ç„¦è·ï¼Œæ‰€ä»¥èƒ½å¾—å‡ºæ‰€æˆåƒçš„å¤§å°ä¸ç„¦è·æˆæ­£æ¯”ä¾‹å…³ç³»ï¼Œ\nå¯¹ç„¦è·ç¦»å‡åŠæ—¶ï¼Œæˆåƒå°ºå¯¸å‡åŠï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ\nå…³äºå°å­”æˆåƒçš„ä¸¤ä¸ªé—®é¢˜ Q1ï¼šæˆåƒå°ºå¯¸ä¸å¯¹ç„¦è·ç¦»çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ\næˆåƒå°ºå¯¸ä¸å¯¹ç„¦è·ç¦»æˆæ­£æ¯” Q2ï¼šæˆåƒè´¨é‡ä¸å°å­”å°ºå¯¸åŠå¯¹ç„¦è·ç¦»çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ\nå°å­”å°ºå¯¸å¢å¤§ï¼Œå›¾åƒå˜æ¨¡ç³Š å°å­”å°ºå¯¸è¿‡å°ï¼Œäº§ç”Ÿè¡å°„æ¨¡ç³Š å°å­”å°ºå¯¸è¿‡å°ï¼Œå›¾åƒå˜æš— åªæœ‰åˆé€‚çš„å°å­”å°ºå¯¸ï¼Œæ‰èƒ½å¾—åˆ°æœ€é«˜è´¨é‡çš„å›¾åƒ è¶Šå°çš„å­”ï¼Œæ„å‘³ç€è¶Šå¤§çš„å‚…é‡Œå¶é¢‘è°±ï¼Œä¹Ÿæ„å‘³ç€æ›´å¤šçš„è¡å°„\nç¼©å°å°å­”è¿˜ä¼šå½±å“å…‰æ•ˆ â€“ å•ä½é¢ç§¯ä¼ æ„Ÿå™¨çš„æ›å…‰é‡\nå°å­”æˆåƒçš„ç¼ºé™· æ”¹è¿›ï¼š ","date":"2025-06-09T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/%E5%B0%8F%E5%AD%94%E6%88%90%E5%83%8F/","title":"å°å­”æˆåƒ"},{"content":"å¦‚ä½•åœ¨Halconä¸­è¿›è¡Œå›¾åƒé…å‡†ï¼Ÿ åœ¨ Halcon ä¸­å›¾åƒé…å‡†é€šå¸¸ä½¿ç”¨ FindShapeModel å‡½æ•°ï¼Œå®ƒé€šè¿‡å½¢çŠ¶åŒ¹é…æ¥å®šä½æ¨¡å‹çš„ä½ç½®å’Œè§’åº¦ã€‚\né¦–å…ˆï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªå½¢çŠ¶æ¨¡å‹æ¥æè¿°å¾…åŒ¹é…çš„å›¾åƒç‰¹å¾ï¼Œç„¶åä½¿ç”¨ FindShapeModel åœ¨ç›®æ ‡å›¾åƒä¸­æŸ¥æ‰¾åŒ¹é…ã€‚\nå¯ä»¥è®¾ç½®åŒ¹é…çš„ç²¾åº¦å’Œå®¹å¿åº¦ï¼Œä»¥æé«˜é…å‡†çš„å‡†ç¡®æ€§ã€‚é…å‡†åï¼Œè¿”å›æ¨¡å‹çš„ä½ç½®ä¿¡æ¯ï¼ˆä½ç½®ã€æ—‹è½¬è§’åº¦ç­‰ï¼‰ï¼Œä½¿å¾—ç‰©ä½“å®šä½æ›´åŠ ç²¾å‡†ã€‚\nHalcon ä¸­çš„ Region å’Œ Image çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨Halconä¸­ Region å’Œ Imageæ˜¯ä¸¤ç§ä¸åŒçš„æ•°æ®ç±»å‹ã€‚\nImageè¡¨ç¤ºåŸå§‹å›¾åƒæ•°æ®ï¼ŒåŒ…å«æ¯ä¸ªåƒç´ çš„é¢œè‰²æˆ–ç°åº¦å€¼ï¼›\nè€Œ Regionåˆ™è¡¨ç¤ºå›¾åƒä¸­çš„äºŒå€¼åŒ–åŒºåŸŸï¼Œå³åªåŒ…å«å‰æ™¯æˆ–èƒŒæ™¯åŒºåŸŸã€‚\né€šè¿‡é˜ˆå€¼å¤„ç†ã€å½¢æ€å­¦æ“ä½œå¯ä»¥å°†Image è½¬æ¢ä¸ºRegionï¼Œè¿›è¡ŒåŒºåŸŸåˆ†æå’Œå¤„ç†ã€‚\nRegion æ›´å¤šåœ°ç”¨äºå½¢æ€å­¦ã€æµ‹é‡ã€åˆ†å‰²ç­‰ä»»åŠ¡ï¼Œè€Œ Image ç”¨äºå›¾åƒå¤„ç†å’Œåˆ†æã€‚\nHalcon ä¸­çš„ ReduceDomain å‡½æ•°å¦‚ä½•ä½¿ç”¨ï¼Ÿ ReduceDomain å‡½æ•°ç”¨äºé™åˆ¶å›¾åƒçš„å¤„ç†åŒºåŸŸï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«æ„Ÿå…´è¶£åŒºåŸŸï¼ˆROIï¼‰çš„æ–°å›¾åƒã€‚\nç”¨æˆ·å¯ä»¥æŒ‡å®šä¸€ä¸ªåŒºåŸŸï¼ˆå¦‚çŸ©å½¢ã€åœ†å½¢ç­‰ï¼‰ï¼Œç„¶å ReduceDomainä¼šå°†å›¾åƒçš„åŸŸé™åˆ¶åœ¨è¯¥åŒºåŸŸå†…ï¼Œåç»­çš„å›¾åƒå¤„ç†ä»…åœ¨è¯¥åŒºåŸŸå†…è¿›è¡Œã€‚\nè¿™å¯¹äºåŠ é€Ÿå¤„ç†å’Œæé«˜è®¡ç®—æ•ˆç‡éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å›¾åƒä¸­åªéœ€è¦å…³æ³¨æŸä¸ªç‰¹å®šåŒºåŸŸæ—¶ã€‚\nå¦‚ä½•åœ¨ Halcon ä¸­è®¡ç®—ç‰©ä½“çš„é¢ç§¯ åœ¨Halconä¸­ï¼Œè®¡ç®—ç‰©ä½“çš„é¢ç§¯å¯ä»¥ä½¿ç”¨ AreaCenterå‡½æ•°ã€‚è¯¥å‡½æ•°ä¸ä»…è¿”å›ç‰©ä½“çš„é¢ç§¯ï¼Œè¿˜è¿”å›ç‰©ä½“çš„è´¨å¿ƒåæ ‡ã€‚\né¢ç§¯çš„å•ä½é€šå¸¸ä¸ºåƒç´ ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦è½¬æ¢ä¸ºå®é™…ç‰©ç†å•ä½ï¼ˆå¦‚æ¯«ç±³ã€å˜ç±³ç­‰ï¼‰ã€‚é¢ç§¯è®¡ç®—é€šå¸¸ç”¨äºç‰©ä½“è®¡æ•°ã€å°ºå¯¸æµ‹é‡å’Œè´¨é‡æ§åˆ¶ç­‰åº”ç”¨ä¸­ã€‚\nAreaCenteråœ¨å¤„ç†äºŒå€¼å›¾åƒæ—¶å°¤ä¸ºå¸¸è§ï¼Œå¯ç”¨æ¥è®¡ç®—ç‰©ä½“ã€å­”æ´æˆ–å…¶ä»–æ„Ÿå…´è¶£åŒºåŸŸçš„é¢ç§¯ã€‚\nå¦‚ä½•åœ¨ Halcon ä¸­æå–å›¾åƒçš„è¾¹ç¼˜ï¼Ÿ Halcon æä¾›äº†å¤šä¸ªå‡½æ•°æ¥æå–å›¾åƒçš„è¾¹ç¼˜ï¼Œå¸¸ç”¨çš„å‡½æ•°åŒ…æ‹¬EdgeSubPixå’Œ EdgeGrayã€‚\nEdgeSubPixç”¨äºäºšåƒç´ çº§è¾¹ç¼˜æ£€æµ‹ï¼Œå®ƒé€šè¿‡æ›´ç²¾ç»†çš„åƒç´ ä¼°è®¡æ¥è·å–è¾¹ç¼˜ä½ç½®ï¼Œé€‚åˆé«˜ç²¾åº¦è¦æ±‚çš„åº”ç”¨ã€‚\nEdgeGrayåˆ™åŸºäºå›¾åƒç°åº¦æ¢¯åº¦è¿›è¡Œè¾¹ç¼˜æ£€æµ‹ï¼Œé€‚ç”¨äºä¸€èˆ¬çš„è¾¹ç¼˜æå–ä»»åŠ¡ã€‚\nè¾¹ç¼˜æ£€æµ‹åœ¨ç‰©ä½“è¯†åˆ«ã€å½¢çŠ¶åˆ†æå’Œè½®å»“æå–ä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚\nHalcon å¦‚ä½•å¤„ç†å›¾åƒçš„ç°åº¦å˜æ¢ï¼Ÿ Halconæä¾›äº†å¤šç§ç°åº¦å˜æ¢å‡½æ•°ï¼Œå¦‚ GammaCorrectionã€LogTransformationã€PowerTransformationç­‰ã€‚ç°åº¦å˜æ¢ç”¨äºè°ƒæ•´å›¾åƒçš„äº®åº¦ã€å¯¹æ¯”åº¦æˆ–ç‰¹å®šçš„ç°åº¦ç‰¹å¾ã€‚\nä¾‹å¦‚ï¼ŒGammaCorrectionå¯ä»¥è°ƒæ•´å›¾åƒçš„å¯¹æ¯”åº¦ï¼Œä½¿å›¾åƒæ›´é€‚åˆåç»­çš„åˆ†æã€‚ç°åº¦å˜æ¢æ“ä½œé€šå¸¸ç”¨äºå›¾åƒå¢å¼ºã€å¯¹æ¯”åº¦è°ƒæ•´ç­‰ï¼Œå¸®åŠ©çªå‡ºå›¾åƒä¸­çš„å…³é”®ä¿¡æ¯ï¼Œæ”¹å–„å›¾åƒçš„è´¨é‡ï¼Œé€‚åº”ä¸åŒçš„å¤„ç†éœ€æ±‚ã€‚\nHalcon ä¸­çš„ FindNccModel å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ FindNccModelå‡½æ•°ç”¨äºè¿›è¡ŒåŸºäºæ¨¡æ¿çš„å›¾åƒåŒ¹é…ï¼Œåˆ©ç”¨å½’ä¸€åŒ–äº’ç›¸å…³ï¼ˆNCCï¼‰æ¥æ¯”è¾ƒç›®æ ‡å›¾åƒå’Œæ¨¡æ¿å›¾åƒçš„ç›¸ä¼¼æ€§ã€‚\nè¯¥å‡½æ•°åœ¨å®é™…åº”ç”¨ä¸­å¸¸ç”¨äºå®šä½ç‰©ä½“æˆ–è¯†åˆ«ç‰¹å®šå½¢çŠ¶ï¼Œé€‚ç”¨äºæ¨¡æ¿è¾ƒå°ã€æ—‹è½¬è§’åº¦å˜åŒ–è¾ƒå°çš„åœºæ™¯ã€‚\nç”¨æˆ·å¯ä»¥è®¾ç½®åŒ¹é…ç²¾åº¦ã€åŒ¹é…æ–¹å‘å’Œå®¹å¿åº¦å‚æ•°ï¼Œä»¥æé«˜åŒ¹é…çš„æˆåŠŸç‡ã€‚æ­¤å‡½æ•°å¹¿æ³›åº”ç”¨äºå·¥ä¸šè‡ªåŠ¨åŒ–ã€è§†è§‰æ£€æµ‹å’Œè´¨é‡æ§åˆ¶ç­‰é¢†åŸŸã€‚\nHalcon ä¸­å¦‚ä½•ä½¿ç”¨æ·±åº¦å­¦ä¹ è¿›è¡Œç¼ºé™·æ£€æµ‹ï¼Ÿ åœ¨Halconä¸­è¿›è¡Œç¼ºé™·æ£€æµ‹æ—¶ï¼Œé€šå¸¸ä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹æ¥è¯†åˆ«äº§å“è¡¨é¢ä¸Šçš„ç¼ºé™·ï¼Œå¦‚è£‚çº¹ã€åˆ’ç—•ç­‰ã€‚é¦–å…ˆï¼Œéœ€è¦æ”¶é›†å¸¦æ ‡ç­¾çš„æ­£å¸¸ä¸ç¼ºé™·æ ·æœ¬ã€‚\nä½¿ç”¨TrainDLClassifierè¿›è¡Œè®­ç»ƒï¼Œæ¨¡å‹å°†å­¦ä¹ æ­£å¸¸æ ·æœ¬çš„ç‰¹å¾ä»¥åŠç¼ºé™·æ ·æœ¬çš„ç‰¹å¾ã€‚å®Œæˆè®­ç»ƒåï¼Œä½¿ç”¨ClassifyDLç®—å­å¯¹æ–°å›¾åƒè¿›è¡Œç¼ºé™·æ£€æµ‹ã€‚\næ·±åº¦å­¦ä¹ æ¨¡å‹é€šè¿‡å­¦ä¹ ä¸åŒçš„ç¼ºé™·ç±»å‹ï¼Œèƒ½å¤Ÿå‡†ç¡®è¯†åˆ«å¹¶åˆ†ç±»ç¼ºé™·ï¼Œæé«˜å·¥ä¸šç”Ÿäº§çº¿ä¸Šçš„æ£€æµ‹æ•ˆç‡ã€‚\nHalcon ä¸­å¦‚ä½•è¿›è¡Œç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒä¸ä¼˜åŒ–ï¼Ÿ åœ¨Halconä¸­ï¼Œç›®æ ‡æ£€æµ‹æ¨¡å‹çš„è®­ç»ƒæ¶‰åŠå¤šç§æ•°æ®å¤„ç†æŠ€æœ¯ã€‚\né¦–å…ˆï¼Œéœ€è¦å‡†å¤‡å¤§é‡å¸¦æœ‰æ ‡ç­¾çš„è®­ç»ƒå›¾åƒï¼ŒåŒ…æ‹¬æ¯ä¸ªç‰©ä½“çš„è¾¹ç•Œåæ ‡ã€‚Halconæä¾›TrainObjectDetectionç®—å­è¿›è¡Œè®­ç»ƒã€‚\nè®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡è°ƒæ•´å­¦ä¹ ç‡ã€æ‰¹æ¬¡å¤§å°ã€è®­ç»ƒæ¬¡æ•°ç­‰å‚æ•°æ¥ä¼˜åŒ–æ¨¡å‹ã€‚åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥é€šè¿‡éªŒè¯é›†ä¸Šçš„æŸå¤±å€¼æ¥åˆ¤æ–­æ¨¡å‹çš„è¡¨ç°ã€‚å¦‚æœæ¨¡å‹è¿‡æ‹Ÿåˆæˆ–æ¬ æ‹Ÿåˆï¼Œéœ€è°ƒæ•´ç½‘ç»œç»“æ„ã€æ•°æ®å¢å¼ºæ–¹æ³•æˆ–ä¼˜åŒ–å™¨ã€‚\nHalcon ä¸­çš„ç›®æ ‡æ£€æµ‹ä¸åˆ†ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ ç›®æ ‡æ£€æµ‹å’Œåˆ†ç±»æ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„ä¸¤ä¸ªä¸åŒä»»åŠ¡ã€‚ç›®æ ‡æ£€æµ‹ä¸ä»…è¦æ±‚åˆ†ç±»ç‰©ä½“ï¼Œè¿˜éœ€è¦å®šä½ç‰©ä½“çš„ä½ç½®ï¼ˆå³ç”Ÿæˆè¾¹ç•Œï¼‰ã€‚\nè€Œåˆ†ç±»ä»»åŠ¡ä»…éœ€è¦è¯†åˆ«å›¾åƒä¸­çš„ç‰©ä½“ç±»åˆ«ã€‚Halconä¸­çš„ç›®æ ‡æ£€æµ‹ä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚YOLOï¼‰è¿›è¡Œä½ç½®å’Œç±»åˆ«çš„åŒé‡é¢„æµ‹ï¼Œè€Œåˆ†ç±»ä»»åŠ¡åˆ™ä½¿ç”¨å•ä¸€çš„ç±»åˆ«æ ‡ç­¾ã€‚\nåˆ†ç±»å…³æ³¨æ•´ä½“çš„å›¾åƒç±»åˆ«ï¼Œè€Œç›®æ ‡æ£€æµ‹æ³¨é‡å›¾åƒä¸­æ‰€æœ‰ç‰©ä½“çš„ä½ç½®ä¸ç±»åˆ«ã€‚\nHalcon ä¸­çš„å¼‚å¸¸æ£€æµ‹æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ å¼‚å¸¸æ£€æµ‹ï¼ˆAnomaly Detectionï¼‰åœ¨Halconä¸­é€šå¸¸ä½¿ç”¨æ— ç›‘ç£å­¦ä¹ æ–¹æ³•æ¥æ£€æµ‹å›¾åƒä¸­çš„å¼‚å¸¸æ¨¡å¼ã€‚\nåœ¨è®­ç»ƒé˜¶æ®µï¼Œç³»ç»Ÿä¼šå­¦ä¹ åˆ°æ­£å¸¸æ ·æœ¬çš„ç‰¹å¾ï¼Œå¹¶é€šè¿‡è®¡ç®—å›¾åƒçš„ç‰¹å¾å‘é‡æ¥ä¸è®­ç»ƒæ•°æ®ä¸­çš„æ­£å¸¸æ ·æœ¬è¿›è¡Œå¯¹æ¯”ã€‚ä½¿ç”¨æ·±åº¦å­¦ä¹ æ¨¡å‹æˆ–å…¶ä»–ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼ˆå¦‚æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰ï¼‰æ¥æ„å»ºå¼‚å¸¸æ£€æµ‹æ¨¡å‹ã€‚\nHalconä¸­çš„DetectAnomaliesç®—å­å¯ä»¥å¸®åŠ©å¿«é€Ÿè¿›è¡Œå¼‚å¸¸æ£€æµ‹ã€‚è¯¥æŠ€æœ¯å¹¿æ³›åº”ç”¨äºå·¥ä¸šç”Ÿäº§çº¿ä¸Šçš„ç¼ºé™·æ£€æµ‹ã€‚\nHalcon ä¸­çš„å½¢æ€å­¦æ“ä½œæœ‰ä»€ä¹ˆä½œç”¨ï¼Œå¦‚ä½•ä½¿ç”¨å®ƒä»¬è¿›è¡Œå›¾åƒåˆ†æï¼Ÿ å½¢æ€å­¦æ“ä½œä¸»è¦ç”¨äºå›¾åƒçš„ç»“æ„åˆ†æï¼Œå¸¸è§æ“ä½œåŒ…æ‹¬è†¨èƒ€ã€è…èš€ã€å¼€è¿ç®—å’Œé—­è¿ç®—ç­‰ã€‚\nåœ¨Halconä¸­ï¼Œå½¢æ€å­¦æ“ä½œç”¨äºå»å™ªã€è¿æ¥ç‰©ä½“ã€æå–è½®å»“ç­‰ä»»åŠ¡ã€‚è†¨èƒ€å’Œè…èš€ç®—å­ä¸»è¦ç”¨äºå¯¹å›¾åƒçš„ç»“æ„è¿›è¡Œè°ƒæ•´ï¼Œå¼€é—­è¿ç®—å¯ä»¥å¸®åŠ©å»é™¤å™ªå£°æˆ–å¡«è¡¥ç©ºæ´ã€‚\né€šè¿‡ç»„åˆè¿™äº›æ“ä½œï¼Œèƒ½å¤Ÿä»å¤æ‚çš„å›¾åƒä¸­æå–å‡ºæ‰€éœ€çš„ç‰¹å¾å¹¶è¿›è¡Œåç»­åˆ†æã€‚\nHalcon å¦‚ä½•å¤„ç†éè§„åˆ™ç‰©ä½“çš„æµ‹é‡ï¼Ÿ å¯¹äºéè§„åˆ™ç‰©ä½“çš„æµ‹é‡ï¼ŒHalconå¯ä»¥ä½¿ç”¨è½®å»“åˆ†æå’Œå½¢æ€å­¦æ“ä½œã€‚\né€šè¿‡æå–ç‰©ä½“çš„è¾¹ç¼˜ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨æ‹Ÿåˆç®—å­ï¼ˆå¦‚æ‹Ÿåˆæ›²çº¿ã€æ‹Ÿåˆåœ†ç­‰ï¼‰ï¼Œå¯ä»¥ä»ä¸è§„åˆ™å½¢çŠ¶ä¸­æå–å‡ºå…³é”®ä¿¡æ¯ã€‚å¯¹äºå¤æ‚çš„éè§„åˆ™ç‰©ä½“ï¼Œé€šå¸¸éœ€è¦å¤šæ­¥éª¤å¤„ç†ï¼Œå¦‚å…ˆé€šè¿‡è¾¹ç¼˜æ£€æµ‹æå–å¤§è‡´å½¢çŠ¶ï¼Œå†é€šè¿‡ç»†åŒ–ç®—æ³•æå–ç‰©ä½“çš„ç²¾ç»†ç‰¹å¾ï¼Œæœ€åè¿›è¡Œå°ºå¯¸è®¡ç®—ã€‚\nåœ¨Halconä¸­å¦‚ä½•å¤„ç†å™ªå£°ï¼Ÿ Halconæä¾›å¤šç§å»å™ªæ‰‹æ®µï¼ŒåŒ…æ‹¬ä¸­å€¼æ»¤æ³¢ã€é«˜æ–¯æ»¤æ³¢ç­‰ã€‚ä¸­å€¼æ»¤æ³¢é€‚ç”¨äºå»é™¤æ¤’ç›å™ªå£°ï¼Œè€Œé«˜æ–¯æ»¤æ³¢åˆ™é€‚ç”¨äºå»é™¤é«˜æ–¯å™ªå£°ã€‚\nå¯¹äºå¤æ‚çš„å™ªå£°ï¼Œå¯ä»¥ä½¿ç”¨å½¢æ€å­¦æ»¤æ³¢ç®—å­ï¼Œå¦‚å¼€è¿ç®—å’Œé—­è¿ç®—ï¼Œè¿™æœ‰åŠ©äºå»é™¤å°çš„å™ªç‚¹æˆ–è¿æ¥åˆ†ç¦»çš„ç‰©ä½“ã€‚\næ­¤å¤–ï¼ŒHalconè¿˜æä¾›äº†å›¾åƒè´¨é‡è¯„ä¼°å·¥å…·ï¼Œç”¨äºåˆ†æå›¾åƒä¸­çš„å™ªå£°ç±»å‹å’Œç¨‹åº¦ï¼Œä»è€Œé€‰æ‹©åˆé€‚çš„å»å™ªæ–¹æ³•ã€‚\nHalcon ä¸­å¦‚ä½•è¿›è¡Œé¢œè‰²æ£€æµ‹ä¸åˆ†æï¼Ÿ åœ¨Halconä¸­ï¼Œé¢œè‰²æ£€æµ‹é€šå¸¸éœ€è¦å…ˆè¿›è¡Œé¢œè‰²ç©ºé—´è½¬æ¢ï¼ˆä¾‹å¦‚ä»RGBåˆ°HSVæˆ–Labé¢œè‰²ç©ºé—´ï¼‰ï¼Œç„¶åé€šè¿‡é¢œè‰²åˆ†å‰²æ¥æå–æ„Ÿå…´è¶£åŒºåŸŸã€‚\nå¸¸ç”¨çš„é¢œè‰²åˆ†å‰²ç®—å­å¦‚Thresho1då¯ä»¥æ ¹æ®æŒ‡å®šçš„é¢œè‰²èŒƒå›´æ¥æå–ç›®æ ‡åŒºåŸŸã€‚æ­¤å¤–ï¼ŒHalconè¿˜æä¾›äº†é¢œè‰²ç›´æ–¹å›¾åˆ†æã€é¢œè‰²åŒ¹é…å’Œé¢œè‰²åŒºåŸŸåˆ†æç­‰åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©åœ¨å¤æ‚èƒŒæ™¯ä¸‹è¿›è¡Œå‡†ç¡®çš„é¢œè‰²è¯†åˆ«ã€‚\nHalcon å¦‚ä½•é€šè¿‡æ¨¡æ¿åŒ¹é…è¿›è¡Œç‰©ä½“å®šä½ï¼Ÿ åœ¨Halconä¸­ï¼Œæ¨¡æ¿åŒ¹é…æ˜¯ä¸€ç§é€šè¿‡å·²çŸ¥æ¨¡æ¿å›¾åƒå®šä½ç‰©ä½“çš„æŠ€æœ¯ã€‚ä½¿ç”¨FindShapeMode1ç®—å­ï¼Œå¯ä»¥é€šè¿‡å›¾åƒä¸­çš„å½¢çŠ¶ç‰¹å¾åŒ¹é…æ¥å®šä½ç›®æ ‡ç‰©ä½“ã€‚\næ¨¡æ¿åŒ¹é…çš„åŸºæœ¬æ­¥éª¤åŒ…æ‹¬ï¼šé¦–å…ˆï¼Œåˆ›å»ºæ¨¡æ¿å›¾åƒï¼ˆå¯ä»¥æ˜¯ç›®æ ‡ç‰©ä½“çš„äºŒç»´å›¾åƒï¼‰ï¼Œç„¶åï¼Œé€šè¿‡å›¾åƒå¤„ç†ç®—æ³•æå–å‡ºè¯¥æ¨¡æ¿çš„å½¢çŠ¶ç‰¹å¾ã€‚\nåŒ¹é…è¿‡ç¨‹ä¸­ï¼ŒHalconä¼šæ ¹æ®è¿™äº›ç‰¹å¾åœ¨å¾…æ£€æµ‹å›¾åƒä¸­æ‰¾åˆ°ç›¸ä¼¼çš„åŒºåŸŸï¼Œå¹¶è¿”å›åŒ¹é…çš„ä½ç½®ã€è§’åº¦å’Œå°ºåº¦ä¿¡æ¯ã€‚\nåœ¨Halconä¸­å¦‚ä½•è¿›è¡Œç‰©ä½“çš„è§’åº¦æµ‹é‡ï¼Ÿ Halconä¸­è¿›è¡Œè§’åº¦æµ‹é‡é€šå¸¸éœ€è¦é¦–å…ˆé€šè¿‡è¾¹ç¼˜æ£€æµ‹æˆ–æ‹Ÿåˆç®—å­æå–ç‰©ä½“çš„è¾¹ç¼˜æˆ–ç‰¹å¾ã€‚ç„¶åï¼Œå¯ä»¥ä½¿ç”¨Ang1eç®—å­æ¥è®¡ç®—ä¸¤æ¡è¾¹ç¼˜æˆ–ä¸¤æ¡æ‹Ÿåˆç›´çº¿ä¹‹é—´çš„è§’åº¦ã€‚è¯¥è§’åº¦çš„å•ä½å¯ä»¥è®¾ç½®ä¸ºåº¦æˆ–å¼§åº¦ã€‚\né€šè¿‡å¤šç‚¹æ‹Ÿåˆæ–¹æ³•ï¼Œå¯ä»¥æ›´ç²¾ç¡®åœ°è·å–ç‰©ä½“çš„è§’åº¦ï¼Œç‰¹åˆ«æ˜¯åœ¨ç‰©ä½“å­˜åœ¨æ—‹è½¬æˆ–å€¾æ–œçš„æƒ…å†µä¸‹ã€‚\nåœ¨Halconä¸­å¦‚ä½•å®ç°ç›´çº¿æ‹Ÿåˆï¼Ÿ åœ¨Halconä¸­ï¼Œç›´çº¿æ‹Ÿåˆé€šè¿‡ç®—å­FitLineæ¥å®ç°ã€‚è¯¥ç®—å­å¯ä»¥æ ¹æ®ç»™å®šçš„ç‚¹é›†æ‹Ÿåˆå‡ºæœ€ä½³æ‹Ÿåˆç›´çº¿ã€‚\nå…·ä½“æ­¥éª¤åŒ…æ‹¬ï¼šé¦–å…ˆé€šè¿‡è¾¹ç¼˜æ£€æµ‹æˆ–é˜ˆå€¼åˆ†å‰²å¾—åˆ°ä¸€ç³»åˆ—ç‚¹ï¼Œç„¶åä½¿ç”¨FitLineç®—æ³•æ ¹æ®è¿™äº›ç‚¹çš„å æ ‡ä¿¡æ¯æ¥è®¡ç®—æœ€ä½³æ‹Ÿåˆç›´çº¿ã€‚æ‹Ÿåˆç»“æœåŒ…æ‹¬ç›´çº¿çš„æ–œç‡ã€æˆªè·ä»¥åŠæ‹Ÿåˆçš„è¯¯å·®ã€‚Halconè¿˜æä¾›äº†ä¸åŒçš„æ‹Ÿåˆç²¾åº¦é€‰é¡¹ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚è°ƒæ•´ã€‚\nHalconä¸­çš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•æœ‰å“ªå‡ ç§ï¼Ÿ Halconæä¾›å¤šç§è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼Œä»¥é€‚åº”ä¸åŒçš„å›¾åƒå’Œåº”ç”¨åœºæ™¯ã€‚å¸¸è§çš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•åŒ…æ‹¬Sobelã€Prewittã€Cannyå’ŒLaplacianç­‰ã€‚\næ¯ç§ç®—æ³•çš„åŸç†ä¸åŒï¼ŒSobelå’ŒPrewittç®—å­ä¸»è¦ç”¨äºæ£€æµ‹å›¾åƒä¸­çš„æ¢¯åº¦å˜åŒ–ï¼Œé€‚åˆæ£€æµ‹è¾ƒä¸ºæ˜æ˜¾çš„è¾¹ç¼˜ï¼›Cannyç®—å­åˆ™æ˜¯ä¸€ç§å¤šé˜¶æ®µç®—æ³•ï¼Œèƒ½å¤Ÿæ£€æµ‹åˆ°æ›´ç²¾ç»†çš„è¾¹ç¼˜ï¼Œä¸”ä¸æ˜“å—å™ªå£°å½±å“ã€‚\nLaplacianç®—å­åˆ™å¯ä»¥ç”¨äºæ£€æµ‹å›¾åƒä¸­çš„äºŒé˜¶å¯¼æ•°å˜åŒ–ï¼Œé€‚åˆç”¨äºç»†èŠ‚æ£€æµ‹ã€‚\nHalconå¦‚ä½•è¿›è¡ŒäºŒç»´ç /æ¡å½¢ç çš„è¯»å–ï¼Ÿ åœ¨Halconä¸­ï¼Œè¯»å–äºŒç»´ç å’Œæ¡å½¢ç éå¸¸ç›´æ¥ã€‚ä½¿ç”¨ç›¸å…³çš„æ¡å½¢ç è¯»å–ç®—å­ï¼Œå¦‚FindBarcodeå’Œ FindQRCodeï¼Œå®ƒä»¬å¯ä»¥å¿«é€Ÿåœ°ä»å›¾åƒä¸­æ£€æµ‹åˆ°æ¡å½¢ç æˆ–äºŒç»´ç ã€‚\nè¯»å–è¿‡ç¨‹ä¸­ï¼ŒHalconä¼šé¦–å…ˆå®šä½æ¡å½¢ç çš„è¾¹ç•Œï¼Œè¿›è¡Œè§£ç ï¼Œå¹¶è¿”å›ç¼–ç ä¿¡æ¯ã€‚ä¸ºäº†æé«˜è¯»å–çš„å‡†ç¡®æ€§ï¼Œå›¾åƒé¢„å¤„ç†æ­¥éª¤ï¼ˆå¦‚å¯¹æ¯”åº¦å¢å¼ºæˆ–å»å™ªï¼‰é€šå¸¸æ˜¯å¿…é¡»çš„ï¼Œå°¤å…¶åœ¨å›¾åƒè´¨é‡è¾ƒå·®çš„æƒ…å†µä¸‹ã€‚\n","date":"2025-04-11T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/halcon_base/","title":"HalconåŸºç¡€"},{"content":"åœ¨å½“ä»Šçš„ç§‘æŠ€é¢†åŸŸï¼Œå¤§æ¨¡å‹å’ŒAIæŠ€æœ¯çš„å‘å±•å¯è°“æ˜¯æ—¥æ–°æœˆå¼‚ã€‚åœ¨åˆå­¦å¤§æ¨¡å‹çš„æ—¶å€™ï¼Œå¤§å®¶è‚¯å®šä¼šç¢°åˆ°å„ç§ä¸“ä¸šæœ¯è¯­ï¼Œè®©äººçœ¼èŠ±ç¼­ä¹±ã€‚æœ¬æ–‡å°†ä¸ºæ‚¨ç®€å•åœ°è§£é‡Šä¸€äº›å…³é”®æœ¯è¯­ï¼Œå¸®åŠ©æ‚¨åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­æ›´å¥½åœ°ç†è§£å¤§æ¨¡å‹å’ŒAIçš„ä¸–ç•Œã€‚\nå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼ŒLarge Language Modelï¼‰ å¤§è¯­è¨€æ¨¡å‹æ˜¯ä¸€ç§åŸºäºæ·±åº¦å­¦ä¹ çš„å¤§è§„æ¨¡ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œé€šå¸¸é‡‡ç”¨Transformeræ¶æ„ã€‚å®ƒèƒ½å¤Ÿå¤„ç†å¤§é‡çš„è¯­è¨€æ•°æ®å¹¶ç”Ÿæˆé«˜è´¨é‡çš„æ–‡æœ¬ï¼Œé€šè¿‡å¤§è§„æ¨¡çš„æ•°æ®é›†è®­ç»ƒæ¥å­¦ä¹ è¯­è¨€çš„å¤æ‚æ¨¡å¼ã€‚ä¾‹å¦‚ï¼ŒGPTç³»åˆ—å’ŒBERTéƒ½æ˜¯è‘—åçš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå®ƒä»¬åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ä¸­è¡¨ç°å‡ºè‰²ï¼Œèƒ½å¤Ÿè¿›è¡Œå¤æ‚å¯¹è¯ã€æ–‡æœ¬åˆ›ä½œç­‰ã€‚\nTransformer Transformeræ˜¯ä¸€ç§å¹¿æ³›åº”ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œå› å…¶è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆself-attentionï¼‰è€Œèƒ½å¤Ÿé«˜æ•ˆå¤„ç†åºåˆ—æ•°æ®ä¸­çš„é•¿è·ç¦»ä¾èµ–å…³ç³»ï¼Œæˆä¸ºNLPé¢†åŸŸçš„ä¸»æµæ¶æ„ã€‚å°±åƒAIç•Œçš„ä¹é«˜å¤§å¸ˆï¼Œé€šè¿‡â€œæ³¨æ„åŠ›æœºåˆ¶â€æ‰¾åˆ°è¯è¯­é—´çš„å…³ç³»ï¼Œä¾‹å¦‚åœ¨è¯»ä¾¦æ¢å°è¯´æ—¶ï¼Œè‡ªåŠ¨æ ‡çº¢â€œå‡¶æ‰‹â€å’Œâ€œå‡¶å™¨â€çš„å…³é”®çº¿ç´¢ã€‚\nRNN-å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Networkï¼‰ RNNæ˜¯ä¸€ç§èƒ½å¤Ÿå¤„ç†åºåˆ—æ•°æ®çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œé€‚ç”¨äºè‡ªç„¶è¯­è¨€å¤„ç†ç­‰ä»»åŠ¡ã€‚å°½ç®¡æœ‰æ•ˆï¼Œä½†åœ¨æ•æ‰é•¿æœŸä¾èµ–æ–¹é¢å­˜åœ¨å±€é™æ€§ï¼Œå®¹æ˜“å‡ºç°æ¢¯åº¦æ¶ˆå¤±æˆ–çˆ†ç‚¸çš„é—®é¢˜.\nLSTM-é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼ˆLong Short-Term Memoryï¼‰ LSTMæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„RNNï¼Œé€šè¿‡ç‰¹æ®Šçš„é—¨æ§æœºåˆ¶è§£å†³äº†æ ‡å‡†RNNåœ¨é•¿åºåˆ—è®­ç»ƒä¸­çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œä»è€Œæ›´å¥½åœ°æ•æ‰é•¿æœŸä¾èµ–å…³ç³»ã€‚\nCNN-å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Networkï¼‰ CNNæ˜¯ä¸€ç§ä¸“é—¨ç”¨äºå¤„ç†å›¾åƒæ•°æ®çš„ç¥ç»ç½‘ç»œæ¶æ„ï¼Œé€šè¿‡å·ç§¯æ“ä½œæå–å›¾åƒç‰¹å¾ã€‚æ­¤å¤–ï¼ŒCNNä¹Ÿå¯åº”ç”¨äºæ–‡æœ¬åˆ†ç±»ç­‰å…¶ä»–é¢†åŸŸã€‚\nPrompt è¾“å…¥ç»™AIæ¨¡å‹çš„æç¤ºè¯ã€‚åœ¨AIå¤§æ¨¡å‹ä¸­ï¼Œç”¨äºå¼•å¯¼æ¨¡å‹ç”Ÿæˆç‰¹å®šç±»å‹è¾“å‡ºçš„ä¸Šä¸‹æ–‡ä¿¡æ¯æˆ–æŒ‡ä»¤ã€‚ä¾‹å¦‚ï¼Œå‘Šè¯‰æ¨¡å‹â€œç”¨æç™½çš„é£æ ¼å†™ä¸‰è¡Œè¯—ï¼Œä¸»é¢˜æ˜¯ç§‹å¤©çš„å¥¶èŒ¶â€ï¼Œå°±åƒå’ŒAIè¯´è¯çš„â€œé­”æ³•å’’è¯­â€è®¾è®¡æœ¯ã€‚\nPrompt Engineering-æç¤ºå·¥ç¨‹ è®¾è®¡å’Œä¼˜åŒ–è¾“å…¥æç¤ºçš„è¿‡ç¨‹ï¼Œä»¥æå‡äººå·¥æ™ºèƒ½æ¨¡å‹è¾“å‡ºæ•ˆæœçš„æŠ€æœ¯ã€‚é€šè¿‡æ˜ç¡®çš„æŒ‡ç¤ºã€ç›¸å…³çš„ä¸Šä¸‹æ–‡ã€å…·ä½“çš„ä¾‹å­ä»¥åŠå‡†ç¡®çš„è¾“å…¥æ¥ç²¾å¿ƒè®¾è®¡æç¤ºï¼Œä»è€Œå¼•å¯¼å¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆç¬¦åˆé¢„æœŸçš„é«˜è´¨é‡è¾“å‡ºã€‚\nRAG-æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRetrieval-Augmented Generationï¼‰ RAGæ˜¯ä¸€ç§ç»“åˆäº†ä¿¡æ¯æ£€ç´¢æŠ€æœ¯ä¸è¯­è¨€ç”Ÿæˆæ¨¡å‹çš„äººå·¥æ™ºèƒ½æŠ€æœ¯ã€‚å®ƒé€šè¿‡ä»å¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å°†å…¶ä½œä¸ºæç¤ºè¾“å…¥ç»™å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œä»¥å¢å¼ºæ¨¡å‹å¤„ç†çŸ¥è¯†å¯†é›†å‹ä»»åŠ¡çš„èƒ½åŠ›ï¼Œå¦‚é—®ç­”ã€æ–‡æœ¬æ‘˜è¦ã€å†…å®¹ç”Ÿæˆç­‰ã€‚\nå‘é‡æ•°æ®åº“ï¼ˆVector Databaseï¼‰ å‘é‡æ•°æ®åº“æ˜¯ä¸€ç§ä¸“é—¨ç”¨äºå­˜å‚¨ã€æ£€ç´¢å’Œç®¡ç†é«˜ç»´å‘é‡æ•°æ®çš„æ•°æ®åº“ç³»ç»Ÿã€‚å…¶æ ¸å¿ƒèƒ½åŠ›æ˜¯å¿«é€Ÿæ‰§è¡Œå‘é‡ç›¸ä¼¼æ€§æœç´¢ï¼Œèƒ½å¤Ÿä»æµ·é‡çš„é«˜ç»´å‘é‡ä¸­å¿«é€Ÿæ‰¾åˆ°ä¸ç›®æ ‡å‘é‡æœ€ç›¸ä¼¼çš„å‘é‡ã€‚\nå‘é‡ç›¸ä¼¼åº¦æ£€ç´¢ å‘é‡ç›¸ä¼¼åº¦æ£€ç´¢æ˜¯é€šè¿‡è®¡ç®—å‘é‡ä¹‹é—´çš„è·ç¦»æ¥è¡¡é‡å®ƒä»¬çš„ç›¸ä¼¼æ€§ã€‚å¸¸ç”¨çš„è·ç¦»åº¦é‡æ–¹æ³•åŒ…æ‹¬æ¬§å‡ é‡Œå¾—è·ç¦»ã€ä½™å¼¦ç›¸ä¼¼æ€§ã€ç‚¹ç§¯ç­‰ã€‚\nå¸Œæœ›æœ¬æ–‡çš„è§£é‡Šèƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£è¿™äº›æœ¯è¯­ï¼Œå¹¶ä¸ºæ‚¨çš„å­¦ä¹ å’Œå·¥ä½œæä¾›å‚è€ƒã€‚æ¯•ç«Ÿåªæœ‰ç®€å•å‡ å¥ï¼Œæ²¡æœ‰åšåˆ°å›¾æ–‡å¹¶èŒ‚ï¼Œæƒ³æ·±å…¥ç†è§£å…¶æ‰€å¤„çš„ç¯èŠ‚å’Œä½œç”¨ï¼Œè¿˜éœ€ç¿»é˜…å…¶ä»–èµ„æ–™ã€‚å¤§æ¨¡å‹å’ŒAIæŠ€æœ¯çš„å‘å±•ä¸ºæˆ‘ä»¬å¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„æœºé‡ï¼Œå¸Œæœ›æ‚¨èƒ½å¤Ÿç§¯æå‚ä¸å…¶ä¸­ï¼Œå…±åŒæ¨åŠ¨æŠ€æœ¯çš„è¿›æ­¥ã€‚\n","date":"2025-03-07T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/ai_terms/","title":"Ai Terms"},{"content":"å¸¸æ•°æ—¶é—´å¤æ‚åº¦ O(1) ç¤ºä¾‹ï¼šè®¿é—®æ•°ç»„å…ƒç´  1 2 int[] arr = { 1, 2, 3, 4, 5 }; int firstElement = arr[0]; // ç›´æ¥è®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´  â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(1)\nç›´æ¥é€šè¿‡ç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ ï¼Œæ“ä½œæ¬¡æ•°ä¸è¾“å…¥è§„æ¨¡æ— å…³ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(1)\nä»…ä½¿ç”¨å›ºå®šå†…å­˜å­˜å‚¨å˜é‡ firstElementï¼Œæ— é¢å¤–ç©ºé—´å ç”¨ã€‚\nå¯¹æ¯”ï¼šæ—¶é—´å’Œç©ºé—´å‡ä¸ºå¸¸æ•°çº§åˆ«ï¼Œæ•ˆç‡æé«˜ã€‚\nçº¿æ€§æ—¶é—´å¤æ‚åº¦ O(n) ç¤ºä¾‹1ï¼šéå†æ•°ç»„æ±‚å’Œ 1 2 3 4 5 6 7 int SumArray(int[] arr) { int sum = 0; foreach (int num in arr) { // éå†æ¯ä¸ªå…ƒç´  sum += num; } return sum; } â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(n)\néœ€è¦éå†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œæ“ä½œæ¬¡æ•°ä¸è¾“å…¥è§„æ¨¡ n æˆçº¿æ€§å…³ç³»ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(1)\nä»…ä½¿ç”¨å›ºå®šå˜é‡ sumï¼Œä¸éšè¾“å…¥è§„æ¨¡å¢åŠ ã€‚\nç¤ºä¾‹2ï¼šå¤åˆ¶æ•°ç»„ 1 2 3 4 5 6 7 int[] CopyArray(int[] arr) { int[] newArr = new int[arr.Length]; for (int i = 0; i \u0026lt; arr.Length; i++) { newArr[i] = arr[i]; } return newArr; } â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(n)\néå†æ•°ç»„å¤åˆ¶æ¯ä¸ªå…ƒç´ ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(n)\néœ€è¦é¢å¤–åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º n çš„æ–°æ•°ç»„ã€‚\nå¯¹æ¯”ï¼š\nâ€¢ åŒæ ·æ˜¯ O(n) æ—¶é—´ï¼ŒSumArray çš„ç©ºé—´å¤æ‚åº¦æ›´ä¼˜ï¼ˆO(1) vs O(n)ï¼‰ã€‚\nâ€¢ ç©ºé—´ä¸æ—¶é—´çš„æƒè¡¡ï¼šå¤åˆ¶æ•°ç»„ç‰ºç‰²ç©ºé—´æ¥ä¿ç•™åŸå§‹æ•°æ®ã€‚\nå¹³æ–¹æ—¶é—´å¤æ‚åº¦ O(nÂ²) ç¤ºä¾‹ï¼šå†’æ³¡æ’åº 1 2 3 4 5 6 7 8 9 10 11 void BubbleSort(int[] arr) { for (int i = 0; i \u0026lt; arr.Length; i++) { for (int j = 0; j \u0026lt; arr.Length - 1; j++) { if (arr[j] \u0026gt; arr[j + 1]) { int temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; } } } } â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)\nåŒé‡å¾ªç¯å¯¼è‡´æ“ä½œæ¬¡æ•°ä¸ nÂ² æˆæ­£æ¯”ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(1)\nåŸåœ°æ’åºï¼Œä»…ç”¨ä¸´æ—¶å˜é‡ tempï¼Œæ— é¢å¤–ç©ºé—´å ç”¨ã€‚\nå¯¹æ¯”ï¼šæ—¶é—´æ•ˆç‡ä½ä½†ç©ºé—´æ•ˆç‡é«˜ï¼Œé€‚åˆå†…å­˜å—é™çš„åœºæ™¯ã€‚\né€’å½’ç®—æ³•çš„å¤æ‚åº¦åˆ†æ ç¤ºä¾‹1ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆé€’å½’å®ç°ï¼‰ 1 2 3 4 int Fibonacci(int n) { if (n \u0026lt;= 1) return n; return Fibonacci(n - 1) + Fibonacci(n - 2); } â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(2â¿)\né€’å½’è°ƒç”¨æŒ‡æ•°çº§å¢é•¿ï¼ˆæ¯æ¬¡è°ƒç”¨äº§ç”Ÿä¸¤ä¸ªå­é—®é¢˜ï¼‰ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(n)\né€’å½’è°ƒç”¨æ ˆæ·±åº¦ä¸º nï¼Œå ç”¨çº¿æ€§ç©ºé—´ã€‚\nç¤ºä¾‹2ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆè¿­ä»£å®ç°ï¼‰ 1 2 3 4 5 6 7 8 9 10 int FibonacciIterative(int n) { if (n \u0026lt;= 1) return n; int a = 0, b = 1, sum; for (int i = 2; i \u0026lt;= n; i++) { sum = a + b; a = b; b = sum; } return b; } â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(n)\nå•å±‚å¾ªç¯éå† n æ¬¡ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(1)\nä»…ä½¿ç”¨å›ºå®šå˜é‡ a, b, sumã€‚\nå¯¹æ¯”ï¼š\nâ€¢ é€’å½’å®ç°ç‰ºç‰²æ—¶é—´ï¼ˆO(2â¿)ï¼‰å’Œç©ºé—´ï¼ˆO(n)ï¼‰æ¢å–ä»£ç ç®€æ´æ€§ã€‚\nâ€¢ è¿­ä»£å®ç°é€šè¿‡ä¼˜åŒ–ï¼Œæ—¶é—´é™è‡³ O(n)ï¼Œç©ºé—´é™è‡³ O(1)ï¼Œä½†ä»£ç ç¨å¤æ‚ã€‚\næ—¶é—´ä¸ç©ºé—´çš„æƒè¡¡ å“ˆå¸Œè¡¨ï¼šä»¥ç©ºé—´æ¢æ—¶é—´ 1 2 3 4 5 6 7 8 bool HasDuplicate(int[] arr) { HashSet\u0026lt;int\u0026gt; seen = new HashSet\u0026lt;int\u0026gt;(); foreach (int num in arr) { if (seen.Contains(num)) return true; seen.Add(num); } return false; } â€¢ æ—¶é—´å¤æ‚åº¦ï¼šO(n)\nHashSet çš„æ’å…¥å’ŒæŸ¥è¯¢æ“ä½œå¹³å‡ä¸º O(1)ã€‚ â€¢ ç©ºé—´å¤æ‚åº¦ï¼šO(n)\néœ€è¦é¢å¤–å­˜å‚¨æ‰€æœ‰å…ƒç´ çš„å“ˆå¸Œè¡¨ã€‚\nå¯¹æ¯”ï¼š\né€šè¿‡ç‰ºç‰² O(n) çš„ç©ºé—´ï¼Œå°†æ—¶é—´ä»æš´åŠ›æ³•çš„ O(nÂ²) ä¼˜åŒ–åˆ° O(n)ã€‚\næ€»ç»“å¯¹æ¯” åœºæ™¯ æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ æ ¸å¿ƒæƒè¡¡ ç›´æ¥è®¿é—®æ•°ç»„å…ƒç´  O(1) O(1) æ—  éå†æ•°ç»„æ±‚å’Œ O(n) O(1) æ—¶é—´çº¿æ€§å¢é•¿ï¼Œç©ºé—´é«˜æ•ˆ å¤åˆ¶æ•°ç»„ O(n) O(n) ç©ºé—´æ¢æ•°æ®å®Œæ•´æ€§ å†’æ³¡æ’åº O(nÂ²) O(1) æ—¶é—´ä½æ•ˆï¼Œç©ºé—´é«˜æ•ˆ æ–æ³¢é‚£å¥‘é€’å½’ O(2â¿) O(n) æ—¶é—´å’Œç©ºé—´å‡ä½æ•ˆï¼Œä»£ç ç®€æ´ æ–æ³¢é‚£å¥‘è¿­ä»£ O(n) O(1) æ—¶é—´é«˜æ•ˆï¼Œç©ºé—´é«˜æ•ˆ å“ˆå¸Œè¡¨æŸ¥é‡ O(n) O(n) ç©ºé—´æ¢æ—¶é—´ æ ¸å¿ƒæ€æƒ³ï¼š\nâ€¢ æ—¶é—´å¤æ‚åº¦å…³æ³¨æ“ä½œæ¬¡æ•°çš„å¢é•¿ç‡ï¼Œç©ºé—´å¤æ‚åº¦å…³æ³¨å†…å­˜å ç”¨çš„å¢é•¿ç‡ã€‚\nâ€¢ å®é™…å¼€å‘ä¸­éœ€æ ¹æ®åœºæ™¯é€‰æ‹©ï¼š\nâ€¢ å†…å­˜æ•æ„Ÿï¼ˆå¦‚åµŒå…¥å¼ç³»ç»Ÿï¼‰ä¼˜å…ˆä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ã€‚\nâ€¢ æ—¶é—´æ•æ„Ÿï¼ˆå¦‚å®æ—¶è®¡ç®—ï¼‰ä¼˜å…ˆä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚\nâ€¢ é€’å½’éœ€è­¦æƒ•æ ˆæº¢å‡ºé£é™©ï¼Œè¿­ä»£æ›´å¯æ§ã€‚\n","date":"2025-03-06T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/time_complexity_and_space_complexity/","title":"æ—¶é—´å¤æ‚åº¦ä¸ç©ºé—´å¤æ‚åº¦"},{"content":"æ‰‹çœ¼æ ‡å®šåŸç† æ‰‹çœ¼æ ‡å®šæ˜¯æŒ‡æ±‚è§£å‡ºå·¥ä¸šæœºå™¨äººçš„æœ«ç«¯åæ ‡ç³»ä¸ç›¸æœºåæ ‡ç³»ä¹‹é—´çš„åæ ‡å˜æ¢å…³ç³»ï¼Œæˆ–è€…å·¥ä¸šæœºå™¨äººçš„åŸºåº•åæ ‡ç³»ä¸ç›¸æœºåæ ‡ç³»ä¹‹é—´çš„åæ ‡å˜æ¢å…³ç³»ã€‚æ‰‹çœ¼æ ‡å®šæœ‰ä¸¤ç§æƒ…å½¢ï¼šç¬¬ä¸€ç§æ˜¯ç›¸æœºï¼ˆçœ¼ï¼‰å›ºå®šåœ¨æœºå™¨è‡‚ï¼ˆæ‰‹ï¼‰çš„æœ«ç«¯ï¼Œç›¸æœºç›¸å¯¹äºæœºå™¨è‡‚æœ«ç«¯æ˜¯å›ºå®šçš„ï¼Œç›¸æœºè·Ÿéšæœºå™¨è‡‚ç§»åŠ¨ï¼Œè¿™ç§æ–¹å¼çš„æ‰‹çœ¼æ ‡å®šæˆä¸º Eye-in-handï¼›ç¬¬äºŒç§æ˜¯ç›¸æœºï¼ˆçœ¼ï¼‰å’Œæœºå™¨è‡‚ï¼ˆæ‰‹ï¼‰åˆ†ç¦»ï¼Œç›¸æœºç›¸å¯¹äºå·¥ä¸šæœºå™¨äººçš„åŸºåº§æ˜¯å›ºå®šçš„ï¼Œæœºå™¨è‡‚çš„è¿åŠ¨å¯¹ç›¸æœºæ²¡æœ‰å½±å“, è¿™ç§æ–¹å¼çš„æ‰‹çœ¼æ ‡å®šæˆä¸º Eye-to-handã€‚\nçœ¼åœ¨æ‰‹ä¸Šçš„æ‰‹çœ¼æ ‡å®š å¯¹äº Eye-in-hand æ‰‹çœ¼æ ‡å®šæ–¹å¼ï¼Œéœ€è¦æ±‚è§£å·¥ä¸šæœºå™¨äººçš„æœ«ç«¯åæ ‡ç³»ä¸ç›¸æœºåæ ‡ç³»ä¹‹é—´çš„åæ ‡è½¬æ¢å…³ç³»ã€‚ Eye-in-hand æ‰‹çœ¼æ ‡å®šçš„åŸç†ç¤ºæ„å›¾å¦‚å›¾ 1æ‰€ç¤ºã€‚è¿™å…¶ä¸­æœ‰å‡ ä¸ªåæ ‡ç³»ï¼Œ åŸºç¡€åæ ‡ç³»ï¼ˆç”¨ base è¡¨ç¤ºï¼‰ æ˜¯æœºå™¨è‡‚çš„åŸºåº•åæ ‡ç³»ï¼Œæœ«ç«¯åæ ‡ç³»ï¼ˆç”¨ end è¡¨ç¤ºï¼‰ æ˜¯æœºå™¨è‡‚çš„æœ«ç«¯åæ ‡ç³»ï¼Œ ç›¸æœºåæ ‡ç³»ï¼ˆç”¨ cam è¡¨ç¤ºï¼‰ æ˜¯å›ºå®šåœ¨æœºå™¨è‡‚ä¸Šé¢çš„ç›¸æœºè‡ªèº«åæ ‡ç³»ï¼Œæ ‡å®šç‰©åæ ‡ç³»ï¼ˆç”¨ cal è¡¨ç¤ºï¼‰æ˜¯æ ‡å®šæ¿æ‰€åœ¨çš„åæ ‡ç³»ã€‚ä»»æ„ç§»åŠ¨ä¸¤æ¬¡æœºå™¨è‡‚ï¼Œç”±äºæ ‡å®šæ¿å’Œæœºå™¨è‡‚çš„åŸºåº•æ˜¯ä¸åŠ¨çš„ï¼Œå› æ­¤å¯¹äºæŸä¸ªä¸–ç•Œç‚¹ï¼Œå…¶åœ¨ base åæ ‡ç³»å’Œ cal åæ ‡ç³»ä¸‹çš„åæ ‡å€¼ä¸å˜ï¼Œåœ¨ end åæ ‡ç³»å’Œ cam åæ ‡ç³»ä¸‹çš„åæ ‡å€¼éšç€æœºå™¨è‡‚çš„è¿åŠ¨è€Œæ”¹å˜ã€‚æ ¹æ®è¿™ä¸€å…³ç³»ï¼Œå¯ä»¥æ±‚è§£å‡ºendåæ ‡ç³»å’Œ cam åæ ‡ç³»ä¹‹é—´çš„è½¬æ¢çŸ©é˜µã€‚å…·ä½“æ±‚è§£è¿‡ç¨‹å¦‚ä¸‹ã€‚\nå¯¹äºæ‰‹çœ¼æ ‡å®šçŸ©é˜µçš„æ±‚è§£ï¼Œå³æ±‚è§£å‡º end åæ ‡ç³»å’Œ cam åæ ‡ç³»ä¹‹é—´çš„è½¬æ¢çŸ©é˜µï¼Œç›®å‰æœ‰è®¸å¤šæ–¹æ³•ï¼ŒåŸºæœ¬åŸç†éƒ½æ˜¯æ ¹æ®ä¸Šè¿°çº¦æŸå…³ç³»æ¥æ±‚è§£çš„ã€‚ cal åæ ‡ç³»ä¸‹çš„æŸä¸ªç‚¹ P0 ï¼Œæ ¹æ®å·²çŸ¥çš„ç›¸æœºå¤–å‚ï¼ˆè½¬æ¢çŸ©é˜µT 1ï¼‰èƒ½å¤Ÿè½¬æ¢åˆ° cam åæ ‡ç³»ä¸‹ç‚¹ P1,å†æ ¹æ®å¾…æ±‚çš„æ‰‹çœ¼æ ‡å®šçŸ©é˜µï¼ˆè½¬æ¢çŸ©é˜µ X ï¼‰èƒ½å¤Ÿè½¬æ¢åˆ° end åæ ‡ç³»ä¸‹ç‚¹ P2ï¼Œç„¶åæ ¹æ®å·²çŸ¥çš„æœºå™¨äººè‡ªèº«å‚æ•°ï¼ˆè½¬æ¢çŸ©é˜µT3ï¼‰èƒ½å¤Ÿè½¬æ¢åˆ° base åæ ‡ç³»ä¸‹ç‚¹ P3ã€‚å› æ­¤èƒ½å¤Ÿå¾—åˆ°å…³ç³»å¼å¦‚ä¸‹ï¼š $$ T_3XT_1P_0=P_3 $$ ç§»åŠ¨æœºå™¨è‡‚ï¼Œå¯¹äºåŒä¸€ç‚¹ï¼ŒP0 å’ŒP3çš„åæ ‡å€¼ä¸å˜ï¼Œåªæ˜¯P1 å’ŒP2 çš„åæ ‡å€¼æ”¹å˜äº†ï¼Œä¸Šè¿°å…³ç³»å¼å˜ä¸ºå¦‚ä¸‹å½¢å¼ï¼š $$ T_3^\\prime XT_1^\\prime P_0=P_3 $$ ä¸Šå¼ä¸­$ T_3^\\prime $å’Œ$ T_1^\\prime$åŒæ ·æ˜¯ç¬¬äºŒæ¬¡æµ‹é‡çš„å·²çŸ¥å‚æ•°ã€‚è”ç«‹(1)å’Œ(2)å¼å¯ä»¥å¾—åˆ°å¦‚ä¸‹å…³ç³»å¼ $$ T_3XT_1=T3^\\prime XT_1^\\prime $$\nå¯¹å¼(3)å˜æ¢ä¸€ä¸‹ï¼Œå¾—ï¼š $$ T_3^ {\\prime-1}T_3X=XT_1^\\prime T_1^{-1} $$ ä¸Šå¼å¯ä»¥çœ‹æˆ$ A X = X B $æ–¹ç¨‹å½¢å¼ï¼Œä¸”çŸ©é˜µ$ A=T_3^{\\prime-1}T_3 $å’Œ$ B=T_1^\\prime T_1^{-1} $éƒ½æ˜¯å·²çŸ¥çš„ã€‚å¯¹æ‰‹çœ¼æ ‡å®šæ–¹ç¨‹$ A X = X B $æ±‚è§£ï¼Œå³å¯å¾—åˆ°æ‰‹çœ¼è½¬æ¢çŸ©é˜µXçš„å€¼\n","date":"2025-03-04T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/eye_to_handle/","title":"æ‰‹çœ¼æ ‡å®š"},{"content":"C# æ³›å‹çš„åº•å±‚å®ç°æ˜¯ CLRï¼ˆå…¬å…±è¯­è¨€è¿è¡Œæ—¶ï¼‰å’Œ JITï¼ˆå³æ—¶ç¼–è¯‘å™¨ï¼‰åä½œçš„ç»“æœï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å®ç° ç±»å‹å®‰å…¨ã€æ€§èƒ½ä¼˜åŒ– å’Œ ä»£ç å¤ç”¨ã€‚ä»¥ä¸‹æ˜¯å…¶åº•å±‚å®ç°çš„å…³é”®ç»†èŠ‚ï¼š\næ³›å‹çš„è¿è¡Œæ—¶æ”¯æŒ C# æ³›å‹æ˜¯ \u0026ldquo;çœŸæ³›å‹\u0026rdquo;ï¼ˆä¸ Java çš„ç±»å‹æ“¦é™¤ä¸åŒï¼‰ï¼Œæ³›å‹ç±»å‹å‚æ•°åœ¨è¿è¡Œæ—¶å®Œå…¨ä¿ç•™ã€‚è¿™æ„å‘³ç€ï¼š\nç±»å‹ä¿¡æ¯ä¿ç•™\næ³›å‹ç±»å‹å‚æ•°ï¼ˆå¦‚ Tï¼‰ä¼šè¢«ç¼–è¯‘åˆ° ILï¼ˆä¸­é—´è¯­è¨€ï¼‰å’Œå…ƒæ•°æ®ä¸­ï¼ŒCLR åœ¨è¿è¡Œæ—¶å¯ä»¥æ„ŸçŸ¥å…·ä½“ç±»å‹ã€‚\nåŠ¨æ€å®ä¾‹åŒ–\næ³›å‹ç±»å‹ï¼ˆå¦‚ List\u0026lt;int\u0026gt;ï¼‰åœ¨é¦–æ¬¡ä½¿ç”¨æ—¶ç”± JIT åŠ¨æ€ç”Ÿæˆå…·ä½“å®ç°ï¼Œè€Œéç¼–è¯‘æ—¶å±•å¼€ã€‚\nå€¼ç±»å‹ vs å¼•ç”¨ç±»å‹çš„å®ç°å·®å¼‚ å€¼ç±»å‹ï¼ˆå¦‚ int, structï¼‰ ç‹¬ç«‹ä»£ç ç”Ÿæˆ\nCLR ä¼šä¸ºæ¯ä¸ªå€¼ç±»å‹å‚æ•°ç”Ÿæˆ å®Œå…¨ç‹¬ç«‹çš„æœºå™¨ä»£ç ã€‚ä¾‹å¦‚ï¼š\nList\u0026lt;int\u0026gt; å’Œ List\u0026lt;double\u0026gt; åœ¨è¿è¡Œæ—¶æ˜¯ä¸åŒçš„ç±»å‹ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„æ–¹æ³•è¡¨å’Œå†…å­˜å¸ƒå±€ã€‚\nä¼˜åŠ¿ï¼šé¿å…è£…ç®±æ‹†ç®±ï¼Œç›´æ¥æ“ä½œåŸç”Ÿæ•°æ®ç±»å‹ã€‚ å†…å­˜å¸ƒå±€ä¼˜åŒ–\nå€¼ç±»å‹æ³›å‹çš„å®ä¾‹åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œæ— éœ€æŒ‡é’ˆé—´æ¥è®¿é—®ã€‚ å¼•ç”¨ç±»å‹ï¼ˆå¦‚ string, classï¼‰ ä»£ç å…±äº«\næ‰€æœ‰å¼•ç”¨ç±»å‹å‚æ•°å…±äº« åŒä¸€ä»½ JIT ç¼–è¯‘åçš„ä»£ç ã€‚ä¾‹å¦‚ï¼š\nList\u0026lt;string\u0026gt; å’Œ List\u0026lt;object\u0026gt; å…±äº«å¤§éƒ¨åˆ†å®ç°ï¼Œå› ä¸ºå®ƒä»¬çš„å†…å­˜å¸ƒå±€ï¼ˆæŒ‡é’ˆå¤§å°ï¼‰ä¸€è‡´ã€‚\nä¼˜åŠ¿ï¼šå‡å°‘ä»£ç è†¨èƒ€ï¼ŒèŠ‚çœå†…å­˜ã€‚ ç±»å‹æ“¦é™¤çš„å‡è±¡\nè™½ç„¶ä»£ç å…±äº«ï¼Œä½†è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼ˆå¦‚ typeof(List\u0026lt;\u0026gt;).GetGenericArguments()ï¼‰ä»ç„¶å®Œæ•´ä¿ç•™ã€‚ æ³›å‹ç±»å‹çš„å®ä¾‹åŒ–è¿‡ç¨‹ JIT ç¼–è¯‘æ—¶çš„åŠ¨æ€ç”Ÿæˆ å½“é¦–æ¬¡ä½¿ç”¨æŸä¸ªæ³›å‹ç±»å‹ï¼ˆå¦‚ List\u0026lt;int\u0026gt;ï¼‰æ—¶ï¼ŒJIT ç¼–è¯‘å™¨ä¼šæ ¹æ®ç±»å‹å‚æ•°ç”Ÿæˆå¯¹åº”çš„ æœ¬åœ°æœºå™¨ä»£ç ã€‚ å€¼ç±»å‹ï¼šç”Ÿæˆä¸“ç”¨ä»£ç ï¼ˆå¦‚ç›´æ¥æ“ä½œ int çš„æŒ‡ä»¤ï¼‰ã€‚ å¼•ç”¨ç±»å‹ï¼šç”Ÿæˆé€šç”¨ä»£ç ï¼ˆé€šè¿‡æŒ‡é’ˆæ“ä½œï¼Œé€‚é…æ‰€æœ‰å¼•ç”¨ç±»å‹ï¼‰ã€‚ ä»£ç å…±äº«æœºåˆ¶ å¼•ç”¨ç±»å‹å…±äº«æ¡ä»¶\nè‹¥ä¸¤ä¸ªå¼•ç”¨ç±»å‹å‚æ•°çš„ å†…å­˜å¸ƒå±€ç›¸åŒï¼ˆå¦‚ string å’Œ objectï¼‰ï¼Œåˆ™å…±äº«åŒä¸€ä»½ä»£ç ã€‚ å€¼ç±»å‹ä¸å…±äº«\næ¯ä¸ªå€¼ç±»å‹ï¼ˆå¦‚ intã€longï¼‰ç”Ÿæˆç‹¬ç«‹ä»£ç ï¼Œå› å…¶å†…å­˜å¤§å°ä¸åŒã€‚ æ³›å‹æ–¹æ³•çš„å†…è”ä¼˜åŒ– JIT ç¼–è¯‘å™¨å¯èƒ½å¯¹æ³›å‹æ–¹æ³•è¿›è¡Œ å†…è”å±•å¼€ï¼ˆå°¤å…¶æ˜¯å€¼ç±»å‹å‚æ•°ï¼‰ï¼Œä¾‹å¦‚ï¼š\n1 2 3 4 5 public static T Add\u0026lt;T\u0026gt;(T a, T b) where T : struct =\u0026gt; a + b; // è°ƒç”¨ Add\u0026lt;int\u0026gt;(1, 2) æ—¶ï¼ŒJIT å¯èƒ½ç›´æ¥ç”Ÿæˆç±»ä¼¼ä»¥ä¸‹æœºå™¨ç ï¼š // mov eax, 1 // add eax, 2 ä¼˜åŠ¿ï¼šæ¶ˆé™¤æ–¹æ³•è°ƒç”¨å¼€é”€ï¼Œè¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚\né™æ€å­—æ®µçš„éš”ç¦» æ¯ä¸ªå°é—­æ³›å‹ç±»å‹ï¼ˆå¦‚ MyClass\u0026lt;int\u0026gt; å’Œ MyClass\u0026lt;string\u0026gt;ï¼‰æ‹¥æœ‰ ç‹¬ç«‹çš„é™æ€å­—æ®µï¼š\n1 2 3 4 5 6 7 public class MyClass\u0026lt;T\u0026gt; { public static int Count; } MyClass\u0026lt;int\u0026gt;.Count = 10; MyClass\u0026lt;string\u0026gt;.Count = 20; // ä¸ MyClass\u0026lt;int\u0026gt;.Count å®Œå…¨ç‹¬ç«‹ åº•å±‚åŸå› ï¼šä¸åŒæ³›å‹ç±»å‹åœ¨è¿è¡Œæ—¶è¢«è§†ä¸ºå®Œå…¨ä¸åŒçš„ç±»å‹ã€‚\nç±»å‹çº¦æŸçš„åº•å±‚å®ç° ç±»å‹çº¦æŸï¼ˆå¦‚ where T : IComparableï¼‰é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°ï¼š\nç¼–è¯‘æ—¶éªŒè¯\nç¼–è¯‘å™¨ç¡®ä¿æ‰€æœ‰å¯¹ T çš„æ“ä½œç¬¦åˆçº¦æŸï¼ˆå¦‚è°ƒç”¨ T.CompareTo æ–¹æ³•ï¼‰ã€‚ è¿è¡Œæ—¶éªŒè¯\nå½“é€šè¿‡åå°„åŠ¨æ€åˆ›å»ºæ³›å‹å®ä¾‹æ—¶ï¼ŒCLR ä¼šæ£€æŸ¥ç±»å‹å‚æ•°æ˜¯å¦æ»¡è¶³çº¦æŸã€‚ åå˜ï¼ˆCovarianceï¼‰ä¸é€†å˜ï¼ˆContravarianceï¼‰ åå˜ï¼ˆout Tï¼‰ å…è®¸å°† IEnumerable\u0026lt;Cat\u0026gt; èµ‹å€¼ç»™ IEnumerable\u0026lt;Animal\u0026gt;ã€‚ å®ç°æ–¹å¼ï¼šCLR é€šè¿‡è™šæ–¹æ³•è¡¨å’Œç±»å‹è½¬æ¢è¡¨åŠ¨æ€å¤„ç†ç±»å‹å…¼å®¹æ€§ã€‚ é€†å˜ï¼ˆin Tï¼‰ å…è®¸å°† Action\u0026lt;Animal\u0026gt; èµ‹å€¼ç»™ Action\u0026lt;Cat\u0026gt;ã€‚ å®ç°æ–¹å¼ï¼šJIT ç”Ÿæˆé€šç”¨ä»£ç ï¼Œç¡®ä¿è¾“å…¥å‚æ•°ç±»å‹å®‰å…¨ã€‚ æ³›å‹ä¸æ€§èƒ½ä¼˜åŒ– é¿å…è£…ç®±æ‹†ç®±\nå€¼ç±»å‹æ³›å‹ï¼ˆå¦‚ List\u0026lt;int\u0026gt;ï¼‰ç›´æ¥æ“ä½œæ ˆå†…å­˜ï¼Œæ— éœ€å°† int è£…ç®±ä¸º objectã€‚\nç¼“å­˜æœºåˆ¶\nCLR ä¼šç¼“å­˜å·²ç”Ÿæˆçš„æ³›å‹ç±»å‹ä»£ç ï¼Œé¿å…é‡å¤ç¼–è¯‘ã€‚\nå†…å­˜æ•ˆç‡\nå€¼ç±»å‹æ³›å‹é›†åˆï¼ˆå¦‚ List\u0026lt;int\u0026gt;ï¼‰åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ï¼Œæ¯” ArrayListï¼ˆå­˜å‚¨ objectï¼‰æ›´ç´§å‡‘ã€‚\nå¯¹æ¯” C++ æ¨¡æ¿ ç‰¹æ€§ C# æ³›å‹ C++ æ¨¡æ¿ å®ä¾‹åŒ–æ—¶æœº è¿è¡Œæ—¶ç”± JIT åŠ¨æ€ç”Ÿæˆ ç¼–è¯‘æ—¶å±•å¼€ä¸ºå…·ä½“ä»£ç  ç±»å‹å®‰å…¨ ç¼–è¯‘æ—¶ + è¿è¡Œæ—¶åŒé‡æ£€æŸ¥ ç¼–è¯‘æ—¶æ¨¡æ¿å±•å¼€åæ£€æŸ¥ ä»£ç ç”Ÿæˆ å€¼ç±»å‹ç‹¬ç«‹ç”Ÿæˆï¼Œå¼•ç”¨ç±»å‹å…±äº«ä»£ç  æ‰€æœ‰ç±»å‹ç‹¬ç«‹ç”Ÿæˆä»£ç  è·¨ç¨‹åºé›†æ”¯æŒ æ˜¯ï¼ˆå…ƒæ•°æ®ä¿ç•™æ³›å‹ä¿¡æ¯ï¼‰ å¦ï¼ˆæ¨¡æ¿å®šä¹‰éœ€åœ¨å¤´æ–‡ä»¶ä¸­ï¼‰ åå°„ä¸æ³›å‹ é€šè¿‡åå°„å¯ä»¥åŠ¨æ€æ“ä½œæ³›å‹ç±»å‹ï¼š\n1 2 3 4 5 6 7 8 9 // åŠ¨æ€åˆ›å»º List\u0026lt;int\u0026gt; Type openType = typeof(List\u0026lt;\u0026gt;); Type closedType = openType.MakeGenericType(typeof(int)); object list = Activator.CreateInstance(closedType); // è°ƒç”¨æ³›å‹æ–¹æ³• MethodInfo method = typeof(MyClass).GetMethod(\u0026#34;MyMethod\u0026#34;); MethodInfo closedMethod = method.MakeGenericMethod(typeof(string)); closedMethod.Invoke(null, new object[] { \u0026#34;test\u0026#34; }); åº•å±‚ IL è¡¨ç¤º æ³›å‹åœ¨ ILï¼ˆä¸­é—´è¯­è¨€ï¼‰ä¸­ä½¿ç”¨ ç±»å‹å‚æ•°å ä½ç¬¦ï¼ˆå¦‚ !!0ï¼‰è¡¨ç¤ºï¼š\n1 2 3 4 5 6 7 // æ³›å‹æ–¹æ³•çš„ IL ä»£ç ç¤ºä¾‹ .method public static void Swap\u0026lt;T\u0026gt;(!!T\u0026amp; a, !!T\u0026amp; b) { ldarg.0 ldarg.1 // äº¤æ¢æ“ä½œçš„ IL æŒ‡ä»¤ } æ€»ç»“ C# æ³›å‹çš„åº•å±‚å®ç°é€šè¿‡ CLR å’Œ JIT çš„æ·±åº¦åä½œï¼Œå®ç°äº†ï¼š\nçœŸæ³›å‹ï¼šè¿è¡Œæ—¶ä¿ç•™ç±»å‹ä¿¡æ¯ï¼Œæ”¯æŒåå°„å’ŒåŠ¨æ€ç±»å‹æ“ä½œã€‚ é«˜æ€§èƒ½ï¼šå€¼ç±»å‹ä¸“ç”¨ä»£ç ã€å¼•ç”¨ç±»å‹å…±äº«ä»£ç ã€å†…è”ä¼˜åŒ–ã€‚ ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶åŒé‡éªŒè¯ã€‚ çµæ´»æ€§ï¼šåå˜/é€†å˜ã€æ³›å‹çº¦æŸã€è·¨ç¨‹åºé›†æ”¯æŒã€‚ è¿™ç§è®¾è®¡ä½¿ C# æ³›å‹åœ¨æ•ˆç‡ã€å®‰å…¨æ€§å’Œçµæ´»æ€§ä¸Šè¾¾åˆ°äº†å¹³è¡¡ï¼Œæˆä¸ºç°ä»£ C# å¼€å‘çš„æ ¸å¿ƒå·¥å…·ã€‚\n","date":"2025-02-21T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/generictype-1/","title":"C#æ³›å‹åº•å±‚"},{"content":"C# æ³›å‹æ˜¯ä¸€ç§å¼ºå¤§çš„ç¼–ç¨‹ç‰¹æ€§ï¼Œå…è®¸å¼€å‘è€…ç¼–å†™å¯é‡ç”¨ã€ç±»å‹å®‰å…¨ä¸”é«˜æ•ˆçš„ä»£ç ã€‚é€šè¿‡æ³›å‹ï¼Œå¯ä»¥åœ¨å®šä¹‰ç±»ã€æ¥å£ã€æ–¹æ³•æˆ–å§”æ‰˜æ—¶ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œå®é™…ä½¿ç”¨æ—¶å†æŒ‡å®šå…·ä½“ç±»å‹ã€‚ä»¥ä¸‹æ˜¯å…³äº C# æ³›å‹çš„è¯¦ç»†ä»‹ç»ï¼š\næ³›å‹çš„æ ¸å¿ƒä¼˜åŠ¿ ç±»å‹å®‰å…¨ æ³›å‹åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹ï¼Œé¿å…è¿è¡Œæ—¶ç±»å‹è½¬æ¢é”™è¯¯ï¼ˆå¦‚ object çš„è£…ç®±æ‹†ç®±æ“ä½œï¼‰ã€‚\nä»£ç å¤ç”¨ åŒä¸€å¥—é€»è¾‘å¯é€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ï¼Œæ— éœ€ä¸ºä¸åŒç±»å‹é‡å¤ç¼–å†™ä»£ç ã€‚\næ€§èƒ½ä¼˜åŒ– é¿å…å€¼ç±»å‹çš„è£…ç®±æ‹†ç®±æ“ä½œï¼Œæå‡æ€§èƒ½ï¼ˆä¾‹å¦‚ä½¿ç”¨ List\u0026lt;int\u0026gt; è€Œé ArrayListï¼‰ã€‚\næ³›å‹çš„åŸºæœ¬ç”¨æ³• æ³›å‹ç±»ï¼ˆGeneric Classï¼‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 public class GenericRepository\u0026lt;T\u0026gt; { private List\u0026lt;T\u0026gt; _items = new List\u0026lt;T\u0026gt;(); public void Add(T item) =\u0026gt; _items.Add(item); public T Get(int index) =\u0026gt; _items[index]; } // ä½¿ç”¨ç¤ºä¾‹ var intRepo = new GenericRepository\u0026lt;int\u0026gt;(); intRepo.Add(42); var stringRepo = new GenericRepository\u0026lt;string\u0026gt;(); stringRepo.Add(\u0026#34;Hello\u0026#34;); æ³›å‹æ¥å£ï¼ˆGeneric Interfaceï¼‰ 1 2 3 4 5 6 7 8 9 public interface IComparer\u0026lt;T\u0026gt; { int Compare(T x, T y); } public class IntComparer : IComparer\u0026lt;int\u0026gt; { public int Compare(int x, int y) =\u0026gt; x.CompareTo(y); } æ³›å‹æ–¹æ³•ï¼ˆGeneric Methodï¼‰ 1 2 3 4 5 6 7 8 9 10 public static void Swap\u0026lt;T\u0026gt;(ref T a, ref T b) { T temp = a; a = b; b = temp; } // ä½¿ç”¨ç¤ºä¾‹ int x = 1, y = 2; Swap(ref x, ref y); // ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­ç±»å‹ä¸º int æ³›å‹å§”æ‰˜ï¼ˆGeneric Delegateï¼‰ 1 2 3 4 5 public delegate T Processor\u0026lt;T\u0026gt;(T input); // ä½¿ç”¨ç¤ºä¾‹ Processor\u0026lt;int\u0026gt; square = n =\u0026gt; n * n; int result = square(5); // 25 ç±»å‹çº¦æŸï¼ˆType Constraintsï¼‰ é€šè¿‡ where å…³é”®å­—é™åˆ¶æ³›å‹å‚æ•°çš„ç±»å‹èŒƒå›´ï¼Œå¢å¼ºç±»å‹å®‰å…¨æ€§ã€‚\nçº¦æŸç±»å‹ ç¤ºä¾‹ è¯´æ˜ å€¼ç±»å‹ where T : struct T å¿…é¡»æ˜¯å€¼ç±»å‹ï¼ˆå¦‚ intï¼‰ å¼•ç”¨ç±»å‹ where T : class T å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹ï¼ˆå¦‚ stringï¼‰ æ— å‚æ„é€ å‡½æ•° where T : new() T å¿…é¡»æœ‰é»˜è®¤æ„é€ å‡½æ•° åŸºç±»çº¦æŸ where T : SomeBaseClass T å¿…é¡»ç»§æ‰¿è‡ªæŒ‡å®šåŸºç±» æ¥å£çº¦æŸ where T : ISomeInterface T å¿…é¡»å®ç°æŒ‡å®šæ¥å£ ç»„åˆçº¦æŸ where T : class, new() å¤šæ¡ä»¶çº¦æŸ ç¤ºä¾‹ï¼š\n1 2 3 4 public class Factory\u0026lt;T\u0026gt; where T : IAnimal, new() { public T Create() =\u0026gt; new T(); } åå˜ä¸é€†å˜ï¼ˆCovariance \u0026amp; Contravarianceï¼‰ å…è®¸åœ¨æ³›å‹ç±»å‹ä¸­æ›´çµæ´»åœ°å¤„ç†ç»§æ‰¿å…³ç³»ï¼Œé€šè¿‡ outï¼ˆåå˜ï¼‰å’Œ inï¼ˆé€†å˜ï¼‰å…³é”®å­—å®ç°ã€‚\nåå˜ï¼ˆCovarianceï¼‰ ç”¨äºè¿”å›å€¼ç±»å‹ï¼ˆout Tï¼‰ã€‚ å…è®¸å°†æ´¾ç”Ÿç±»å‹ä½œä¸ºæ³›å‹å‚æ•°ä¼ é€’ç»™æ¥å—åŸºç±»å‹çš„æ¥å£ã€‚ 1 2 IEnumerable\u0026lt;Cat\u0026gt; cats = new List\u0026lt;Cat\u0026gt;(); IEnumerable\u0026lt;Animal\u0026gt; animals = cats; // åˆæ³•ï¼Œå› ä¸º IEnumerable\u0026lt;out T\u0026gt; é€†å˜ï¼ˆContravarianceï¼‰ ç”¨äºå‚æ•°ç±»å‹ï¼ˆin Tï¼‰ã€‚ å…è®¸å°†åŸºç±»å‹ä½œä¸ºæ³›å‹å‚æ•°ä¼ é€’ç»™æ¥å—æ´¾ç”Ÿç±»å‹çš„æ¥å£ã€‚ 1 2 3 Action\u0026lt;Animal\u0026gt; animalAction = a =\u0026gt; a.Eat(); Action\u0026lt;Cat\u0026gt; catAction = animalAction; // åˆæ³•ï¼Œå› ä¸º Action\u0026lt;in T\u0026gt; catAction(new Cat()); // æ‰§è¡Œ animalAction æ³›å‹ä¸­çš„é»˜è®¤å€¼ ä½¿ç”¨ default(T) è·å–ç±»å‹çš„é»˜è®¤å€¼ï¼š\nå¼•ç”¨ç±»å‹ï¼šnull å€¼ç±»å‹ï¼š0ã€false ç­‰ã€‚ 1 public T GetDefault\u0026lt;T\u0026gt;() =\u0026gt; default(T); æ³›å‹ä¸é›†åˆ .NET æä¾›äº†ä¸°å¯Œçš„æ³›å‹é›†åˆç±»ï¼Œå¦‚ï¼š\nList\u0026lt;T\u0026gt;ï¼šåŠ¨æ€æ•°ç»„ Dictionary\u0026lt;TKey, TValue\u0026gt;ï¼šé”®å€¼å¯¹ Queue\u0026lt;T\u0026gt;ï¼šå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ— Stack\u0026lt;T\u0026gt;ï¼šåè¿›å…ˆå‡ºæ ˆ å¯¹æ¯”éæ³›å‹é›†åˆï¼ˆå¦‚ ArrayListï¼‰ï¼š æ³›å‹é›†åˆæ— éœ€ç±»å‹è½¬æ¢ï¼Œç›´æ¥æ“ä½œå…·ä½“ç±»å‹ã€‚ é¿å…å› é”™è¯¯ç±»å‹å¯¼è‡´çš„è¿è¡Œæ—¶å¼‚å¸¸ã€‚ é«˜çº§ä¸»é¢˜ åå°„ä¸æ³›å‹ é€šè¿‡åå°„åŠ¨æ€åˆ›å»ºæ³›å‹ç±»å‹æˆ–æ–¹æ³•ï¼š\n1 2 3 Type openType = typeof(List\u0026lt;\u0026gt;); Type closedType = openType.MakeGenericType(typeof(int)); List\u0026lt;int\u0026gt; intList = (List\u0026lt;int\u0026gt;)Activator.CreateInstance(closedType); æ³›å‹ç±»å‹æ¨æ–­ ç¼–è¯‘å™¨æ ¹æ®å‚æ•°è‡ªåŠ¨æ¨æ–­ç±»å‹ï¼š\n1 2 var list = new List\u0026lt;int\u0026gt; { 1, 2, 3 }; var first = list.First(); // æ¨æ–­è¿”å›ç±»å‹ä¸º int é™æ€æˆå‘˜è¡Œä¸º æ¯ä¸ªå°é—­æ³›å‹ç±»å‹ï¼ˆå¦‚ MyClass\u0026lt;int\u0026gt; å’Œ MyClass\u0026lt;string\u0026gt;ï¼‰æ‹¥æœ‰ç‹¬ç«‹çš„é™æ€æˆå‘˜ã€‚\nä½¿ç”¨åœºæ™¯ éœ€è¦å¤„ç†å¤šç§æ•°æ®ç±»å‹çš„é€šç”¨ç®—æ³•ï¼ˆå¦‚æ’åºã€æœç´¢ï¼‰ã€‚ æ„å»ºå¯å¤ç”¨çš„åº“æˆ–æ¡†æ¶ï¼ˆå¦‚ ORM ä¸­çš„æ³›å‹ Repositoryï¼‰ã€‚ å®ç°è®¾è®¡æ¨¡å¼ï¼ˆå·¥å‚æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ç­‰ï¼‰ã€‚ æ€»ç»“ C# æ³›å‹é€šè¿‡ç±»å‹å‚æ•°åŒ–æ˜¾è‘—æå‡äº†ä»£ç çš„çµæ´»æ€§å’Œå®‰å…¨æ€§ï¼Œæ˜¯ç¼–å†™é«˜æ•ˆã€å¯ç»´æŠ¤ä»£ç çš„é‡è¦å·¥å…·ã€‚åˆç†ä½¿ç”¨æ³›å‹çº¦æŸã€åå˜/é€†å˜ç­‰ç‰¹æ€§ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–è®¾è®¡ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚\n","date":"2025-02-21T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/generictype-base/","title":"C#æ³›å‹åŸºç¡€"},{"content":"åœ¨Markdownä¸­ï¼Œæ ‡é¢˜ä¸€èˆ¬å»ºè®®ä»ä¸€çº§æ ‡é¢˜ï¼ˆå³å•ä¸ª#ï¼‰å¼€å§‹ï¼Œä½œä¸ºæ–‡æ¡£çš„ä¸»æ ‡é¢˜æˆ–æ–‡ç« åç§°ï¼Œç„¶åä¾æ¬¡ä½¿ç”¨äºŒçº§æ ‡é¢˜ï¼ˆ##ï¼‰å’Œä¸‰çº§æ ‡é¢˜ï¼ˆ###ï¼‰æ¥ç»„ç»‡å­ç« èŠ‚ã€‚è¿™ç§å±‚çº§ç»“æ„æ—¢æ¸…æ™°åˆç¾è§‚ï¼Œç¬¦åˆå¤§å¤šæ•°æ–‡æ¡£çš„æ’ç‰ˆéœ€æ±‚ã€‚\nå…·ä½“å»ºè®®ï¼š ä¸€çº§æ ‡é¢˜ç”¨äºæ–‡æ¡£æˆ–æ–‡ç« çš„ä¸»æ ‡é¢˜ï¼ˆå¦‚# æ–‡ç« æ ‡é¢˜ï¼‰ï¼› äºŒçº§æ ‡é¢˜ç”¨äºä¸»è¦ç« èŠ‚ï¼ˆå¦‚## å¼•è¨€ã€## æ–¹æ³•ï¼‰ï¼› ä¸‰çº§æ ‡é¢˜ç”¨äºå­ç« èŠ‚ï¼ˆå¦‚### å®éªŒè®¾è®¡ã€### æ•°æ®åˆ†æï¼‰ï¼› å››çº§åŠä»¥ä¸‹æ ‡é¢˜åº”è°¨æ…ä½¿ç”¨ï¼Œé¿å…å±‚çº§è¿‡æ·±å¯¼è‡´ç»“æ„å¤æ‚ã€‚ æ³¨æ„äº‹é¡¹ï¼š é¿å…æ ‡é¢˜å±‚çº§è·³è·ƒï¼ˆå¦‚ç›´æ¥ä»ä¸€çº§è·³åˆ°ä¸‰çº§ï¼‰ï¼› åŒä¸€çº§æ ‡é¢˜ä¸‹é¿å…ä»…æœ‰ä¸€ä¸ªå­æ ‡é¢˜ï¼ˆå¦‚äºŒçº§æ ‡é¢˜ä¸‹ä»…ä¸€ä¸ªä¸‰çº§æ ‡é¢˜ï¼‰ï¼› ä¿æŒæ ‡é¢˜ç®€æ´ï¼Œå‡å°‘å››çº§æ ‡é¢˜çš„ä½¿ç”¨ã€‚ ","date":"2025-02-21T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/markdown-skill/","title":"Markdownæ³¨æ„äº‹é¡¹"},{"content":"åœ¨å¯¹æ¯” .NET Framework å’Œ .NET Core åœ¨æ‰˜ç®¡å’Œéæ‰˜ç®¡ä»£ç ä¸Šçš„å¤„ç†æ—¶ï¼Œéœ€è¦è€ƒè™‘ä¸¤è€…çš„è¿è¡Œæœºåˆ¶ä»¥åŠåœ¨ IIS ä¸­çš„é…ç½®å·®å¼‚ã€‚ä»¥ä¸‹ä»è¿è¡Œæ—¶ç®¡ç†ã€æ‰˜ç®¡ä¸éæ‰˜ç®¡ä»£ç æ”¯æŒã€æ€§èƒ½å’Œåœºæ™¯ç­‰æ–¹é¢åˆ†æä¸¤è€…çš„åŒºåˆ«ï¼š\næ‰˜ç®¡ä¸éæ‰˜ç®¡ä»£ç æ¦‚è¿° æ‰˜ç®¡ä»£ç ï¼š ç”± CLRï¼ˆå…¬å…±è¯­è¨€è¿è¡Œæ—¶ï¼‰ ç®¡ç†ï¼Œè¿è¡Œæ—¶æä¾›å†…å­˜ç®¡ç†ã€åƒåœ¾å›æ”¶ã€ç±»å‹å®‰å…¨ç­‰åŠŸèƒ½ã€‚ é€‚ç”¨äºä½¿ç”¨ C#ã€VB.NET ç­‰è¯­è¨€å¼€å‘çš„ä»£ç ã€‚ è¿è¡Œæ—¶ç¯å¢ƒï¼š .NET Framework ä½¿ç”¨å…¶è‡ªèº«çš„è¿è¡Œæ—¶ (.NET CLR)ã€‚ .NET Core ä½¿ç”¨è·¨å¹³å°çš„ CoreCLR æˆ– .NET Runtimeã€‚ éæ‰˜ç®¡ä»£ç ï¼š ä¸ç”± CLR ç®¡ç†ï¼Œç›´æ¥ä¸æ“ä½œç³»ç»Ÿäº¤äº’ï¼ˆä¾‹å¦‚åŸç”Ÿ C/C++ ä»£ç ï¼‰ã€‚ ä¸äº«å— CLR æä¾›çš„åŠŸèƒ½ï¼Œå¼€å‘è€…éœ€è¦è‡ªå·±å¤„ç†å†…å­˜åˆ†é…ã€èµ„æºé‡Šæ”¾ç­‰ã€‚ åœ¨ .NET Framework å’Œ .NET Core ä¸­ï¼Œå¯ä»¥é€šè¿‡ P/Invokeï¼ˆå¹³å°è°ƒç”¨ï¼‰ç­‰æ–¹å¼è°ƒç”¨éæ‰˜ç®¡ä»£ç ã€‚ IIS æ‰˜ç®¡çš„å·®å¼‚ .NET Framework è¿è¡Œæœºåˆ¶ï¼š åœ¨ IIS ä¸­ï¼Œ.NET Framework åº”ç”¨ç¨‹åºå®Œå…¨ä¾èµ– IIS çš„æ‰˜ç®¡åŠŸèƒ½ã€‚ IIS åŠ è½½æŒ‡å®šç‰ˆæœ¬çš„ .NET CLRï¼ˆä¾‹å¦‚ v4.0ï¼‰ï¼Œæ‰˜ç®¡ä»£ç åœ¨ .NET CLR ä¸­æ‰§è¡Œã€‚ é…ç½®é€‰é¡¹ï¼š æ‰˜ç®¡ä»£ç ï¼šéœ€è¦åœ¨åº”ç”¨ç¨‹åºæ± ä¸­é€‰æ‹©å¯¹åº”çš„ \u0026ldquo;.NET CLR ç‰ˆæœ¬\u0026rdquo;ï¼ˆå¦‚ v2.0 æˆ– v4.0ï¼‰ã€‚ éæ‰˜ç®¡ä»£ç ï¼šè®¾ç½®ä¸ºâ€œæ— æ‰˜ç®¡ä»£ç â€ï¼Œè¡¨ç¤ºä¸åŠ è½½ .NET CLRï¼ŒIIS ä»…ç”¨ä½œè¿è¡Œéæ‰˜ç®¡åº”ç”¨ï¼ˆå¦‚ç»å…¸ ASP æˆ–çº¯åŸç”Ÿä»£ç ï¼‰ã€‚ ç‰¹ç‚¹ï¼š IIS è´Ÿè´£æ‰˜ç®¡åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸå’Œè¿è¡Œç¯å¢ƒã€‚ å¼ºä¾èµ–äº Windows å’Œ .NET Frameworkï¼Œæ— æ³•è·¨å¹³å°ã€‚ .NET Core è¿è¡Œæœºåˆ¶ï¼š .NET Core åº”ç”¨ç¨‹åºé€šè¿‡ Kestrel Web Server è¿è¡Œã€‚ IIS ä»…ä½œä¸ºåå‘ä»£ç†ï¼Œè½¬å‘ HTTP è¯·æ±‚åˆ° Kestrelï¼Œä¸ç›´æ¥æ‰˜ç®¡ä»£ç ã€‚ .NET Core çš„è¿è¡Œæ—¶ç‹¬ç«‹äº IISï¼Œå¯ä»¥è·¨å¹³å°è¿è¡Œã€‚ é…ç½®é€‰é¡¹ï¼š æ‰˜ç®¡ä»£ç ï¼šæ— éœ€é€‰æ‹© .NET CLRï¼Œæ¨èå°†â€œ.NET CLR ç‰ˆæœ¬â€è®¾ç½®ä¸ºâ€œæ— æ‰˜ç®¡ä»£ç â€ã€‚ éæ‰˜ç®¡ä»£ç ï¼šåŒæ ·é€‰æ‹©â€œæ— æ‰˜ç®¡ä»£ç â€ï¼Œå› ä¸º .NET Core è‡ªå¸¦è¿è¡Œæ—¶ï¼ŒIIS åªè´Ÿè´£è¯·æ±‚è½¬å‘ã€‚ ç‰¹ç‚¹ï¼š ç‹¬ç«‹è¿è¡Œæ—¶ï¼ˆSelf-contained Deploymentï¼‰ä½¿å…¶ä¸ä¾èµ–æœåŠ¡å™¨ä¸Šçš„ .NET è¿è¡Œæ—¶ã€‚ è½»é‡çº§è®¾è®¡ï¼Œæ›´é«˜æ€§èƒ½ï¼Œè·¨å¹³å°èƒ½åŠ›å¼ºã€‚ æ€§èƒ½å¯¹æ¯” ç‰¹æ€§ .NET Framework .NET Core æ‰˜ç®¡ä»£ç æ€§èƒ½ è¾ƒé«˜ï¼Œä½†å—é™äº IIS å’Œ Windows å¹³å°ã€‚ æ›´é«˜æ€§èƒ½ï¼ŒKestrel æ¯” IIS æ›´è½»é‡ï¼Œç‹¬ç«‹äºå¹³å°è¿è¡Œã€‚ éæ‰˜ç®¡ä»£ç æ€§èƒ½ æ”¯æŒ P/Invokeï¼Œä½†è°ƒç”¨éæ‰˜ç®¡ä»£ç æ—¶éœ€è¦æ›´é«˜çš„èµ„æºç®¡ç†æˆæœ¬ã€‚ åŒæ ·æ”¯æŒ P/Invokeï¼Œæ€§èƒ½ä¼˜åŒ–æ›´å¥½ï¼Œè·¨å¹³å°èƒ½åŠ›æ›´å¼ºã€‚ èµ„æºå¼€é”€ IIS åŠ è½½ .NET CLR æ—¶æœ‰ä¸€å®šçš„å†…å­˜å’Œå¯åŠ¨å¼€é”€ã€‚ ä¸ä¾èµ– IIS æ‰˜ç®¡ï¼Œè¿è¡Œæ—¶æ›´è½»é‡ï¼Œä»…ç”¨ IIS ä½œä¸ºåå‘ä»£ç†æ—¶å¼€é”€ä½ã€‚ å¯åŠ¨é€Ÿåº¦ è¾ƒæ…¢ï¼Œä¾èµ– IIS åˆå§‹åŒ–å’ŒåŠ è½½ .NET CLRã€‚ è¾ƒå¿«ï¼Œç‹¬ç«‹è¿è¡Œæ—¶ä¸ä¾èµ– IIS çš„åˆå§‹åŒ–ã€‚ é€‚ç”¨åœºæ™¯å¯¹æ¯” åœºæ™¯ .NET Framework .NET Core ä¼ ç»Ÿ Windows åº”ç”¨ é€‚ç”¨äºéœ€è¦ç´§å¯†é›†æˆ Windows å¹³å°çš„åº”ç”¨ï¼ˆå¦‚ä¼ä¸šå†…éƒ¨ç³»ç»Ÿï¼‰ã€‚ ä¸é€‚åˆä¼ ç»Ÿä¾èµ– Windows çš„åº”ç”¨ã€‚ è·¨å¹³å° Web åº”ç”¨ ä¸æ”¯æŒè·¨å¹³å°ï¼Œè¿è¡Œæ—¶åªèƒ½åœ¨ Windows ä¸Šã€‚ å®Œç¾æ”¯æŒè·¨å¹³å°ï¼ˆWindowsã€Linuxã€macOSï¼‰ã€‚ é«˜æ€§èƒ½ Web åº”ç”¨ æ€§èƒ½è¾ƒä½ï¼ˆå—é™äº IIS çš„å¼€é”€å’Œæ‰˜ç®¡æ¨¡å‹ï¼‰ã€‚ æ€§èƒ½æ›´é«˜ï¼ŒKestrel å’Œåå‘ä»£ç†çš„ç»„åˆæ•ˆç‡æ›´ä¼˜ã€‚ æ··åˆæ‰˜ç®¡ä¸éæ‰˜ç®¡ æ”¯æŒï¼Œä½†æ‰˜ç®¡ä»£ç å’Œéæ‰˜ç®¡ä»£ç çš„äº¤äº’éœ€è¦æ³¨æ„æ€§èƒ½æŸè€—ã€‚ æ›´é«˜æ•ˆï¼Œç‰¹åˆ«æ˜¯åœ¨è°ƒç”¨æœ¬æœºåº“æ—¶ï¼ŒP/Invoke æ›´åŠ ä¼˜åŒ–ã€‚ æ€»ç»“å¯¹æ¯” ç‰¹æ€§ .NET Framework .NET Core æ‰˜ç®¡æ¨¡å‹ å¼ºä¾èµ– IIS æä¾›çš„æ‰˜ç®¡ç¯å¢ƒ ç‹¬ç«‹æ‰˜ç®¡ï¼Œé€šè¿‡ Kestrel ä¸ IIS é›†æˆ è¿è¡Œæ—¶ç¯å¢ƒ ä¾èµ– .NET CLR ä½¿ç”¨ç‹¬ç«‹çš„ .NET Core è¿è¡Œæ—¶ IIS é…ç½®æ¨è è®¾ç½®ä¸ºå¯¹åº” .NET CLR ç‰ˆæœ¬ è®¾ç½®ä¸ºâ€œæ— æ‰˜ç®¡ä»£ç â€ è·¨å¹³å°æ”¯æŒ ä¸æ”¯æŒ å®Œå…¨æ”¯æŒè·¨å¹³å° æ€§èƒ½ è¾ƒä½ï¼ˆå—é™äº IIS å’Œ .NET Frameworkï¼‰ æ›´é«˜ï¼ˆè½»é‡çº§ Kestrel å’Œç‹¬ç«‹è¿è¡Œæ—¶ï¼‰ å¦‚æœä½ çš„åº”ç”¨éœ€è¦é«˜æ€§èƒ½ã€è·¨å¹³å°æ”¯æŒæˆ–è½»é‡çº§æ¶æ„ï¼Œé€‰æ‹© .NET Core æ˜¯æ›´ä¼˜çš„æ–¹æ¡ˆã€‚è€Œå¦‚æœä½ çš„åº”ç”¨æ˜¯é’ˆå¯¹ Windows å¹³å°çš„ä¼ ç»Ÿåº”ç”¨ï¼Œä¸”éœ€è¦ä½¿ç”¨ .NET Framework çš„å®Œæ•´åŠŸèƒ½ï¼Œ.NET Framework ä¼šæ˜¯åˆé€‚çš„é€‰æ‹©ã€‚\n","date":"2025-01-16T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/iis_hosted_unhosted/","title":"IISä¸­.net coreå’Œ.net frameworkæ‰˜ç®¡å’Œéæ‰˜ç®¡çš„å¯¹æ¯”"},{"content":"ååºåˆ—åŒ–Jsonå¸¸ç”¨æ–¹å¼ JsonConvert.DeserializeObject\u0026lt;dynamic\u0026gt;(string) JObject.Parse(string) â€‹ è¿™é‡Œé‡‡ç”¨enchmarkDotNetè¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Šä»£ç \n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 #load \u0026#34;BenchmarkDotNet\u0026#34; void Main() { RunBenchmark(); return; // Uncomment this line to initiate benchmarking. } string complexJsonString = @\u0026#34; { \u0026#34;\u0026#34;id\u0026#34;\u0026#34;: 12345, \u0026#34;\u0026#34;name\u0026#34;\u0026#34;: \u0026#34;\u0026#34;Sample Name\u0026#34;\u0026#34;, \u0026#34;\u0026#34;isActive\u0026#34;\u0026#34;: true, \u0026#34;\u0026#34;details\u0026#34;\u0026#34;: { \u0026#34;\u0026#34;description\u0026#34;\u0026#34;: \u0026#34;\u0026#34;This is a sample description.\u0026#34;\u0026#34;, \u0026#34;\u0026#34;createdAt\u0026#34;\u0026#34;: \u0026#34;\u0026#34;2025-01-13T00:00:00Z\u0026#34;\u0026#34;, \u0026#34;\u0026#34;tags\u0026#34;\u0026#34;: [\u0026#34;\u0026#34;example\u0026#34;\u0026#34;, \u0026#34;\u0026#34;performance\u0026#34;\u0026#34;, \u0026#34;\u0026#34;test\u0026#34;\u0026#34;] }, \u0026#34;\u0026#34;metrics\u0026#34;\u0026#34;: [1, 2, 3, 4, 5] }\u0026#34;; string easyString = @\u0026#34;{ \u0026#34;\u0026#34;id\u0026#34;\u0026#34;: 12345, \u0026#34;\u0026#34;name\u0026#34;\u0026#34;: \u0026#34;\u0026#34;Sample Name\u0026#34;\u0026#34; }\u0026#34;; [Benchmark] public void JsonConvert_DeserializeObject_complexJsonString() =\u0026gt; JsonConvert.DeserializeObject\u0026lt;dynamic\u0026gt;(complexJsonString); [Benchmark] public void JObject_Parse_complexJsonString() =\u0026gt; JObject.Parse(complexJsonString); [Benchmark] public void JsonConvert_DeserializeObject_easyString() =\u0026gt; JsonConvert.DeserializeObject\u0026lt;dynamic\u0026gt;(easyString); [Benchmark] public void JObject_Parse_easyString() =\u0026gt; JObject.Parse(easyString); [GlobalSetup] public void BenchmarkSetup() { // optional setup code... } â€‹ æˆ‘ä»¬æ¥çœ‹ç»“æœ ç»“è®º â€‹ å¯ä»¥çœ‹å‡ºä¸è®ºæ˜¯å¤æ‚Jsonè¿˜æ˜¯ç®€å•Jsonï¼ŒJObject.Parseéƒ½æ˜¯æœ€ä¼˜é€‰æ‹©\n","date":"2025-01-15T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/deserializejson/","title":"Newtonsoftååºåˆ—åŒ–Jsonå¸¸ç”¨æ–¹å¼çš„æ€§èƒ½å¯¹æ¯”"},{"content":"C# 12 ä¸­çš„æ–°å¢åŠŸèƒ½ ä¸»æ„é€ å‡½æ•° ç°åœ¨å¯ä»¥åœ¨ä»»ä½• class å’Œ struct ä¸­åˆ›å»ºä¸»æ„é€ å‡½æ•°ã€‚ ä¸»æ„é€ å‡½æ•°ä¸å†å±€é™äº record ç±»å‹ã€‚ ä¸»æ„é€ å‡½æ•°å‚æ•°éƒ½åœ¨ç±»çš„æ•´ä¸ªä¸»ä½“çš„èŒƒå›´å†…ã€‚ ä¸ºäº†ç¡®ä¿æ˜¾å¼åˆ†é…æ‰€æœ‰ä¸»æ„é€ å‡½æ•°å‚æ•°ï¼Œæ‰€æœ‰æ˜¾å¼å£°æ˜çš„æ„é€ å‡½æ•°éƒ½å¿…é¡»ä½¿ç”¨ this() è¯­æ³•è°ƒç”¨ä¸»æ„é€ å‡½æ•°ã€‚ å°†ä¸»æ„é€ å‡½æ•°æ·»åŠ åˆ° class å¯é˜²æ­¢ç¼–è¯‘å™¨å£°æ˜éšå¼æ— å‚æ•°æ„é€ å‡½æ•°ã€‚ åœ¨ struct ä¸­ï¼Œéšå¼æ— å‚æ•°æ„é€ å‡½æ•°åˆå§‹åŒ–æ‰€æœ‰å­—æ®µï¼ŒåŒ…æ‹¬ 0 ä½æ¨¡å¼çš„ä¸»æ„é€ å‡½æ•°å‚æ•°ã€‚\nç¼–è¯‘å™¨ä»…åœ¨ record ç±»å‹ï¼ˆrecord class æˆ– record struct ç±»å‹ï¼‰ä¸­ä¸ºä¸»æ„é€ å‡½æ•°å‚æ•°ç”Ÿæˆå…¬å…±å±æ€§ã€‚ å¯¹äºä¸»æ„é€ å‡½æ•°å‚æ•°ï¼Œéè®°å½•ç±»å’Œç»“æ„å¯èƒ½å¹¶ä¸æ€»æ˜¯éœ€è¦æ­¤è¡Œä¸ºã€‚\næœ‰å…³ä¸»æ„é€ å‡½æ•°çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ¢ç´¢ä¸»æ„é€ å‡½æ•°çš„æ•™ç¨‹å’Œå®ä¾‹æ„é€ å‡½æ•°çš„ç›¸å…³æ–‡ç« ã€‚\né›†åˆè¡¨è¾¾å¼ é›†åˆè¡¨è¾¾å¼å¼•å…¥äº†æ–°çš„ è¯­æ³•æ¥åˆ›å»ºå¸¸è§çš„é›†åˆå€¼ã€‚ å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ .. å°†å…¶ä»–é›†åˆå†…è”åˆ°è¿™äº›å€¼ä¸­ã€‚\nå¯ä»¥åˆ›å»ºå¤šä¸ªç±»ä¼¼é›†åˆçš„ç±»å‹ï¼Œè€Œæ— éœ€ä½¿ç”¨å¤–éƒ¨ BCL(Base Class Library) æ”¯æŒã€‚ è¿™äº›ç±»å‹åŒ…æ‹¬ï¼š\næ•°ç»„ç±»å‹ï¼Œä¾‹å¦‚ int[]ã€‚ System.Span\u0026lt;T\u0026gt; å’Œ System.ReadOnlySpan\u0026lt;T\u0026gt;ã€‚ æ”¯æŒé›†åˆåˆå§‹å€¼è®¾å®šé¡¹çš„ç±»å‹ï¼Œä¾‹å¦‚ System.Collections.Generic.List\u0026lt;T\u0026gt;ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†é›†åˆè¡¨è¾¾å¼çš„ä½¿ç”¨ï¼š\nC#\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // Create an array: int[] a = [1, 2, 3, 4, 5, 6, 7, 8]; // Create a list: List\u0026lt;string\u0026gt; b = [\u0026#34;one\u0026#34;, \u0026#34;two\u0026#34;, \u0026#34;three\u0026#34;]; // Create a span Span\u0026lt;char\u0026gt; c = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;f\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;i\u0026#39;]; // Create a jagged 2D array: int[][] twoD = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]; // Create a jagged 2D array from variables: int[] row0 = [1, 2, 3]; int[] row1 = [4, 5, 6]; int[] row2 = [7, 8, 9]; int[][] twoDFromVariables = [row0, row1, row2]; å±•å¼€è¿ç®—ç¬¦ï¼ˆé›†åˆè¡¨è¾¾å¼ä¸­çš„ ..ï¼‰å¯å°†å…¶å‚æ•°æ›¿æ¢ä¸ºè¯¥é›†åˆä¸­çš„å…ƒç´ ã€‚ å‚æ•°å¿…é¡»æ˜¯é›†åˆç±»å‹ã€‚ ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†å±•å¼€è¿ç®—ç¬¦çš„å·¥ä½œåŸç†ï¼š\nC#\n1 2 3 4 5 6 7 8 9 10 int[] row0 = [1, 2, 3]; int[] row1 = [4, 5, 6]; int[] row2 = [7, 8, 9]; int[] single = [.. row0, .. row1, .. row2]; foreach (var element in single) { Console.Write($\u0026#34;{element}, \u0026#34;); } // output: // 1, 2, 3, 4, 5, 6, 7, 8, 9, å±•å¼€è¿ç®—ç¬¦çš„æ“ä½œæ•°æ˜¯å¯ä»¥æšä¸¾çš„è¡¨è¾¾å¼ã€‚ å±•å¼€è¿ç®—ç¬¦å¯è®¡ç®—æšä¸¾è¡¨è¾¾å¼çš„æ¯ä¸ªå…ƒç´ ã€‚\nå¯ä»¥åœ¨éœ€è¦å…ƒç´ é›†åˆçš„ä»»ä½•ä½ç½®ä½¿ç”¨é›†åˆè¡¨è¾¾å¼ã€‚ å®ƒä»¬å¯ä»¥æŒ‡å®šé›†åˆçš„åˆå§‹å€¼ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™é‡‡ç”¨é›†åˆç±»å‹çš„æ–¹æ³•ã€‚ å¯ä»¥åœ¨æœ‰å…³é›†åˆè¡¨è¾¾å¼çš„è¯­è¨€å‚è€ƒæ–‡ç« æˆ–åŠŸèƒ½è§„èŒƒä¸­è¯¦ç»†äº†è§£é›†åˆè¡¨è¾¾å¼ã€‚\nref readonly å‚æ•° C# æ·»åŠ äº† in å‚æ•°ä½œä¸ºä¼ é€’åªè¯»å¼•ç”¨çš„æ–¹æ³•ã€‚ in å‚æ•°æ—¢å…è®¸å˜é‡å’Œå€¼ï¼Œå¹¶ä¸”æ— éœ€å¯¹å‚æ•°è¿›è¡Œä»»ä½•æ³¨é‡Šå³å¯ä½¿ç”¨ã€‚\næ·»åŠ  ref readonly å‚æ•°å¯ä»¥æ›´æ¸…æ¥šåœ°äº†è§£å¯èƒ½ä½¿ç”¨ ref å‚æ•°æˆ– in å‚æ•°çš„ APIï¼š\nå³ä½¿å‚æ•°æœªä¿®æ”¹ï¼Œåœ¨ in å¼•å…¥ä¹‹å‰åˆ›å»ºçš„ API ä¹Ÿå¯èƒ½ä¼šä½¿ç”¨ refã€‚ å¯ä»¥ä½¿ç”¨ ref readonly æ›´æ–°è¿™äº› APIã€‚ å¯¹äºè°ƒç”¨æ–¹æ¥è¯´ï¼Œè¿™ä¸ä¼šæ˜¯ä¸€é¡¹ä¸­æ–­æ€§å˜æ›´ï¼Œå°±åƒå‚æ•° ref æ›´æ”¹ä¸º in é‚£æ ·ã€‚ ç¤ºä¾‹ä¸º System.Runtime.InteropServices.Marshal.QueryInterfaceã€‚ é‡‡ç”¨ in å‚æ•°ä½†é€»è¾‘ä¸Šéœ€è¦å˜é‡çš„ APIã€‚ å€¼è¡¨è¾¾å¼ä¸èµ·ä½œç”¨ã€‚ ç¤ºä¾‹ä¸º System.ReadOnlySpan\u0026lt;T\u0026gt;.ReadOnlySpan\u0026lt;T\u0026gt;(T)ã€‚ ä½¿ç”¨ ref çš„ APIï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å˜é‡ï¼Œä½†ä¸æ”¹å˜è¯¥å˜é‡ã€‚ ç¤ºä¾‹ä¸º System.Runtime.CompilerServices.Unsafe.IsNullRefã€‚ è‹¥è¦äº†è§£æœ‰å…³ ref readonly å‚æ•°çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æœ‰å…³è¯­è¨€å‚è€ƒä¸­çš„å‚æ•°ä¿®é¥°ç¬¦çš„æ–‡ç« ï¼Œæˆ–å‚è€ƒåªè¯»å‚æ•°åŠŸèƒ½è§„èŒƒã€‚\né»˜è®¤ Lambda å‚æ•° ç°åœ¨å¯ä»¥ä¸º Lambda è¡¨è¾¾å¼çš„å‚æ•°å®šä¹‰é»˜è®¤å€¼ã€‚ è¯­æ³•å’Œè§„åˆ™ä¸å°†å‚æ•°çš„é»˜è®¤å€¼æ·»åŠ åˆ°ä»»ä½•æ–¹æ³•æˆ–æœ¬åœ°å‡½æ•°ç›¸åŒã€‚\nå¯ä»¥åœ¨æœ‰å…³ Lambda è¡¨è¾¾å¼çš„æ–‡ç« ä¸­è¯¦ç»†äº†è§£ Lambda è¡¨è¾¾å¼ä¸Šçš„é»˜è®¤å‚æ•°ã€‚\nä»»ä½•ç±»å‹çš„åˆ«å å¯ä»¥ä½¿ç”¨ using åˆ«åæŒ‡ä»¤åˆ›å»ºä»»ä½•ç±»å‹çš„åˆ«åï¼Œè€Œä¸ä»…ä»…æ˜¯å‘½åç±»å‹ã€‚ è¿™æ„å‘³ç€å¯ä»¥ä¸ºå…ƒç»„ç±»å‹ã€æ•°ç»„ç±»å‹ã€æŒ‡é’ˆç±»å‹æˆ–å…¶ä»–ä¸å®‰å…¨ç±»å‹åˆ›å»ºè¯­ä¹‰åˆ«åã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…åŠŸèƒ½è§„èŒƒã€‚\nå†…è”æ•°ç»„ è¿è¡Œæ—¶å›¢é˜Ÿå’Œå…¶ä»–åº“ä½œè€…ä½¿ç”¨å†…è”æ•°ç»„æ¥æé«˜åº”ç”¨çš„æ€§èƒ½ã€‚ å†…è”æ•°ç»„ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåˆ›å»ºå›ºå®šå¤§å°çš„ struct ç±»å‹æ•°ç»„ã€‚ å…·æœ‰å†…è”ç¼“å†²åŒºçš„ç»“æ„åº”æä¾›ç±»ä¼¼äºä¸å®‰å…¨çš„å›ºå®šå¤§å°ç¼“å†²åŒºçš„æ€§èƒ½ç‰¹å¾ã€‚ ä½ å¯èƒ½ä¸ä¼šå£°æ˜è‡ªå·±çš„å†…è”æ•°ç»„ï¼Œä½†å½“å®ƒä»¬ä»è¿è¡Œæ—¶ API ä½œä¸º System.Span\u0026lt;T\u0026gt; æˆ– System.ReadOnlySpan\u0026lt;T\u0026gt; å¯¹è±¡å…¬å¼€æ—¶ï¼Œä½ å°†é€æ˜åœ°ä½¿ç”¨è¿™äº›æ•°ç»„ã€‚\nå†…è”æ•°ç»„çš„å£°æ˜ç±»ä¼¼äºä»¥ä¸‹ structï¼š\nC#\n1 2 3 4 5 [System.Runtime.CompilerServices.InlineArray(10)] public struct Buffer { private int _element0; } å®ƒä»¬çš„ç”¨æ³•ä¸ä»»ä½•å…¶ä»–æ•°ç»„ç±»ä¼¼ï¼š\nC#\n1 2 3 4 5 6 7 8 9 10 var buffer = new Buffer(); for (int i = 0; i \u0026lt; 10; i++) { buffer[i] = i; } foreach (var i in buffer) { Console.WriteLine(i); } åŒºåˆ«åœ¨äºç¼–è¯‘å™¨å¯ä»¥åˆ©ç”¨æœ‰å…³å†…è”æ•°ç»„çš„å·²çŸ¥ä¿¡æ¯ã€‚ ä½ å¯èƒ½ä¼šåƒä½¿ç”¨ä»»ä½•å…¶ä»–æ•°ç»„ä¸€æ ·ä½¿ç”¨å†…è”æ•°ç»„ã€‚ æœ‰å…³å¦‚ä½•å£°æ˜å†…è”æ•°ç»„çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æœ‰å…³ struct ç±»å‹çš„è¯­è¨€å‚è€ƒã€‚\nExperimental å±æ€§ å¯ä»¥ä½¿ç”¨ System.Diagnostics.CodeAnalysis.ExperimentalAttribute æ¥æ ‡è®°ç±»å‹ã€æ–¹æ³•æˆ–ç¨‹åºé›†ï¼Œä»¥æŒ‡ç¤ºå®éªŒæ€§ç‰¹å¾ã€‚ å¦‚æœè®¿é—®ä½¿ç”¨ ExperimentalAttribute æ³¨é‡Šçš„æ–¹æ³•æˆ–ç±»å‹ï¼Œç¼–è¯‘å™¨å°†å‘å‡ºè­¦å‘Šã€‚ ç”¨ Experimental ç‰¹æ€§æ ‡è®°çš„ç¨‹åºé›†ä¸­åŒ…å«çš„æ‰€æœ‰ç±»å‹éƒ½æ˜¯å®éªŒæ€§çš„ã€‚ å¯ä»¥åœ¨æœ‰å…³ç¼–è¯‘å™¨è¯»å–çš„å¸¸è§„å±æ€§çš„æ–‡ç« æˆ–åŠŸèƒ½è§„èŒƒä¸­é˜…è¯»è¯¦ç»†ä¿¡æ¯ã€‚\næ‹¦æˆªå™¨ è­¦å‘Š\næ‹¦æˆªå™¨æ˜¯ä¸€é¡¹è¯•éªŒæ€§åŠŸèƒ½ï¼Œåœ¨ C# 12 çš„é¢„è§ˆæ¨¡å¼ä¸‹æä¾›ã€‚ åœ¨å°†æ¥çš„ç‰ˆæœ¬ä¸­ï¼Œè¯¥åŠŸèƒ½å¯èƒ½ä¼šå‘ç”Ÿä¸­æ–­æ€§å˜æ›´æˆ–è¢«åˆ é™¤ã€‚ å› æ­¤ï¼Œä¸å»ºè®®å°†å…¶ç”¨äºç”Ÿäº§æˆ–å·²å‘å¸ƒçš„åº”ç”¨ç¨‹åºã€‚\nè‹¥è¦ä½¿ç”¨æ‹¦æˆªå™¨ï¼Œç”¨æˆ·é¡¹ç›®å¿…é¡»æŒ‡å®šå±æ€§ \u0026lt;InterceptorsPreviewNamespaces\u0026gt;ã€‚ è¿™æ˜¯å…è®¸åŒ…å«æ‹¦æˆªå™¨çš„å‘½åç©ºé—´çš„åˆ—è¡¨ã€‚\nä¾‹å¦‚ï¼š\u0026lt;InterceptorsPreviewNamespaces\u0026gt;$(InterceptorsPreviewNamespaces);Microsoft.AspNetCore.Http.Generated;MyLibrary.Generated\u0026lt;/InterceptorsPreviewNamespaces\u0026gt;\næ‹¦æˆªå™¨æ˜¯ä¸€ç§æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥åœ¨ç¼–è¯‘æ—¶ä»¥å£°æ˜æ–¹å¼å°†å¯¹å¯æ‹¦æˆªæ–¹æ³•çš„è°ƒç”¨æ›¿æ¢ä¸ºå¯¹å…¶è‡ªèº«çš„è°ƒç”¨ã€‚ é€šè¿‡è®©æ‹¦æˆªå™¨å£°æ˜æ‰€æ‹¦æˆªè°ƒç”¨çš„æºä½ç½®ï¼Œå¯ä»¥è¿›è¡Œè¿™ç§æ›¿æ¢ã€‚ æ‹¦æˆªå™¨å¯ä»¥å‘ç¼–è¯‘ä¸­ï¼ˆä¾‹å¦‚åœ¨æºç”Ÿæˆå™¨ä¸­ï¼‰æ·»åŠ æ–°ä»£ç ï¼Œä»è€Œæä¾›æ›´æ”¹ç°æœ‰ä»£ç è¯­ä¹‰çš„æœ‰é™èƒ½åŠ›ã€‚\nåœ¨æºç”Ÿæˆå™¨ä¸­ä½¿ç”¨æ‹¦æˆªå™¨ä¿®æ”¹ç°æœ‰ç¼–è¯‘çš„ä»£ç ï¼Œè€Œéå‘å…¶ä¸­æ·»åŠ ä»£ç ã€‚ æºç”Ÿæˆå™¨å°†å¯¹å¯æ‹¦æˆªæ–¹æ³•çš„è°ƒç”¨æ›¿æ¢ä¸ºå¯¹æ‹¦æˆªå™¨æ–¹æ³•çš„è°ƒç”¨\nã€‚\nå¦‚æœä½ æœ‰å…´è¶£å°è¯•æ‹¦æˆªå™¨ï¼Œå¯ä»¥é˜…è¯»åŠŸèƒ½è§„èŒƒæ¥äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚ å¦‚æœä½¿ç”¨è¯¥åŠŸèƒ½ï¼Œè¯·ç¡®ä¿éšæ—¶äº†è§£æ­¤å®éªŒåŠŸèƒ½çš„åŠŸèƒ½è§„èŒƒä¸­çš„ä»»ä½•æ›´æ”¹ã€‚ æœ€ç»ˆç¡®å®šåŠŸèƒ½åï¼Œæˆ‘ä»¬å°†åœ¨æœ¬ç«™ç‚¹ä¸Šæ·»åŠ æ›´å¤šæŒ‡å¯¼ã€‚\n","date":"2024-11-28T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/what_new_in_csharp12/","title":"C# 12 ä¸­çš„æ–°å¢åŠŸèƒ½"},{"content":"åœ¨ WPF ä¸­ï¼ŒObservableCollection å’Œ BindingList éƒ½æ˜¯å¸¸ç”¨çš„æ•°æ®é›†åˆç±»å‹ï¼Œä½†å®ƒä»¬çš„ç”¨é€”å’ŒåŠŸèƒ½æœ‰ä¸€äº›ä¸åŒã€‚ä»¥ä¸‹æ˜¯ä¸¤è€…çš„è¯¦ç»†å¯¹æ¯”ï¼š\næ•°æ®å˜æ›´é€šçŸ¥æœºåˆ¶ ObservableCollection\u0026lt;T\u0026gt;: å®ç°æ–¹å¼: å®ç°äº† INotifyCollectionChanged å’Œ INotifyPropertyChanged æ¥å£ã€‚ åŠŸèƒ½: å½“é›†åˆä¸­å…ƒç´ çš„æ·»åŠ ã€ç§»é™¤æˆ–æ•´ä¸ªé›†åˆçš„åˆ·æ–°ç­‰æ“ä½œå‘ç”Ÿæ—¶ï¼ŒObservableCollection ä¼šè§¦å‘ é›†åˆå˜æ›´é€šçŸ¥ï¼ˆCollectionChangedäº‹ä»¶ï¼‰ï¼Œæ¯”å¦‚ UI ä¼šè‡ªåŠ¨æ›´æ–°ã€‚ä½†æ˜¯ä¸€æ—¦å…¶ä¸­çš„å…ƒç´ å‘ç”Ÿäº†æ”¹å˜ï¼Œå°†ä¸ä¼šé€šçŸ¥ ä¼˜åŠ¿: é€‚åˆç»‘å®šåˆ° WPF çš„ ItemsControlï¼ˆå¦‚ ListBoxã€DataGridï¼‰æ—¶å®æ—¶æ›´æ–°ç•Œé¢ã€‚ BindingList\u0026lt;T\u0026gt;: å®ç°æ–¹å¼: å®ç°äº† IBindingList æ¥å£ã€‚ åŠŸèƒ½: æä¾›äº†æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼ŒåŒ…æ‹¬æ•°æ®ç»‘å®šå’Œæ’åºåŠŸèƒ½ï¼Œä½†é»˜è®¤æƒ…å†µä¸‹ä¸æ”¯æŒæ‰¹é‡é€šçŸ¥ã€‚ é€šçŸ¥: åªä¼šåœ¨é›†åˆçš„å…ƒç´ è¢«æ·»åŠ æˆ–åˆ é™¤æ—¶è§¦å‘äº‹ä»¶ï¼Œè€Œ å…ƒç´ å±æ€§å˜æ›´ï¼ˆListChangedï¼‰ é€šçŸ¥éœ€è¦é›†åˆä¸­çš„å…ƒç´ å®ç° INotifyPropertyChangedã€‚ å…ƒç´ å±æ€§å˜åŒ–é€šçŸ¥ ObservableCollection\u0026lt;T\u0026gt;: æ”¯æŒæƒ…å†µ: é›†åˆæœ¬èº«ä¸ç›‘å¬é›†åˆä¸­å…ƒç´ çš„å±æ€§å˜åŒ–ã€‚å¦‚æœéœ€è¦æ›´æ–°ç»‘å®šï¼Œåˆ™é›†åˆä¸­æ¯ä¸ªå…ƒç´ éœ€å®ç° INotifyPropertyChangedã€‚ åº”ç”¨åœºæ™¯: é€‚åˆåŠ¨æ€å˜åŒ–çš„é›†åˆï¼ˆæ·»åŠ /åˆ é™¤ï¼‰ï¼Œä½†å¯¹äºå…ƒç´ å±æ€§å˜åŒ–é€šçŸ¥è¾ƒå¼±ã€‚ BindingList\u0026lt;T\u0026gt;: æ”¯æŒæƒ…å†µ: åŸç”Ÿæ”¯æŒ INotifyPropertyChangedã€‚å¦‚æœå…ƒç´ å®ç°äº†è¯¥æ¥å£ï¼Œåˆ™ BindingList ä¼šå“åº”å…ƒç´ å±æ€§çš„å˜åŒ–ã€‚ åº”ç”¨åœºæ™¯: æ›´é€‚åˆéœ€è¦é¢‘ç¹æ›´æ–°å•ä¸ªå…ƒç´ å±æ€§çš„åœºæ™¯ã€‚ æ’åºå’Œç­›é€‰ ObservableCollection\u0026lt;T\u0026gt;: æ’åºæ”¯æŒ: ä¸æ”¯æŒç›´æ¥æ’åºã€‚éœ€è¦æ‰‹åŠ¨å®ç°ï¼Œé€šå¸¸å€ŸåŠ© CollectionView æˆ– Linq å®ç°æ’åºæˆ–ç­›é€‰ã€‚ çµæ´»æ€§: ä¸»è¦é€‚åˆç®€å•çš„æ•°æ®ç»‘å®šå’ŒåŠ¨æ€æ›´æ–°ã€‚ BindingList\u0026lt;T\u0026gt;: æ’åºæ”¯æŒ: å†…ç½®æ”¯æŒæ’åºåŠŸèƒ½ï¼ˆé€šè¿‡å®ç° IBindingList æä¾› ApplySort æ–¹æ³•ï¼‰ã€‚ ä½¿ç”¨åœºæ™¯: é€‚åˆéœ€è¦æ’åºæˆ–ç­›é€‰åŠŸèƒ½çš„é›†åˆæ“ä½œã€‚ æ€§èƒ½ ObservableCollection\u0026lt;T\u0026gt;: å› ä¸ºå…¶è®¾è®¡ç”¨äº WPF æ•°æ®ç»‘å®šï¼Œé€šçŸ¥æœºåˆ¶é’ˆå¯¹ WPF ä¼˜åŒ–ï¼Œæ‰€ä»¥æ€§èƒ½æ›´é«˜ã€‚ BindingList\u0026lt;T\u0026gt;: åŠŸèƒ½æ›´é€šç”¨ï¼Œé€šçŸ¥æœºåˆ¶åœ¨ WinForms ç¯å¢ƒä¸­è¡¨ç°æ›´ä¼˜ï¼Œåœ¨ WPF ä¸­æ€§èƒ½ç¨é€Šã€‚ çº¿ç¨‹å®‰å…¨ ä¸¤è€…å‡ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚æœéœ€è¦åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­æ“ä½œé›†åˆï¼Œåº”ä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼ˆå¦‚ Dispatcher æˆ– lockï¼‰æ¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚ æ€»ç»“ä¸é€‰æ‹© ç‰¹æ€§ ObservableCollection BindingList é€šçŸ¥æœºåˆ¶ é›†åˆå˜æ›´é€šçŸ¥ (INotifyCollectionChanged) æ”¯æŒå…ƒç´ å˜æ›´é€šçŸ¥ (INotifyPropertyChanged) æ’åºå’Œç­›é€‰ éœ€å€ŸåŠ© CollectionView ç­‰å®ç° åŸç”Ÿæ”¯æŒæ’åº é€‚ç”¨åœºæ™¯ åŠ¨æ€æ•°æ®ç»‘å®šï¼Œå®æ—¶ UI æ›´æ–° å¤æ‚çš„æ’åºã€ç­›é€‰å’Œ WinForms æ•°æ®ç»‘å®š æ€§èƒ½ åœ¨ WPF ä¸­è¡¨ç°ä¼˜å¼‚ è¾ƒä¸ºé€šç”¨ï¼Œä½†åœ¨ WPF ä¸­ç•¥é€Šä¸€ç­¹ æ¨è ä½¿ç”¨ ObservableCollection: å¦‚æœä¸»è¦æ˜¯ç”¨äº WPF ä¸­çš„åŠ¨æ€ç»‘å®šã€‚ ä½¿ç”¨ BindingList: å¦‚æœéœ€è¦å†…ç½®æ’åºå’Œå±æ€§ç›‘å¬ï¼Œæˆ–è€…éœ€è¦å…¼å®¹ WinForms åº”ç”¨ã€‚ ","date":"2024-11-26T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/observablecollection_and_bindinglist/","title":"ObservableCollectionå’ŒBindingListå¯¹æ¯”"},{"content":"éšå¼ç´¢å¼•è®¿é—® ç°åœ¨å¯¹è±¡åˆå§‹å€¼è®¾å®šé¡¹è¡¨è¾¾å¼ä¸­å…è®¸éšå¼â€œä»æœ«å°¾å¼€å§‹â€ç´¢å¼•è¿ç®—ç¬¦[^]ã€‚\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªImplicitIndexç±»å¹¶ä¸”åŒ…å«ä¸€ä¸ªNumberså±æ€§ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 5 çš„æ•´æ•°æ•°ç»„ã€‚\nç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨åˆå§‹åŒ–ç±»ImplicitIndexæ—¶åˆå§‹åŒ–å±æ€§Numbersï¼Œå¹¶ä½¿ç”¨â€œä»æœ«å°¾å¼€å§‹â€ç´¢å¼•è¿ç®—ç¬¦æ¥å¡«å……æ•°ç»„å€¼ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 /// \u0026lt;summary\u0026gt; /// éšå¼ç´¢å¼•è®¿é—® /// \u0026lt;/summary\u0026gt; private static void TestImplicitIndex() { var implicitIndex = new ImplicitIndex() { Numbers = { [^1] = 5, [^2] = 4, [^3] = 3, [^4] = 2, [^5] = 1 } }; foreach (var item in implicitIndex.Numbers) { Console.WriteLine(item); } } public class ImplicitIndex { public int[] Numbers { get; set; } = new int[5]; } é”å¯¹è±¡ æœ¬æ¬¡æ›´æ–°å¼•å…¥æ–°çš„é”ç±»å‹System.Threading.Lockï¼Œç”¨äºå®ç°äº’æ–¥ã€‚åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­é€šå¸¸é€šè¿‡objectç±»å‹è¿›è¡ŒåŠ é”ï¼Œè€Œç°åœ¨æœ‰äº†ä¸“é—¨çš„Lockç±»å‹ç”¨æ¥åŠ é”ã€‚\næ–°çš„Lockç±»å‹ä¼šä½¿å¾—ä»£ç æ›´å¹²å‡€ã€æ›´å®‰å…¨ã€æ›´é«˜æ•ˆã€‚\nåœ¨æ–°çš„é”å®šæœºåˆ¶ä¸­EnterScopeæ›¿æ¢äº†Monitoråº•å±‚å®ç°ã€‚åŒæ—¶å®ƒéµå¾ªDisposeæ¨¡å¼è¿”å›ref structï¼Œå› æ­¤å¯ä»¥ä¸usingè¯­å¥ç»“åˆä½¿ç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 /// \u0026lt;summary\u0026gt; /// é”å¯¹è±¡ /// \u0026lt;/summary\u0026gt; public class LockExample() { private readonly Lock _lock = new Lock(); public void Print() { lock (_lock) { Console.WriteLine(\u0026#34;Lock\u0026#34;); } } } ç”ŸæˆUUID v7 æˆ‘ä»¬ç»å¸¸åœ¨å®ä½“ä¸­ä½¿ç”¨Guidä½œä¸ºä¸»é”®ï¼Œå¹¶ä¸”é€šè¿‡Guid.NewGuid()å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”Ÿæˆä¸€ä¸ªæ–°çš„Guidï¼Œè€Œæ­¤æ–¹æ³•ç”Ÿæˆçš„Guidæ˜¯ä¾æ®UUIDç¬¬å››ä¸ªç‰ˆæœ¬è§„èŒƒç”Ÿæˆçš„ã€‚\nå½“å‰å·²ç»å¯ä»¥é€šè¿‡Guid.CreateVersion7()æ–¹æ³•åˆ›å»ºUUIDç¬¬ä¸ƒä¸ªç‰ˆæœ¬ï¼Œè¿™ä¸ªç‰ˆæœ¬UUIDä¸»è¦åŠŸèƒ½å°±æ˜¯åŒ…å«äº†æ—¶é—´æˆ³ï¼Œæ•°æ®ç»“æ„å¦‚ä¸‹ï¼š\n| 48ä½æ—¶é—´æˆ³ | 12ä½éšæœº | 62ä½éšæœº |\nè¿™ä¹Ÿæ„å‘³ç€v7ç‰ˆæœ¬çš„UUIDå¯ä»¥æŒ‰æ—¶é—´æ’åºäº†ï¼Œåœ¨æ•°æ®åº“ä¸­ä½¿ç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼ŒåŒæ—¶Guid.CreateVersion7()æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªé‡è½½æ–¹æ³•æ¥æ”¶DateTimeOffsetç±»å‹æ—¶é—´æˆ³ï¼Œç”¨æ¥é€šè¿‡æŒ‡å®šæ—¶é—´åˆ›å»ºUUIDã€‚\n1 2 3 var guid_v4 = Guid.NewGuid(); var guid_v7 = Guid.CreateVersion7(); var guid_v7_time = Guid.CreateVersion7(TimeProvider.System.GetLocalNow()); Linqæ–°æ–¹æ³• CountBy å’Œ AggregateBy å¼•å…¥äº†æ–°çš„æ–¹æ³• CountBy å’Œ AggregateByåï¼Œå¯ä»¥åœ¨ä¸ç»è¿‡GroupBy åˆ†é…ä¸­é—´åˆ†ç»„çš„æƒ…å†µä¸‹å¿«é€Ÿå®Œæˆå¤æ‚çš„èšåˆæ“ä½œï¼ŒåŒæ—¶æ–¹æ³•å‘½åä¹Ÿéå¸¸ç›´è§‚ï¼Œå¯ä»¥å¤§å¤§æå‡å·¥ä½œæ•ˆç‡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 public class Student { public string Name { get; set; } public int Age { get; set; } } public void CountByExample() { var students = new List\u0026lt;Student\u0026gt; { new Student { Name = \u0026#34;å°æ˜\u0026#34;, Age = 10 }, new Student { Name = \u0026#34;å°çº¢\u0026#34;, Age = 12 }, new Student { Name = \u0026#34;å°å\u0026#34;, Age = 10 }, new Student { Name = \u0026#34;å°äº®\u0026#34;, Age = 11 } }; //ç»Ÿè®¡ä¸åŒå¹´é¾„æœ‰å¤šå°‘äººï¼Œä¸¤ä¸ªç‰ˆæœ¬å®ç° //.NET 9 ä¹‹å‰ var group = students.GroupBy(x =\u0026gt; x.Age); foreach (var item in group) { Console.WriteLine($\u0026#34;å¹´é¾„ä¸ºï¼š{item.Key}ï¼Œæœ‰ï¼š{item.Count()} äººã€‚\u0026#34;); } //.NET 9 foreach (var student in students.CountBy(c =\u0026gt; c.Age)) { Console.WriteLine($\u0026#34;å¹´é¾„ä¸ºï¼š{student.Key}ï¼Œæœ‰ï¼š{student.Value} äººã€‚\u0026#34;); } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 public class Student { public string Name { get; set; } public string Grade { get; set; } public int Age { get; set; } } public void AggregateByExample() { var students = new List\u0026lt;Student\u0026gt; { new Student { Name = \u0026#34;å°æ˜\u0026#34;, Grade = \u0026#34;ä¸€ç­\u0026#34;, Age = 10 }, new Student { Name = \u0026#34;å°çº¢\u0026#34;, Grade = \u0026#34;äºŒç­\u0026#34;, Age = 12 }, new Student { Name = \u0026#34;å°å\u0026#34;, Grade = \u0026#34;ä¸€ç­\u0026#34;, Age = 10 }, new Student { Name = \u0026#34;å°äº®\u0026#34;, Grade = \u0026#34;äºŒç­\u0026#34;, Age = 11 } }; //ç»Ÿè®¡æ¯ä¸ªç­çº§å„è‡ªå­¦ç”Ÿæ€»å¹´é¾„ï¼Œä¸¤ä¸ªç‰ˆæœ¬å®ç° //.NET 9 ä¹‹å‰ var old = students .GroupBy(stu =\u0026gt; stu.Grade) .ToDictionary(group =\u0026gt; group.Key, group =\u0026gt; group.Sum(stu =\u0026gt; stu.Age)) .AsEnumerable(); foreach (var item in old) { Console.WriteLine($\u0026#34;ç­çº§ï¼š{item.Key}ï¼Œæ€»å¹´é¾„ï¼š{item.Value} ã€‚\u0026#34;); } //.NET 9 foreach (var group in students.AggregateBy(c =\u0026gt; c.Grade, 0, (acc, stu) =\u0026gt; acc + stu.Age)) { Console.WriteLine($\u0026#34;ç­çº§ï¼š{group.Key}ï¼Œæ€»å¹´é¾„ï¼š{group.Value} ã€‚\u0026#34;); } } ","date":"2024-11-25T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/net9_1/","title":".Net9æ–°ç‰¹æ€§"},{"content":"Git checkout ç­¾å‡ºæˆ–åˆ‡æ¢åˆ†æ”¯ æœ¬ç« èŠ‚æ˜¯å¯¹git checkout å‘½ä»¤çš„ä»‹ç»ã€‚åœ¨Gitçš„æœ¯è¯­ä¸­ï¼Œâ€œcheckoutâ€æ˜¯æŒ‡åœ¨ç›®æ ‡å®ä½“çš„ä¸åŒç‰ˆæœ¬ä¹‹é—´åˆ‡æ¢çš„è¡Œä¸ºã€‚git checkoutå‘½ä»¤æ“ä½œä¸‰ä¸ªä¸åŒçš„å®ä½“ï¼šæ–‡ä»¶ã€æäº¤å’Œåˆ†æ”¯ã€‚é™¤äº†â€œcheckoutâ€çš„å®šä¹‰ä¹‹å¤–ï¼ŒçŸ­è¯­â€œç­¾å‡ºâ€é€šå¸¸ç”¨äºæš—ç¤ºæ‰§è¡Œgit checkoutå‘½ä»¤çš„è¡Œä¸ºã€‚\nåœ¨git æ’¤æ¶ˆæ›´æ”¹å’Œæäº¤ä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨ git checkout æŸ¥çœ‹æ—§æäº¤ã€‚ æœ¬æ–‡æ¡£å¤§éƒ¨åˆ†å†…å®¹çš„é‡ç‚¹å°†æ˜¯åˆ†æ”¯çš„ â€œcheckoutâ€ æ“ä½œã€‚\næ£€å‡ºåˆ†æ”¯ç±»ä¼¼äºæ£€å‡ºæ—§çš„æäº¤å’Œæ–‡ä»¶ï¼Œå› ä¸ºå·¥ä½œç›®å½•ä¼šæ›´æ–°ä»¥åŒ¹é…é€‰å®šçš„åˆ†æ”¯ï¼› ä½†æ˜¯ï¼Œæ–°çš„æ›´æ”¹ä¼šä¿å­˜åœ¨é¡¹ç›®å†å²è®°å½•ä¸­â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸æ˜¯åªè¯»æ“ä½œã€‚\nç­¾å‡ºåˆ†æ”¯ git checkout å‘½ä»¤å…è®¸æˆ‘ä»¬åœ¨ git branch åˆ›å»ºçš„åˆ†æ”¯ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚ ç­¾å‡ºåˆ†æ”¯ä¼šæ›´æ–°å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ä»¥åŒ¹é…è¯¥åˆ†æ”¯ä¸­å­˜å‚¨çš„ç‰ˆæœ¬ï¼Œå¹¶å‘Šè¯‰ Git è®°å½•è¯¥åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æ–°æäº¤ã€‚ å°†å…¶è§†ä¸ºé€‰æ‹©ä½ æ­£åœ¨ä»äº‹çš„å¼€å‘å·¥ä½œçº¿çš„ä¸€ç§æ–¹å¼ã€‚\nä¸ºæ¯ä¸ªæ–°åŠŸèƒ½éƒ½æ–°å»ºä¸€ä¸ªä¸“é—¨çš„åˆ†æ”¯æ˜¯å¯¹ä¼ ç»Ÿ SVN å·¥ä½œæµç¨‹çš„å·¨å¤§è½¬å˜ã€‚ å®ƒä½¿å°è¯•æ–°å®éªŒå˜å¾—éå¸¸å®¹æ˜“ï¼Œè€Œä¸å¿…æ‹…å¿ƒç ´åç°æœ‰åŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥åŒæ—¶å¤„ç†è®¸å¤šä¸ç›¸å…³çš„åŠŸèƒ½ã€‚ æ­¤å¤–ï¼Œåˆ†æ”¯æœºæ„è¿˜ä¿ƒè¿›äº†å¤šä¸ªåä½œå·¥ä½œæµç¨‹ã€‚\ngit checkout å‘½ä»¤æœ‰æ—¶å¯èƒ½ä¼šä¸ git clone æ··æ·†ã€‚ è¿™ä¸¤ä¸ªå‘½ä»¤ä¹‹é—´çš„åŒºåˆ«åœ¨äº clone ç”¨äºä»è¿œç¨‹ä»“åº“è·å–ä»£ç ï¼Œæˆ–è€… checkout ç”¨äºåœ¨æœ¬åœ°ç³»ç»Ÿä¸Šå·²æœ‰çš„ä»£ç ç‰ˆæœ¬ä¹‹é—´åˆ‡æ¢ã€‚\ngit checkout ç”¨æ³• ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹ git checkout å¸¸è§çš„ä¸¤ç§ç”¨æ³•\nå·²ç»å­˜åœ¨çš„åˆ†æ”¯ å‡è®¾ä½ æ­£åœ¨ä½¿ç”¨çš„ä»“åº“å·²ç»åˆ›å»ºäº†å‡ ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ git checkout åœ¨è¿™äº›åˆ†æ”¯ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚ è¦æ‰¾å‡ºå“ªäº›åˆ†æ”¯å¯ç”¨ä»¥åŠå½“å‰åˆ†æ”¯åç§°æ˜¯ä»€ä¹ˆï¼Œè¯·æ‰§è¡Œ git branchã€‚\n1 $ git branch ç»¿è‰²çš„åˆ†æ”¯ master è¡¨ç¤ºçš„æ˜¯æˆ‘ä»¬å½“å‰æ‰€åœ¨çš„æ´»è·ƒåˆ†æ”¯ã€‚ä¸‹é¢æˆ‘ä»¬æ˜¯ç”¨ git checkout å‘½ä»¤åˆ‡æ¢åˆ° jiyik åˆ†æ”¯\n1 2 3 $ git checkout jiyik $ git branch æˆ‘ä»¬çœ‹åˆ°ï¼Œç°åœ¨ç»¿è‰²çš„åˆ†æ”¯ä¸º jiyikã€‚è¯´æ˜æˆ‘ä»¬å½“å‰åˆ‡æ¢åˆ°äº†jiyikåˆ†æ”¯ã€‚\næ–°åˆ†æ”¯ Git checkout ä¸ git branch ååŒå·¥ä½œã€‚ git branch å‘½ä»¤å¯ç”¨äºåˆ›å»ºæ–°åˆ†æ”¯ã€‚ å½“ä½ æƒ³å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ git branch new_branch åœ¨ master ä¹‹å¤–åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ã€‚ åˆ›å»ºåï¼Œå¯ä»¥ä½¿ç”¨ git checkout new_branch åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚ æ­¤å¤–ï¼Œ git checkout å‘½ä»¤åé¢å¯ä»¥è·Ÿä¸€ä¸ª -b å‚æ•°ï¼Œè¿™æ ·å°±ä¸ç”¨ä½¿ç”¨ git branchå‘½ä»¤æ–°å»ºåˆ†æ”¯äº†ã€‚å®ƒä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯å¹¶ç«‹å³åˆ‡æ¢åˆ°è¿™ä¸ªåˆ†æ”¯ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ git checkout åœ¨å•ä¸ªä»“åº“ä¸­åˆ‡æ¢å¤šä¸ªåŠŸèƒ½åˆ†æ”¯ä¹‹é—´è¿›è¡Œåˆ‡æ¢æ¥å¤„ç†è¿™äº›åŠŸèƒ½ã€‚\n1 git checkout -b \u0026lt;new-branch\u0026gt; ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢ç»™å‡ºçš„å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹å½“å‰æœ‰å“ªäº›åˆ†æ”¯\n1 $ git branch æ¥ä¸‹æ¥ä½¿ç”¨git checkout åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢åˆ°å®ƒ\n1 2 $ git checkout -b new_branch $ git branch é»˜è®¤æƒ…å†µä¸‹ git checkout -b å°†åŸºäºå½“å‰ HEAD æŒ‡å‘çš„åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ã€‚ ä¸€ä¸ªå¯é€‰çš„é™„åŠ åˆ†æ”¯å‚æ•°å¯ä»¥ä¼ é€’ç»™ git checkoutã€‚\n1 git checkout -b \u0026lt;new-branch\u0026gt; \u0026lt;existing-branch\u0026gt; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œgit checkout å‘½ä»¤åé¢è·Ÿç€ å‚æ•°ï¼Œç„¶åæ–°åˆ†æ”¯åŸºäºè¯¥æŒ‡å®šçš„åˆ†æ”¯è€Œä¸æ˜¯å½“å‰ HEADã€‚\ngit checkout ç­¾å‡ºè¿œç¨‹åˆ†æ”¯ ä¸å›¢é˜Ÿåˆä½œæ—¶ï¼Œé€šå¸¸ä½¿ç”¨è¿œç¨‹ä»“åº“ã€‚ è¿™äº›ä»“åº“å¯èƒ½æ˜¯æ‰˜ç®¡å’Œå…±äº«çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–åŒäº‹çš„æœ¬åœ°å‰¯æœ¬ã€‚ æ¯ä¸ªè¿œç¨‹ä»“åº“éƒ½å°†åŒ…å«è‡ªå·±çš„ä¸€ç»„åˆ†æ”¯ã€‚ ä¸ºäº†ç­¾å‡ºè¿œç¨‹åˆ†æ”¯ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆè·å–åˆ†æ”¯çš„å†…å®¹ã€‚\n1 $ git fetch --all ç„¶åæˆ‘ä»¬çœ‹ä¸€ä¸‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å·®å¼‚\n1 2 $ git branch $ git branch -r åœ¨ç°ä»£ç‰ˆæœ¬çš„ Git ä¸­ï¼Œæ‚¨å¯ä»¥åƒç­¾å‡ºæœ¬åœ°åˆ†æ”¯ä¸€æ ·ç­¾å‡ºè¿œç¨‹åˆ†æ”¯ã€‚\n1 $ git checkout jiyik_branch å¦‚æœä½ çš„Gitç‰ˆæœ¬æ¯”è¾ƒæ—§ï¼Œåˆ™éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤\n1 $ git checkout -b jiyik_branch origin/jiyik_branch æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ç­¾å‡ºä¸€ä¸ªæ–°çš„æœ¬åœ°åˆ†æ”¯å¹¶å°†å…¶é‡ç½®ä¸ºä¸Šæ¬¡æäº¤çš„è¿œç¨‹åˆ†æ”¯ã€‚è¿™é‡Œéœ€è¦ç”¨åˆ° git reset å‘½ä»¤\n1 2 3 $ git checkout -b new_branch $ git reset --hard origin/new_branch HEAD is now at f88bed1 å¢åŠ è¿¹å¿†å®¢æ•™ç¨‹åœ°å€ åˆ†ç¦» HEAD çŠ¶æ€ ç°åœ¨æˆ‘ä»¬å·²ç»çœ‹åˆ°äº† git checkout åœ¨åˆ†æ”¯ä¸Šçš„ä¸‰ä¸ªä¸»è¦ç”¨é€”ï¼Œè®¨è®ºâ€œåˆ†ç¦»çš„ HEADâ€çŠ¶æ€å¾ˆé‡è¦ã€‚\nè®°ä½ - HEAD æ˜¯ Git å¼•ç”¨å½“å‰å¿«ç…§çš„æ–¹å¼ã€‚\nåœ¨å†…éƒ¨ï¼Œ git checkout å‘½ä»¤åªæ˜¯æ›´æ–° HEAD ä»¥æŒ‡å‘æŒ‡å®šçš„åˆ†æ”¯æˆ–æäº¤ã€‚ å½“å®ƒæŒ‡å‘ä¸€ä¸ªåˆ†æ”¯æ—¶ï¼ŒGit ä¸ä¼šæœ‰ä»€ä¹ˆå˜åŒ–ï¼Œä½†æ˜¯å½“ä½ æ£€å‡ºä¸€ä¸ªæäº¤æ—¶ï¼Œå®ƒä¼šåˆ‡æ¢åˆ°â€œåˆ†ç¦»çš„ HEADâ€çŠ¶æ€ã€‚\nè¿™æ˜¯ä¸€ä¸ªè­¦å‘Šï¼Œå‘Šè¯‰æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡éƒ½ä¸é¡¹ç›®å¼€å‘çš„å…¶ä½™éƒ¨åˆ†â€œåˆ†ç¦»â€ã€‚ å¦‚æœä½ åœ¨å¤„äºâ€œåˆ†ç¦»çš„ HEAD çŠ¶æ€â€æ—¶å¼€å§‹å¼€å‘åŠŸèƒ½ï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•åˆ†æ”¯å…è®¸ä½ è¿”å›åˆ°å®ƒã€‚ å½“ä¸å¯é¿å…åœ°æ£€æŸ¥å¦ä¸€ä¸ªåˆ†æ”¯ï¼ˆä¾‹å¦‚ï¼Œå°†æˆ‘ä»¬çš„åŠŸèƒ½åˆå¹¶åˆ°å…¶ä¸­ï¼‰æ—¶ï¼Œå°†æ— æ³•å¼•ç”¨æˆ‘ä»¬çš„åŠŸèƒ½ï¼š\ngit checkoutåˆ†ç¦»çš„HEADçŠ¶æ€\nå…³é”®æ˜¯ï¼Œä½ çš„å¼€å‘åº”è¯¥æ€»æ˜¯åœ¨ä¸€ä¸ªåˆ†æ”¯ä¸Šè¿›è¡Œâ€”â€”è€Œä¸æ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ HEAD ä¸Šã€‚ è¿™ç¡®ä¿æ‚¨å§‹ç»ˆå¯ä»¥å¼•ç”¨æ–°æäº¤ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨åªæ˜¯æŸ¥çœ‹æ—§æäº¤ï¼Œé‚£ä¹ˆæ‚¨æ˜¯å¦å¤„äºåˆ†ç¦»çš„ HEAD çŠ¶æ€å¹¶ä¸é‡è¦ã€‚\ngit checkout æ€»ç»“ æœ¬ç« èŠ‚ä¸»è¦ä»‹ç»æ›´æ”¹åˆ†æ”¯æ—¶ git checkout å‘½ä»¤çš„ä½¿ç”¨ã€‚ æ€»ä¹‹ï¼Œgit checkout åœ¨åˆ†æ”¯ä¸Šä½¿ç”¨æ—¶ä¼šæ”¹å˜ HEAD å¼•ç”¨çš„ç›®æ ‡ã€‚ å®ƒå¯ç”¨äºåˆ›å»ºåˆ†æ”¯ã€åˆ‡æ¢åˆ†æ”¯å’Œæ£€å‡ºè¿œç¨‹åˆ†æ”¯ã€‚ git checkout å‘½ä»¤æ˜¯æ ‡å‡† Git æ“ä½œçš„å¿…å¤‡å·¥å…·ã€‚ å®ƒå’Œ git merge æ˜¯å¯¹åº”çš„ã€‚ git checkout å’Œ git merge å‘½ä»¤æ˜¯å¯ç”¨ git å·¥ä½œæµçš„å…³é”®å·¥å…·ã€‚\n","date":"2024-11-21T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/git_checkout/","title":"Git checkout ç­¾å‡ºæˆ–åˆ‡æ¢åˆ†æ”¯"},{"content":"å‰è¨€ï¼š ä¿—è¯è¯´çš„å¥½å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨ï¼ŒGitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ã€‚ç›®å‰å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„Gitå¯è§†åŒ–ç®¡ç†å·¥å…·æœ‰SourceTreeã€Github Desktopã€TortoiseGitï¼Œç»¼åˆç½‘ä¸Šçš„ä¸€äº›æ–‡ç« åˆ†æå’Œè‡ªå·±çš„æ—¥å¸¸å¼€å‘å®è·µå¿ƒå¾—ä¸ªäººæ¯”è¾ƒæ¨èå¼€å‘è€…ä½¿ç”¨SourceTreeï¼Œå› ä¸ºSourceTreeåŒæ—¶æ”¯æŒWindowså’ŒMacï¼Œå¹¶ä¸”ç•Œé¢ååˆ†çš„ç²¾ç¾ç®€æ´ï¼Œå¤§å¤§çš„ç®€åŒ–äº†å¼€å‘è€…ä¸ä»£ç åº“ä¹‹é—´çš„Gitæ“ä½œæ–¹å¼ã€‚è¯¥ç¯‡æ–‡ç« ä¸»è¦æ˜¯å¯¹æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨SourceTreeå¯è§†åŒ–ç®¡ç†å·¥å…·çš„ä¸€äº›å¸¸ç”¨æ“ä½œè¿›è¡Œè¯¦ç»†è®²è§£ã€‚\nSourceTree | Github Desktop | TortoiseGit å¯è§†åŒ–ç®¡ç†å·¥å…·å¯¹æ¯”ï¼š https://blog.csdn.net/hmllittlekoi/article/details/104504406/\nSourceTreeä»‹ç»å’ŒAtlassianè´¦å·æ³¨å†Œå’Œç™»å½•æ•™ç¨‹ï¼š https://www.cnblogs.com/Can-daydayup/p/13128511.html\nè¿æ¥Gitee or GitHubï¼Œè·å–ä»£ç : æ³¨æ„ï¼šè¿™é‡Œä»‹ç»çš„æ˜¯ä½¿ç”¨SSHåè®®è·å–å…³è”è¿œç¨‹ä»“åº“çš„ä»£ç ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨è¿‡HTTPSåè®®çš„æ–¹å¼ç›´æ¥è¾“å…¥è´¦å·å¯†ç è·å–å…³è”ä»£ç ï¼\nå…¨é¢æ¦‚è¿°Giteeå’ŒGitHubç”Ÿæˆ/æ·»åŠ SSHå…¬é’¥ï¼š https://www.cnblogs.com/Can-daydayup/p/13063280.html\nåœ¨SourceTreeä¸­æ·»åŠ SSHå¯†é’¥ï¼š å·¥å…·=\u0026gt;é€‰æ‹©ï¼š\næ·»åŠ SSHå¯†é’¥ä½ç½®ï¼šC:\\Users\\xxxxx.ssh\\id_rsa.pubï¼š\nSSHå®¢æˆ·ç«¯é€‰æ‹©OpenSSHï¼š\nCloneå¯¹åº”æ‰˜ç®¡å¹³å°ä»“åº“ï¼ˆä»¥Giteeä¸ºä¾‹ï¼‰ï¼š æ‰“å¼€ç äº‘ï¼Œæ‰¾åˆ°è‡ªå·±éœ€è¦Cloneçš„ä»“åº“ï¼\nSourceTreeè®¾ç½®é»˜è®¤å·¥ä½œç›®å½•ï¼š ç”±ä¸Šé¢æˆ‘ä»¬å¯ä»¥å‘ç°æ¯æ¬¡Cloneå…‹éš†é¡¹ç›®çš„æ—¶å€™ï¼Œå…‹éš†ä¸‹æ¥çš„é¡¹ç›®é»˜è®¤å­˜å‚¨ä½ç½®éƒ½æ˜¯åœ¨Cç›˜ï¼Œå› æ­¤æ¯æ¬¡éƒ½éœ€è¦æˆ‘ä»¬å»é€‰æ‹©é¡¹ç›®å­˜æ”¾çš„è·¯å¾„ï¼Œä½œä¸ºä¸€ä¸ªå–œæ¬¢å·æ‡’çš„äººè€Œè¨€å½“ç„¶ä¸å–œæ¬¢è¿™ç§æ–¹å¼å•¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„é¡¹ç›®å­˜å‚¨ä½ç½®ã€‚\nè®¾ç½®SourceTreeé»˜è®¤é¡¹ç›®ç›®å½•ï¼š ç‚¹å‡»å·¥å…·=\u0026gt;é€‰é¡¹=\u0026gt;ä¸€èˆ¬=\u0026gt;æ‰¾åˆ°é¡¹ç›®ç›®å½•è®¾ç½®Cloneé¡¹ç›®é»˜è®¤å­˜å‚¨çš„ä½ç½®ï¼š\nSourceTreeä»£ç æäº¤ï¼š é¦–å…ˆåˆ‡æ¢åˆ°éœ€è¦ä¿®æ”¹åŠŸèƒ½ä»£ç æ‰€åœ¨çš„åˆ†æ”¯ï¼š å°†ä¿®æ”¹çš„ä»£ç æäº¤åˆ°æš‚å­˜åŒºï¼š å°†æš‚å­˜åŒºä¸­çš„ä»£ç æäº¤åˆ°æœ¬åœ°ä»£ç ä»“åº“ï¼š æ³¨æ„ï¼šå¤šäººåŒæ—¶å¼€å‘é¡¹ç›®çš„æ—¶å€™ï¼Œä¸æ¨èé»˜è®¤é€‰ä¸­ç«‹å³æ¨é€å˜æ›´åˆ°origin/developï¼Œé¿å…ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ï¼\nä»£ç æ‹‰å–æ›´æ–°æœ¬åœ°ä»£ç åº“ï¼Œå¹¶å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š å‹¾é€‰éœ€è¦æ¨é€çš„åˆ†æ”¯ï¼Œç‚¹å‡»æ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼š\nä»£ç æˆåŠŸæ¨é€åˆ°è¿œç¨‹ä»£ç åº“ï¼š\nåœ¨Giteeä¸­æŸ¥çœ‹æ¨é€ç»“æœï¼š SourceTreeåˆ†æ”¯åˆ‡æ¢ï¼Œæ–°å»ºï¼Œåˆå¹¶ï¼š åˆ†æ”¯åˆ‡æ¢ï¼š åŒå‡»åˆ‡æ¢ï¼š\nå•å‡»é¼ æ ‡å³é”®åˆ‡æ¢ï¼š\næ–°å»ºåˆ†æ”¯ï¼š æ³¨æ„ï¼šåœ¨æ–°å»ºåˆ†æ”¯æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å“ªä¸ªä¸»åˆ†æ”¯çš„åŸºç¡€ä¸Šæ–°å»ºåˆ†æ”¯å¿…é¡»å…ˆè¦åˆ‡æ¢åˆ°å¯¹åº”çš„ä¸»åˆ†æ”¯æ‰èƒ½åˆ°è¯¥ä¸»åˆ†æ”¯ä¸Šåˆ›å»ºåˆ†æ”¯ï¼Œå¦‚ä¸‹æˆ‘ä»¬è¦åœ¨masteråˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ªfeature-0613åˆ†æ”¯ï¼š\nåˆå¹¶åˆ†æ”¯: *æ³¨æ„ï¼šåœ¨åˆå¹¶ä»£ç ä¹‹å‰æˆ‘ä»¬éƒ½éœ€è¦å°†éœ€è¦åˆå¹¶çš„åˆ†æ”¯æ‹‰å–åˆ°æœ€æ–°çŠ¶æ€ï¼ˆ*é¿å…è¦†ç›–åˆ«äººçš„ä»£ç ï¼Œæˆ–è€…ä¸¢å¤±ä¸€äº›é‡è¦æ–‡ä»¶ï¼‰!!!\nåœ¨masteråˆ†æ”¯ä¸Šç‚¹å‡»å³é”®ï¼Œé€‰æ‹©åˆå¹¶feature-0613è‡³å½“å‰åˆ†æ”¯å³å¯è¿›è¡Œåˆå¹¶:\nåˆ†æ”¯åˆå¹¶æˆåŠŸï¼š\nSourceTreeä»£ç å†²çªè§£å†³ï¼š é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ¶é€ ä¸€ä¸ªæäº¤æ–‡ä»¶é‡åˆ°å†²çªçš„æƒ…æ™¯ï¼š åœ¨SoureceTreeä¸­åœ¨Cloneä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå‘½åä¸ºpingrixuexilianxi2ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næˆ‘ä»¬ä»¥é¡¹ç›®ä¸­çš„ã€ä»£ç åˆå¹¶å†²çªæµ‹è¯•.txtã€‘æ–‡ä»¶ä¸ºä¾‹ï¼š\nåœ¨pingrixuexilianxi2ä¸­æ·»åŠ å†…å®¹ï¼Œå¹¶æäº¤åˆ°è¿œç¨‹ä»£ç åº“ï¼Œæ·»åŠ çš„å†…å®¹å¦‚ä¸‹ï¼š\nåœ¨pingrixuexilianxiä¸­æ·»åŠ å†…å®¹ï¼Œæäº¤ä»£ç ï¼ˆä¸é€‰æ‹©ç«‹å³æ¨é€å˜æ›´åˆ°origin/masterï¼‰ï¼Œæ‹‰å–ä»£ç å³ä¼šé‡åˆ°å†²çªï¼š\nå†²çªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼š\nç›´æ¥æ‰“å¼€å†²çªæ–‡ä»¶æ‰‹åŠ¨è§£å†³å†²çªï¼š ç”±ä¸‹é¢çš„å†²çªæ–‡ä»¶ä¸­çš„å†²çªå†…å®¹æˆ‘ä»¬äº†è§£åˆ°ï¼š\n1 2 `\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; HEAD``6æœˆ19æ—¥ pingrixuexilianxiæ·»åŠ äº†å†…å®¹``=======``6æœˆ18æ—¥ pingrixuexilianxi2ä¿®æ”¹äº†è¿™ä¸ªæ–‡ä»¶å“¦``\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; a8284fd41903c54212d1105a6feb6c57292e07b5` `\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt; HEADåˆ° =======é‡Œé¢çš„ã€6æœˆ19æ—¥ pingrixuexilianxiæ·»åŠ äº†å†…å®¹ã€‘æ˜¯è‡ªå·±åˆšæ‰çš„Commitæäº¤çš„å†…å®¹``=======åˆ° \u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt;\u0026gt; a8284fd41903c54212d1105a6feb6c57292e07b5é‡Œé¢çš„ã€6æœˆ18æ—¥ pingrixuexilianxi2ä¿®æ”¹äº†è¿™ä¸ªæ–‡ä»¶å“¦ã€‘æ˜¯è¿œç¨‹ä»£ç åº“æ›´æ–°çš„å†…å®¹ï¼ˆå³ä¸ºpingrixuexilianxi2æœ¬åœ°ä»£ç åº“æ¨é€ä¿®æ”¹å†…å®¹ï¼‰ã€‚` æ‰‹åŠ¨å†²çªè§£å†³æ–¹æ³•ï¼š\næ ¹æ®é¡¹ç›®éœ€æ±‚åˆ é™¤ä¸éœ€è¦çš„ä»£ç å°±è¡Œäº†ï¼Œå‡å¦‚éƒ½éœ€è¦çš„è¯æˆ‘ä»¬åªéœ€è¦æŠŠ \u0026laquo;\u0026laquo;\u0026laquo;\u0026lt; HEAD======= \u0026raquo;\u0026raquo;\u0026raquo;\u0026gt; a8284fd41903c54212d1105a6feb6c57292e07b5éƒ½åˆ æ‰å†²çªå°±è§£å†³äº†ï¼ˆæ³¨æ„ï¼Œåœ¨é¡¹ç›®ä¸­æœ€åè¿™äº›ç¬¦å·éƒ½ä¸èƒ½å­˜åœ¨ï¼Œå¦åˆ™å¯èƒ½ä¼šæŠ¥å¼‚å¸¸ï¼‰ã€‚\næœ€åå°†å†²çªæ–‡ä»¶æ ‡è®°ä¸ºå·²è§£å†³ï¼Œæäº¤åˆ°è¿œç¨‹ä»“åº“ï¼š\né‡‡ç”¨å¤–éƒ¨æ–‡æœ¬æ–‡ä»¶å¯¹æ¯”å·¥å…·Beyond Compareè§£å†³å†²çª: SourceTreeé…ç½®æ–‡æœ¬æ–‡ä»¶å¯¹æ¯”å·¥å…·Beyond Compare: å·¥å…·=\u0026gt;é€‰é¡¹=\u0026gt;æ¯”è¾ƒï¼š\nä½¿ç”¨Beyond Compareè§£å†³å†²çªï¼š Beyond Compareä½¿ç”¨æŠ€å·§ï¼š\nå®˜æ–¹å…¨é¢æ•™ç¨‹ï¼šhttps://www.beyondcompare.cc/jiqiao/\nSourceTreeæ‰“å¼€å¤–éƒ¨å’Œåˆå¹¶å·¥å…·ï¼š\næ³¨æ„ï¼šç¬¬ä¸€æ¬¡å¯åŠ¨Beynod Compareè½¯ä»¶éœ€è¦ä¸€ä¼šæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ï¼š\n******\nBeynod Compareè¿›è¡Œå†²çªåˆå¹¶ï¼š\nç‚¹å‡»ä¿å­˜æ–‡ä»¶åå…³é—­Beynod Compareå·¥å…·ï¼ŒSourceTreeä¸­çš„å†²çªå°±è§£å†³äº†ï¼Œåœ¨SourceTreeä¸­æˆ‘ä»¬ä¼šå‘ç°å¤šäº†ä¸€ä¸ª .orig çš„æ–‡ä»¶ã€‚æ¥ç€é€‰ä¸­é‚£ä¸ª.origæ–‡ä»¶ï¼Œå•å‡»å³é”® =\u0026gt; ç§»é™¤ï¼Œæœ€åæˆ‘ä»¬æ¨é€åˆ°è¿œç¨‹ä»£ç åº“å³å¯ï¼š\nSourcetreeä¸­çš„åŸºæœ¬åè¯è¯´æ˜ï¼š å…‹éš†/æ–°å»º(clone)ï¼šä»è¿œç¨‹ä»“åº“URLåŠ è½½åˆ›å»ºä¸€ä¸ªä¸è¿œç¨‹ä»“åº“ä¸€æ ·çš„æœ¬åœ°ä»“åº“ã€‚\næäº¤(commit)ï¼šå°†æš‚å­˜åŒºæ–‡ä»¶ä¸Šä¼ åˆ°æœ¬åœ°ä»£ç ä»“åº“ã€‚\næ¨é€(push)ï¼šå°†æœ¬åœ°ä»“åº“åŒæ­¥è‡³è¿œç¨‹ä»“åº“ï¼Œä¸€èˆ¬æ¨é€ï¼ˆpushï¼‰å‰å…ˆæ‹‰å–ï¼ˆpullï¼‰ä¸€æ¬¡ï¼Œç¡®ä¿ä¸€è‡´ï¼ˆååˆ†æ³¨æ„ï¼šè¿™æ ·ä½ æ‰èƒ½è¾¾åˆ°å’Œåˆ«äººæœ€æ–°ä»£ç åŒæ­¥çš„çŠ¶æ€ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿè§„é¿å¾ˆå¤šä¸å¿…è¦çš„é—®é¢˜ï¼‰ã€‚\næ‹‰å–(pull)ï¼šä»è¿œç¨‹ä»“åº“è·å–ä¿¡æ¯å¹¶åŒæ­¥è‡³æœ¬åœ°ä»“åº“ï¼Œå¹¶ä¸”è‡ªåŠ¨æ‰§è¡Œåˆå¹¶ï¼ˆmergeï¼‰æ“ä½œï¼ˆgit pull=git fetch+git mergeï¼‰ã€‚\nè·å–(fetch)ï¼šä»è¿œç¨‹ä»“åº“è·å–ä¿¡æ¯å¹¶åŒæ­¥è‡³æœ¬åœ°ä»“åº“ã€‚\nåˆ†æ”¯(branch)ï¼šåˆ›å»º/ä¿®æ”¹/åˆ é™¤åˆ†æã€‚\nåˆå¹¶(merge)ï¼šå°†å¤šä¸ªåŒåæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŒ…å«å¤šä¸ªåŒåæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹ï¼Œç›¸åŒå†…å®¹æŠµæ¶ˆã€‚\nè´®è—(git stash)ï¼šä¿å­˜å·¥ä½œç°åœºã€‚\nä¸¢å¼ƒ(Discard)ï¼šä¸¢å¼ƒæ›´æ”¹,æ¢å¤æ–‡ä»¶æ”¹åŠ¨/é‡ç½®æ‰€æœ‰æ”¹åŠ¨,å³å°†å·²æš‚å­˜çš„æ–‡ä»¶ä¸¢å›æœªæš‚å­˜çš„æ–‡ä»¶ã€‚\næ ‡ç­¾(tag)ï¼šç»™é¡¹ç›®å¢æ·»æ ‡ç­¾ã€‚\nå·¥ä½œæµ(Git Flow)ï¼šå›¢é˜Ÿå·¥ä½œæ—¶ï¼Œæ¯ä¸ªäººåˆ›å»ºå±äºè‡ªå·±çš„åˆ†æï¼ˆbranchï¼‰ï¿½ï¿½ç¡®å®šæ— è¯¯åæäº¤åˆ°masteråˆ†æ”¯ã€‚\nç»ˆç«¯(terminal)ï¼šå¯ä»¥è¾“å…¥gitå‘½ä»¤è¡Œã€‚\næ¯æ¬¡æ‹‰å–å’Œæ¨é€çš„æ—¶å€™ä¸ç”¨æ¯æ¬¡è¾“å…¥å¯†ç çš„å‘½ä»¤è¡Œï¼šgit config credential.helper osxkeychain sourcetreeã€‚\næ£€å‡º(checkout)ï¼šåˆ‡æ¢ä¸åŒåˆ†æ”¯ã€‚\næ·»åŠ ï¼ˆaddï¼‰ï¼šæ·»åŠ æ–‡ä»¶åˆ°ç¼“å­˜åŒºã€‚\nç§»é™¤ï¼ˆremoveï¼‰ï¼šç§»é™¤æ–‡ä»¶è‡³ç¼“å­˜åŒºã€‚\né‡ç½®(reset)ï¼šå›åˆ°æœ€è¿‘æ·»åŠ (add)/æäº¤(commit)çŠ¶æ€ã€‚\nGitåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å™¨å¸¸ç”¨å‘½ä»¤å’Œä½¿ç”¨ï¼š å½“ç„¶ä½œä¸ºä¸€ä¸ªæœ‰é€¼æ ¼çš„ç¨‹åºå‘˜ï¼Œ ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤æˆ‘ä»¬è¿˜æ˜¯éœ€è¦äº†è§£å’ŒæŒæ¡çš„ï¼Œè¯¦æƒ…å¯å‚è€ƒæˆ‘ä¹‹å‰å†™è¿‡çš„æ–‡ç« ï¼š\nhttps://www.cnblogs.com/Can-daydayup/p/10134733.html\nSourceTreeå¦‚ä½•æäº¤PR(Pull Request)ï¼š Pull Requestæäº¤ç›¸å…³æ“ä½œå‚è€ƒè¯¥ç¯‡æ–‡ç« ï¼š\nhttps://www.jianshu.com/p/b365c743ec8d\nfork é¡¹ç›®ï¼š å…‹éš†æœ¬åœ° æ‰“å¼€Git Bashè¾“å…¥ä»“åº“å…‹éš†å‘½ä»¤ï¼š\n1 git clone https://github.com/liangtongzhuo/taro-ui.git æ ¹æ®æ–‡æ¡£åˆ›å»ºåˆ†æ”¯ æ‹–è¿› SourceTreeï¼ŒåŸºäº dev åˆ›å»ºåˆ†æ”¯å¦‚ä¸‹å›¾ï¼š\næäº¤ä¿®æ”¹çš„ä»£ç åˆ°è¿œç¨‹ä»£ç åº“ æ–‡ç« ä¸Šé¢å·²ç»æåˆ°äº†ä½¿ç”¨SourceTreeæäº¤çš„ç›¸å…³æ“ä½œï¼Œå¯å‚è€ƒï¼š\nhttps://www.cnblogs.com/Can-daydayup/p/13128633.html#_label5ï¼ˆæˆ–è€…Ctrl Fï¼šSourceTreeä»£ç æäº¤ï¼‰\nå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨gitå‘½ä»¤æäº¤ï¼š\n1 `git add . --æäº¤æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶åˆ°æœ¬åœ°æš‚å­˜åŒº``git commit -m\u0026#34;fix(dos):ä¿®æ­£æ–‡å­— \u0026#34; --æäº¤åˆ°æœ¬åœ°ä»£ç åº“``git push --æäº¤åˆ°githubä¸­çš„è¿œç¨‹ä»£ç åº“` æäº¤ Pull Request ç¬¬å››æ­¥æäº¤æˆåŠŸåï¼Œè¿›å…¥åŸæ¥forkçš„ä»“åº“ï¼Œç‚¹å‡» Compare\næäº¤ä½ çš„è¯´æ˜ï¼Œé€‰æ‹©åˆå¹¶çš„åˆ†æ”¯å³å¯ï¼Œå‰©ä¸‹ç­‰å¾…åˆå¹¶ã€‚\n","date":"2024-11-15T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/gitskill/","title":"SourceTreeä½¿ç”¨æ•™ç¨‹"},{"content":"C#12 ä¸­çš„é›†åˆè¡¨è¾¾å¼ ç»å…¸é›†åˆåˆå§‹åŒ–å™¨ è‡ª C# 3.0 èµ·ï¼Œæˆ‘ä»¬å°±æœ‰äº† â€œé›†åˆåˆå§‹åŒ–å™¨â€ ã€‚å®ƒä»¬é‡‡ç”¨ {} æ¨¡å¼æ¥åˆå§‹åŒ–ä»»ä½•å®ç°äº† Add() æ–¹æ³•çš„ IEnumerable å®ç°ã€‚ä¾‹å¦‚ï¼Œè¿™ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ List\u0026lt;string\u0026gt; å¹¶ç”¨ 5 ä¸ªå€¼åˆå§‹åŒ–å®ƒï¼š\n1 var values = new List\u0026lt;string\u0026gt; { \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34;, \u0026#34;5\u0026#34; }; å¹•åï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç çœ‹èµ·æ¥åƒè¿™æ ·ï¼š\n1 2 3 4 5 6 List\u0026lt;string\u0026gt; values = new List\u0026lt;string\u0026gt;(); values.Add(\u0026#34;1\u0026#34;); values.Add(\u0026#34;2\u0026#34;); values.Add(\u0026#34;3\u0026#34;); values.Add(\u0026#34;4\u0026#34;); values.Add(\u0026#34;5\u0026#34;); C# ä¸­çš„æ•°ç»„åˆå§‹åŒ–æœ‰å…¶ç‰¹åˆ«ä¹‹å¤„ï¼Œä½ å¯ä»¥ç”¨æ¯”å…¶ä»–é›†åˆæ›´å¤šçš„æ–¹æ³•æ¥åˆå§‹åŒ–å®ƒä»¬ï¼Œå°½ç®¡çœ‹èµ·æ¥ä¸æ ‡å‡†é›†åˆåˆå§‹åŒ–å™¨ç›¸ä¼¼ï¼š\n1 2 3 var values1 = new[] { \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34; }; var values2 = new string[4] { \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34; }; string[] values3 = { \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34; }; è¿™äº›å·¥ä½œæ–¹å¼ä¸é›†åˆåˆå§‹åŒ–å™¨ä¸åŒï¼›è¿™é‡Œæ²¡æœ‰è°ƒç”¨ Add() æ–¹æ³•ã€‚ç›¸åï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„æ˜¯å¦‚æœä½ æ‰‹åŠ¨åšè¿™ä¸€åˆ‡æ—¶åŒæ ·çš„åˆå§‹åŒ–ä»£ç ï¼š\n1 2 3 4 5 string[] array = new string[4]; array[0] = \u0026#34;1\u0026#34;; array[1] = \u0026#34;2\u0026#34;; array[2] = \u0026#34;3\u0026#34;; array[3] = \u0026#34;4\u0026#34;; æˆ‘ä»¬å·²ç»è®¨è®ºäº†é€šç”¨é›†åˆï¼ˆå¦‚ List ï¼‰å’Œæ•°ç»„çš„é›†åˆåˆå§‹åŒ–å™¨ï¼Œè¿˜æœ‰åœ¨ Span ä¸–ç•Œä¸­å˜å¾—æ›´ä¸ºæœ‰ç”¨çš„ stackalloc è¡¨è¾¾å¼ï¼Œå› ä¸ºä¸éœ€è¦ä½¿ç”¨ unsafe ä»£ç ï¼š\n1 Span\u0026lt;int\u0026gt; array = stackalloc []{ 1, 2, 3, 4 }; å¹•åï¼Œç¼–è¯‘å™¨å°†è¿™ä¸ª stackalloc åˆå§‹åŒ–å™¨è½¬åŒ–ä¸ºä¸€äº›ç±»ä¼¼è¿™æ ·çš„ unsafe ä»£ç ï¼š\n1 2 3 4 5 6 7 8 unsafe { byte* num = stackalloc byte[16]; *(int*)num = 1; *(int*)(num + 4) = 2; *(int*)(num + (nint)2 * (nint)4) = 3; *(int*)(num + (nint)3 * (nint)4) = 4; Span\u0026lt;int\u0026gt; array = new Span\u0026lt;int\u0026gt;(num, 4); } è¿™æ®µä»£ç åœ¨æ ˆä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åé€šè¿‡æŒ‡é’ˆè¿ç®—éå†æ¯ä¸ªå…ƒç´ ï¼Œè®¾ç½®æ¯ä¸ªå€¼ã€‚\nä½¿ç”¨é›†åˆè¡¨è¾¾å¼ç»Ÿä¸€è¯­æ³• æˆ‘ä»¬å·²ç»çœ‹åˆ°è‡³å°‘æœ‰ä¸‰ç§ä¸åŒçš„åœºæ™¯ä¸‹æˆ‘ä»¬åœ¨åˆå§‹åŒ–é›†åˆï¼š\næ•°ç»„ ç±»ä¼¼ List çš„é›†åˆ ä½¿ç”¨ stackalloc çš„ ReadOnlySpan æ¯ç§æƒ…å†µéƒ½éœ€è¦ç¨å¾®ä¸åŒçš„è¯­æ³•ï¼Œä¾‹å¦‚ï¼š\n1 2 3 4 int[] array = new[] { 1, 2, 3, 4 }; List\u0026lt;int\u0026gt; list = new() { 1, 2, 3, 4 }; HashSet\u0026lt;int\u0026gt; hashset = new() { 1, 2, 3, 4 }; ReadOnlySpan\u0026lt;int\u0026gt; span = stackalloc [] { 1, 2, 3, 4 }; è¿™æœ‰ç‚¹æ··ä¹±å’Œçƒ¦äººã€‚C#12 ä¸­å¼•å…¥çš„é›†åˆè¡¨è¾¾å¼æä¾›äº†ä¸€ç§ç®€åŒ–ã€ç»Ÿä¸€çš„è¯­æ³•ï¼Œé€‚ç”¨äºæ‰€æœ‰è¿™äº›ä¸åŒçš„é›†åˆç±»å‹ã€‚ä¾‹å¦‚ï¼š\n1 2 3 4 int[] array = [1, 2, 3, 4] List\u0026lt;int\u0026gt; list = [1, 2, 3, 4]; HashSet\u0026lt;int\u0026gt; hashset = [1, 2, 3, 4]; ReadOnlySpan\u0026lt;int\u0026gt; span = [1, 2, 3, 4]; é›†åˆè¡¨è¾¾å¼åœ¨æ‰€æœ‰é›†åˆç±»å‹ä¸Šçš„ä¸€è‡´æ€§æ˜¯ä¸€ä¸ªçœŸæ­£çš„ä¼˜åŠ¿ï¼Œä½†è¿™å¹¶ä¸æ˜¯å”¯ä¸€çš„ä¼˜ç‚¹ã€‚é›†åˆè¡¨è¾¾å¼ç›¸æ¯”é›†åˆåˆå§‹åŒ–å™¨å¯ä»¥æä¾›æ€§èƒ½ä¼˜åŠ¿ï¼ˆæˆ‘ä»¬å°†åœ¨åç»­æ–‡ç« ä¸­æ¢è®¨ï¼‰ï¼Œä»¥åŠé¢å¤–çš„åŠŸèƒ½ã€‚\næ¨æ–­æ¥å£ç±»å‹ æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªé›†åˆï¼Œä½†ä½ åªå…³å¿ƒå®ƒå®ç°äº† IEnumerable ã€‚ä½ éœ€è¦è‡ªå·±å†³å®šä½¿ç”¨å“ªä¸ªåç«¯ç±»å‹ï¼š\n1 2 3 IEnumerable\u0026lt;int\u0026gt; list1 = new List\u0026lt;int\u0026gt; { 1, 2, 3, 4 }; IEnumerable\u0026lt;int\u0026gt; list2 = new HashSet\u0026lt;int\u0026gt; { 1, 2, 3, 4 }; IEnumerable\u0026lt;int\u0026gt; list3 = new int[] { 1, 2, 3, 4 }; é‚£ä¹ˆåº”è¯¥é€‰æ‹©å“ªä¸€ä¸ªå‘¢ï¼Ÿå¦‚æœæ‰€æœ‰ä½ éœ€è¦åšçš„å°±æ˜¯æšä¸¾åˆ—è¡¨ï¼Œé‚£ç†è®ºä¸Šé€‰æ‹©å“ªç§ç±»å‹éƒ½ä¸åº”è¯¥é‡è¦ï¼Œå¯¹å§ï¼Ÿé‚£ä¹ˆæ­£ç¡®çš„é€‰é¡¹æ˜¯ä»€ä¹ˆï¼Ÿ\nä½¿ç”¨é›†åˆè¡¨è¾¾å¼ï¼Œä½ å¯ä»¥å°†æ­¤å†³ç­–å§”æ‰˜ç»™ç¼–è¯‘å™¨ã€‚ä½ å¯ä»¥ä¸æŒ‡å®šåç«¯ç±»å‹ï¼Œè€Œç”±ç¼–è¯‘å™¨æ¥å†³å®šã€‚è€Œä¸”ï¼Œé›†åˆè¡¨è¾¾å¼çš„é¢å¤–ä¼˜ç‚¹æ˜¯æ›´åŠ ç®€æ´ï¼š\n1 2 3 IEnumerable\u0026lt;int\u0026gt; ienumerable = [1, 2, 3, 4]; IList\u0026lt;int\u0026gt; ilist = [1, 2, 3, 4]; IReadOnlyCollection\u0026lt;int\u0026gt; icollection = [1, 2, 3, 4]; å¹•åï¼Œç¼–è¯‘å™¨å®Œå…¨é€æ˜åœ°åˆ›å»ºäº†ä¸€ä¸ªå®ç°æ‰€éœ€æ¥å£çš„é›†åˆï¼Œæ‰€ä»¥ä½ æ— éœ€è€ƒè™‘è¿™ä¸€ç‚¹ã€‚\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºæ¥å£é›†åˆé€‰æ‹©ä¸€ä¸ªå…·ä½“çš„ç±»å‹ï¼Œä½†ä½ éœ€è¦æŒ‡å®šæŸç§ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä½ ä¸èƒ½ä½¿ç”¨ var ï¼š\n1 2 3 4 var values = [1, 2, 3, 4]; // âŒ ç¼–è¯‘é”™è¯¯ï¼ŒCS9176ï¼šé›†åˆè¡¨è¾¾å¼æ²¡æœ‰ç›®æ ‡ç±»å‹ Sum(values); Sum([1, 2, 3, 4]); // âœ… è¿™æ˜¯å¯è¡Œçš„ int Sum(IEnumerable\u0026lt;int\u0026gt; v) =\u0026gt; v.Sum(); é—®é¢˜åœ¨äºï¼Œæ ¹æ® C#ç¼–è¯‘å™¨çš„å·¥ä½œæ–¹å¼ï¼Œå®ƒæ— æ³•æ¨æ–­ values çš„ç±»å‹åº”ä¸º IEnumerable\u0026lt;int\u0026gt; ï¼Œå› æ­¤æŠ›å‡ºäº†é”™è¯¯ã€‚æœªæ¥ç‰ˆæœ¬çš„ C#å¯èƒ½ä¼šæ”¹å˜è¿™ç§æƒ…å†µï¼Œä½†å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯å§‹ç»ˆé€‰æ‹© int[] ï¼Œè¿™å¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼Œæ‰€ä»¥ä¸è¦æŠ±å¤ªå¤§å¸Œæœ›ã€‚\né’ˆå¯¹ ReadOnlySpan çš„é«˜æ•ˆè‡ªåŠ¨ stackalloc å¯¹äº ReadOnlySpan å’Œ Span å®ä¾‹æ¥è¯´ï¼Œå¦‚æœä½ åªä½¿ç”¨é›†åˆåˆå§‹åŒ–å™¨ï¼Œæƒ…å†µä¹Ÿç±»ä¼¼ã€‚å¦‚æœä½ åªéœ€è¦åœ¨ Span æˆ– ReadOnlySpan ä¸­å­˜å‚¨ä¸€äº›æ•°æ®ï¼Œé‚£ä¹ˆä½¿ç”¨é›†åˆåˆå§‹åŒ–å™¨å°±éœ€è¦å†³å®šå°†æ•°æ®æ”¾åœ¨å“ªé‡Œï¼Œç„¶åå†ä»ä¸­è·å– Spanï¼š\n1 2 3 Span\u0026lt;int\u0026gt; spans2 = stackalloc[] { 1, 2, 3, 4 }; // æ ˆä¸Šåˆ†é…æ•°ç»„ Span\u0026lt;int\u0026gt; spans3 = new[] { 1, 2, 3, 4 }; // åœ¨å †ä¸Šåˆ†é… Span\u0026lt;string\u0026gt; spans4 = new[] { \u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34; }; // ä¸èƒ½ç›´æ¥ä½¿ç”¨ stackalloc åˆ†é…å­—ç¬¦ä¸²æ•°ç»„ è™½ç„¶è¿™ä¸æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å†³ç­–ï¼Œé€šå¸¸åªæœ‰ä¸¤ä¸ªåˆç†çš„é€‰æ‹©ï¼Œä½†è¿˜æ˜¯éœ€è¦é¢å¤–è€ƒè™‘çš„äº‹æƒ…ã€‚æ­¤å¤–ï¼Œä½ ä¸èƒ½ç›´æ¥ä½¿ç”¨ stackalloc ä¸º string[] åˆ†é…å†…å­˜ï¼Œé™¤éé€šè¿‡ä¸€äº› InlineArray çš„æŠ€å·§ ã€‚\nä½¿ç”¨é›†åˆè¡¨è¾¾å¼ï¼Œä½ å¯ä»¥å†æ¬¡å°†æ­¤å†³ç­–å§”æ‰˜ç»™ç¼–è¯‘å™¨ï¼Œå®ƒä¼šåšå‡ºæ­£ç¡®çš„å¤„ç†ã€‚\n1 2 ReadOnlySpan\u0026lt;int\u0026gt; readonlyspans = [1, 2, 3, 4]; Span\u0026lt;string\u0026gt; spans = [\u0026#34;1\u0026#34;, \u0026#34;2\u0026#34;, \u0026#34;3\u0026#34;, \u0026#34;4\u0026#34;]; åœ¨ç³»åˆ—çš„åç»­éƒ¨åˆ†ï¼Œä½ ä¼šå‘ç°è¿™äº›ç‰¹å®šçš„é›†åˆè¡¨è¾¾å¼æ¡ˆä¾‹è¢«é«˜åº¦ä¼˜åŒ–ï¼\né›†åˆè¡¨è¾¾å¼ä½¿é‡æ„æ›´ç®€å• åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å±•ç¤ºçš„æ‰€æœ‰ä¾‹å­éƒ½æ˜¯å°†é›†åˆè¡¨è¾¾å¼èµ‹å€¼ç»™å˜é‡ï¼Œä½†å®é™…ä¸Šä½ ä¹Ÿå¯ä»¥ç›´æ¥å°†é›†åˆè¡¨è¾¾å¼ä½œä¸ºæ–¹æ³•å‚æ•°ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼š\n1 2 3 4 5 6 7 8 using System.Linq; using System.Collections.Generic; // åˆ›å»ºä¸€ä¸ªæ¥å—IEnumerable\u0026lt;int\u0026gt;çš„æ–¹æ³• int Sum(IEnumerable\u0026lt;int\u0026gt; values) =\u0026gt; values.Sum(); // ä½¿ç”¨é›†åˆè¡¨è¾¾å¼è°ƒç”¨æ–¹æ³• Sum([1, 2, 3, 4]); è¿™ç§æ¨¡å¼çš„ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¦‚æœæˆ‘æ”¹å˜äº† Sum() çš„ç­¾åï¼Œæˆ‘ä¸éœ€è¦æ”¹å˜è°ƒç”¨ç«™ç‚¹ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¦‚æœä½ ä½¿ç”¨é›†åˆåˆå§‹åŒ–å™¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // å¦‚æœæ–¹æ³•æ¥å—æ•°ç»„... int Sum1(int[] values) =\u0026gt; values.Sum(); Sum1(new [] { 1, 2, 3, 4 }); // å¿…é¡»ä½¿ç”¨æ•°ç»„è¯­æ³• // å¦‚æœæ–¹æ³•æ¥å—IEnumerable... int Sum2(IEnumerable\u0026lt;int\u0026gt; values) =\u0026gt; values.Sum(); Sum2(new List\u0026lt;int\u0026gt; { 1, 2, 3, 4 }); // å¿…é¡»ä½¿ç”¨æ˜¾å¼ç±»å‹ï¼Œå¦‚Listæˆ–ç±»ä¼¼ // å¦‚æœæ–¹æ³•æ¥å—ReadOnlySpan... int Sum3(ReadOnlySpan\u0026lt;int\u0026gt; values) { var total = 0; foreach (var value in values) { total += value; } return total; } Sum3(new []{ 1, 2, 3, 4 }); // å¿…é¡»é€‰æ‹©æ ‡å‡†æ•°ç»„æˆ–è€…ä½¿ç”¨stackallocåˆ†é…çš„æ•°ç»„ å¦‚æœä½¿ç”¨é›†åˆè¡¨è¾¾å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®Œå…¨ç›¸åŒçš„è¯­æ³•æ¥è°ƒç”¨æ‰€æœ‰ä¸‰ä¸ª Sum() å®ç°ï¼š\nSum1([ 1, 2, 3, 4 ]); Sum2([ 1, 2, 3, 4 ]); Sum3([ 1, 2, 3, 4 ]);\nå¹¶ä¸”ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨æœ€æœ‰æ•ˆçš„å®ç°æ–¹å¼æ¥åˆ›å»ºæ‰€éœ€ç±»å‹çš„é›†åˆã€‚\nè¿™çœ‹èµ·æ¥å¯èƒ½æ˜¯ä¸€ä»¶å°äº‹ï¼Œè€Œä¸”åœ¨æŸç§ç¨‹åº¦ä¸Šç¡®å®æ˜¯è¿™æ ·ï¼Œä½†æ­£æ˜¯æ‰€æœ‰è¿™äº›å°å°çš„ä¾¿åˆ©ç‰¹æ€§ä½¿å¾—é›†åˆè¡¨è¾¾å¼æˆä¸ºä¸€ä¸ªéå¸¸æ•´æ´çš„åŠŸèƒ½ï¼æ•´ä½“è€Œè¨€ï¼Œæ­£æ˜¯è¿™äº›å¾®å°çš„æ–¹ä¾¿æ€§è®©é›†åˆè¡¨è¾¾å¼çš„ä½¿ç”¨å˜å¾—æä¸ºé¡ºæ‰‹å’Œé«˜æ•ˆã€‚\nç©ºé›†åˆ åœ¨ C# ä¸­ï¼Œé›†åˆè¡¨è¾¾å¼çš„ä¸€ä¸ªç‰¹æ€§æ˜¯ç¼–è¯‘å™¨æ˜ç¡®è¯†åˆ«ç©ºé›†åˆçš„è¯­æ³•ã€‚è¿™æ„å‘³ç€ä½ ä¸å†éœ€è¦å†™åƒä¸‹é¢è¿™æ ·çš„ä»£ç ï¼š\n1 2 var empty = new int[]{}; // é€šå¸¸ä½ ä¸åº”è¯¥è¿™æ ·åš... var empty = Array.Empty\u0026lt;int\u0026gt;(); // ...ç›¸åï¼Œæ›´å€¾å‘äºä½¿ç”¨è¿™è¡Œä»£ç ! ç°åœ¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ [] æ¥ç”Ÿæˆä¸€ä¸ªé€‚å½“çš„ç©ºé›†åˆç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š\n1 int[] empty = []; é›†åˆè¡¨è¾¾å¼ç›¸æ¯”äºæ˜¾å¼åˆå§‹åŒ–æœ‰ä¸¤å¤§ä¸»è¦ä¼˜åŠ¿ï¼š\nç¼–è¯‘å™¨å¯ä»¥é€‰æ‹©åˆ›å»ºç©ºé›†åˆçš„æœ€æœ‰æ•ˆæ–¹å¼ï¼Œæ¯”å¦‚é€‰æ‹© Array.Empty()ï¼ˆæˆ–å…¶ç­‰ä»·æ–¹æ³•ï¼‰ã€‚ å¯¹äºæ‰€æœ‰é›†åˆç±»å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€è‡´çš„è¯­æ³•ã€‚ ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¤šç§é›†åˆç±»å‹ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ [] æ¥åˆ›å»ºå®ƒä»¬çš„ç©ºç‰ˆæœ¬ã€‚æ¯è¡Œä»£ç åçš„æ³¨é‡Šæ˜¾ç¤ºäº†ç¼–è¯‘å™¨ä¸ºç‰¹å®šç±»å‹ç”Ÿæˆçš„ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 int[] array = []; // Array.Empty() HashSet\u0026lt;int\u0026gt; hashset = []; // new HashSet\u0026lt;int\u0026gt;() List\u0026lt;int\u0026gt; list = []; // new List\u0026lt;int\u0026gt;() IEnumerable\u0026lt;int\u0026gt; ienumerable = []; // Array.Empty() ICollection\u0026lt;int\u0026gt; icollection = []; // new List\u0026lt;int\u0026gt;() IList\u0026lt;int\u0026gt; ilist = []; // new List\u0026lt;int\u0026gt;() IReadOnlyCollection\u0026lt;int\u0026gt; readonlycollection = []; // Array.Empty() IReadOnlyList\u0026lt;int\u0026gt; readonlyList = []; // Array.Empty() Span\u0026lt;int\u0026gt; span = []; // default(Span\u0026lt;int\u0026gt;) ReadOnlySpan\u0026lt;int\u0026gt; readonlyspan = []; // default(ReadOnlySpan\u0026lt;int\u0026gt;) ImmutableArray\u0026lt;int\u0026gt; immutablearray = []; // ImmutableArray.CreateRange(Array.Empty()) ImmutableList\u0026lt;int\u0026gt; immutablelist = []; // ImmutableList.Create(default(ReadOnlySpan\u0026lt;int\u0026gt;)); å¦‚ä½ æ‰€è§ï¼Œç¼–è¯‘å™¨å°½å¯èƒ½åœ°é«˜æ•ˆï¼›å¦‚æœç±»å‹æ˜¯å¯å˜çš„ï¼Œå¦‚ HashSet æˆ– Listï¼Œé‚£ä¹ˆå®ƒåªèƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼›ä½†å¦‚æœå¯ä»¥ä½¿ç”¨ä¸åˆ†é…å†…å­˜çš„ç‰ˆæœ¬ï¼Œå¦‚ Array.Empty()ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šé‡‡ç”¨è¿™ç§æ–¹å¼ï¼è¯·æ³¨æ„ï¼Œåœ¨æœ€åä¸€ä¸ªç¤ºä¾‹ä¸­ï¼ŒImmutableArray å’Œ ImmutableList ä½¿ç”¨äº†ä¸åŒçš„æ„é€ å‡½æ•°æ¥åˆ›å»ºç©ºé›†åˆï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸å¯å˜é›†åˆã€‚\nä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ï¼ˆspread elementï¼‰ä»å…¶ä»–é›†åˆæ„å»ºé›†åˆ æˆ‘ä»¬å·²ç»äº†è§£äº†é›†åˆè¡¨è¾¾å¼çš„ä¸¤ä¸ªå¥½å¤„ï¼š\nä¸€è‡´çš„è¯­æ³• é«˜æ•ˆçš„ç¼–è¯‘å™¨ç”Ÿæˆå®ç° é›†åˆè¡¨è¾¾å¼çš„å¦ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯ å±•å¼€è¿ç®—ç¬¦ (..)ã€‚è¿™ä½¿ä½ èƒ½å¤Ÿæ›´å®¹æ˜“åœ°ä»å…¶ä»–é›†åˆå®ä¾‹æ„å»ºæ–°çš„é›†åˆã€‚\nä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œå‡è®¾ä½ æœ‰ä¸¤ä¸ª IEnumerable é›†åˆï¼Œå¹¶ä¸”ä½ æƒ³å°†å®ƒä»¬ä½œä¸ºæ•°ç»„è¿æ¥èµ·æ¥ã€‚ä½¿ç”¨ LINQï¼Œè¿™æ˜¯ç›¸å½“å®¹æ˜“åšåˆ°çš„ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸“é—¨ç”¨äºæ­¤ç±»æ“ä½œçš„æ‰©å±•æ–¹æ³•ï¼š\n1 2 3 4 int[] ConcatAsArray(IEnumerable\u0026lt;int\u0026gt; first, IEnumerable\u0026lt;int\u0026gt; second) { return first.Concat(second).ToArray(); } å¾ˆå¥½ï¼Œä½†æ˜¯å¦‚æœç°åœ¨ä½ éœ€è¦å¤„ç†çš„æ˜¯ ReadOnlySpan è€Œä¸æ˜¯ IEnumerable å‘¢ï¼Ÿä¸å¹¸çš„æ˜¯ï¼Œæ­£å¦‚æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„é‚£æ ·ï¼ŒReadOnlySpan ä¸å®ç° IEnumerable æ¥å£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½éœ€è¦è¿™æ ·åšï¼š\n1 2 3 4 5 6 7 int[] ConcatAsArray(ReadOnlySpan\u0026lt;int\u0026gt; first, ReadOnlySpan\u0026lt;int\u0026gt; second) { var list = new List\u0026lt;int\u0026gt;(first.Length + second.Length); list.AddRange(first); list.AddRange(second); return list.ToArray(); } è¿™è™½ç„¶ä¸æ˜¯ ç³Ÿç³•ï¼Œä½†ä»ç„¶è®©äººæ„Ÿåˆ°æ¼ç«ï¼Œå› ä¸ºå¯¹äºæ¯ç§ä¸åŒçš„é›†åˆç±»å‹éƒ½å¾—è€ƒè™‘è¿™äº›ç»†èŠ‚ã€‚è€Œä½¿ç”¨é›†åˆè¡¨è¾¾å¼å’Œå±•å¼€è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªç®€æ´çš„å¿«æ·æ–¹å¼ï¼Œå®ƒå¯ä»¥ç”¨äºæ‰€æœ‰å—æ”¯æŒçš„é›†åˆç±»å‹ã€‚ä¸Šè¿°ä¸¤ç§é‡è½½éƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹å¼å®ç°ï¼š\n1 2 int[] ConcatAsArray(IEnumerable\u0026lt;int\u0026gt; first, IEnumerable\u0026lt;int\u0026gt; second) =\u0026gt; [..first, ..second]; int[] ConcatAsArray(ReadOnlySpan\u0026lt;int\u0026gt; first, ReadOnlySpan\u0026lt;int\u0026gt; second) =\u0026gt; [..first, ..second]; è€Œä¸”ï¼Œç”±äºé›†åˆè¡¨è¾¾å¼çš„ä¸€è‡´æ€§ï¼Œå¦‚æœä½ æ›´æ”¹ ConcatAsArray() æ–¹æ³•çš„å‚æ•° æˆ–è€… è¿”å›ç±»å‹ï¼Œä½ å®Œå…¨ä¸éœ€è¦ä¿®æ”¹é›†åˆè¡¨è¾¾å¼æœ¬èº«ï¼Œå®ƒä¾æ—§å¯ä»¥æ­£å¸¸å·¥ä½œï¼\n.. è¿ç®—ç¬¦æ„å‘³ç€ â€œå†™å‡ºé›†åˆä¸­çš„æ‰€æœ‰å€¼â€ ï¼Œå› æ­¤å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼š\n1 2 3 4 int[] array = [1, 2, 3, 4]; IEnumerable\u0026lt;int\u0026gt; oddValues = array.Where(int.IsOddInteger); // 1, 3 int[] evenValues = [..array.Where(int.IsEvenInteger)]; // 2, 4 int[] allValues = [..oddValues, ..evenValues]; // 1, 3, 2, 4 ä¸Šè¿°ä»£ç å¤šæ¬¡ä½¿ç”¨äº†å±•å¼€è¿ç®—ç¬¦ï¼Œä½†åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œå®ƒéƒ½æ„å‘³ç€ â€œå†™å‡ºé›†åˆçš„æ‰€æœ‰å…ƒç´ â€ ã€‚æ‰€ä»¥åœ¨æœ€åä¸€æ­¥ä¸­ï¼ŒallValues åŒ…å«äº† oddValues ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œåé¢è·Ÿç€ evenValues ä¸­çš„æ‰€æœ‰å€¼ã€‚\nä½ ä¹Ÿå¯ä»¥åœ¨é›†åˆè¡¨è¾¾å¼ä¸­æ··åˆå•ä¸€å€¼å’Œå±•å¼€é›†åˆï¼Œä¾‹å¦‚ï¼š\n1 2 int[] arr = [1, 2, 3, 4]; int[] myValues = [0, ..arr, 5, 6]; // 0, 1, 2, 3, 4, 5, 6 æœ€ç»ˆç»“æœå°±åƒæ˜¯éå†äº† arr å¹¶æ·»åŠ äº†æ¯ä¸ªå€¼ä¸€æ ·ã€‚\næ³¨æ„ï¼Œå±•å¼€è¿ç®—ç¬¦ .. ä¸ èŒƒå›´è¿ç®—ç¬¦ï¼ˆå¦‚ 1..3 æˆ– 2..^ ä¸­çš„ ..ï¼‰æ˜¯ ä¸åŒ çš„ï¼Œåè€…ç”¨äºå¯¹æ•°ç»„è¿›è¡Œ ç´¢å¼•ã€‚ç„¶è€Œï¼Œä½ å¯ä»¥ç»“åˆä½¿ç”¨å®ƒä»¬ï¼Œå…ˆç”¨ èŒƒå›´ æ¥é€‰æ‹©å…ƒç´ å­é›†ï¼Œç„¶åå°†å®ƒä»¬ å±•å¼€ åˆ°é›†åˆè¡¨è¾¾å¼ä¸­ï¼š\n1 2 int[] primes = [1, 2, 3, 5, 7, 9, 11]; int[] some = [0, ..primes[1..^1]]; // 0, 2, 3, 5, 7, 9 è¿™æ®µä»£ç ä½¿ç”¨ 1..^1 èŒƒå›´è¿ç®—ç¬¦å– primes æ•°ç»„çš„ç¬¬1ä¸ªè‡³N-1ä¸ªå…ƒç´ ï¼ˆå³ 2, 3, 5, 7, 9ï¼‰ï¼Œç„¶ååœ¨é›†åˆè¡¨è¾¾å¼ä¸­ä½¿ç”¨å±•å¼€ ..ã€‚\né›†åˆè¡¨è¾¾å¼ä¸ºåˆ›å»ºé›†åˆæ·»åŠ äº†ä¸€ç§å¾ˆå¥½çš„å¯¹ç§°æ€§ï¼ˆåœ¨é‡æ„ä»ä¸€ç§é›†åˆç±»å‹åˆ°å¦ä¸€ç§æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼‰ï¼Œå¹¶ä¸”é€šè¿‡å±•å¼€è¿ç®—ç¬¦ä½¿é›†åˆçš„ç»„åˆå˜å¾—æ›´åŠ ç®€å•ã€‚ä½†é›†åˆè¡¨è¾¾å¼ä¸ä»…ä»…æ˜¯å…³äºè¯­æ³•ã€‚é‡è¦çš„æ˜¯ï¼Œé›†åˆè¡¨è¾¾å¼ä¸ºç¼–è¯‘å™¨æä¾›äº†ä¼˜åŒ–å…¶ç”Ÿæˆä»£ç çš„é€‰é¡¹ã€‚\nåœ¨ä¸‹ä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨æ›´å¤šç±»å‹çš„é›†åˆï¼Œå¦‚ T[] å’Œ ReadOnlySpan\u0026lt;T\u0026gt;ï¼Œçœ‹çœ‹å®ƒä»¬åœ¨ä½¿ç”¨é›†åˆè¡¨è¾¾å¼æ—¶æ˜¯å¦‚ä½•è¢«é«˜åº¦ä¼˜åŒ–çš„ã€‚\nè‹±æ–‡åŸæ–‡\n","date":"2024-11-14T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/collection-expressions/","title":"C#12 ä¸­çš„é›†åˆè¡¨è¾¾å¼"},{"content":"å¸¸è§çš„æ•°æ®ç»“æ„åŒ…æ‹¬æ•°ç»„ã€é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€æ ‘å’Œå›¾ç­‰ã€‚æ¯ç§æ•°æ®ç»“æ„éƒ½æœ‰å…¶ç‰¹å®šçš„ä¼˜åŠ¿å’Œåº”ç”¨åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„é€‚ç”¨äºç´¢å¼•è®¿é—®å’Œå¿«é€ŸæŸ¥æ‰¾ï¼Œé“¾è¡¨é€‚ç”¨äºæ’å…¥å’Œåˆ é™¤æ“ä½œé¢‘ç¹çš„æƒ…å†µï¼Œæ ‘é€‚ç”¨äºå±‚æ¬¡ç»“æ„æ•°æ®çš„è¡¨ç¤ºå’Œæœç´¢ï¼Œå›¾é€‚ç”¨äºè¡¨ç¤ºå¤æ‚çš„å…³ç³»ç½‘ç»œç­‰ã€‚ 1ã€æ•°ç»„ æ•°ç»„æ˜¯å°†å…·æœ‰ç›¸åŒç±»å‹çš„è‹¥å¹²å˜é‡æœ‰åºåœ°ç»„ç»‡åœ¨ä¸€èµ·çš„é›†åˆï¼Œå¯ä»¥è¯´æ˜¯æœ€åŸºæœ¬çš„æ•°æ®ç»“æ„ã€‚\nä¼˜ç‚¹ï¼š ï¼ˆ1ï¼‰æŒ‰ç…§ç´¢å¼•æŸ¥è¯¢å…ƒç´ çš„é€Ÿåº¦å¾ˆå¿«ï¼›\nï¼ˆ2ï¼‰æŒ‰ç…§ç´¢å¼•éå†æ•°ç»„ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚\nç¼ºç‚¹ï¼š ï¼ˆ1ï¼‰æ•°ç»„çš„å¤§å°åœ¨åˆ›å»ºåå°±ç¡®å®šäº†ï¼Œæ— æ³•æ‰©å®¹ï¼šå®šä¹‰ï¼ˆåˆå§‹åŒ–ï¼‰å¿…é¡»ç»™å®šæ•°æ®çš„å¤§å°ï¼›\nï¼ˆ2ï¼‰æ•°ç»„åªèƒ½å­˜å‚¨ä¸€ç§ç±»å‹çš„æ•°æ®ï¼›\nï¼ˆ3ï¼‰æ·»åŠ ã€åˆ é™¤å…ƒç´ çš„æ“ä½œå¾ˆè€—æ—¶é—´ï¼Œå› ä¸ºè¦ç§»åŠ¨å…¶ä»–å…ƒç´ ã€‚\n2ã€æ ˆï¼ˆç”µæ¢¯ï¼‰ æ ˆæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå®ƒåªèƒ½åœ¨ä¸€ä¸ªè¡¨çš„ä¸€ä¸ªå›ºå®šç«¯è¿›è¡Œæ•°æ®ç»“ç‚¹çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚æ ˆæŒ‰ç…§å…ˆè¿›åå‡ºæˆ–åè¿›å…ˆå‡ºçš„åŸåˆ™æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…ˆæ’å…¥çš„æ•°æ®å°†è¢«å‹å…¥æ ˆåº•ï¼Œæœ€åæ’å…¥çš„æ•°æ®åœ¨æ ˆé¡¶ï¼Œè¯»å‡ºæ•°æ®æ—¶ï¼Œä»æ ˆé¡¶å¼€å§‹é€ä¸ªè¯»å‡ºã€‚æ ˆåœ¨æ±‡ç¼–è¯­è¨€ç¨‹åºä¸­ï¼Œç»å¸¸ç”¨äºé‡è¦æ•°æ®çš„ç°åœºä¿æŠ¤ã€‚æ ˆä¸­æ²¡æœ‰æ•°æ®æ—¶ï¼Œç§°ä¸ºç©ºæ ˆã€‚ æ ˆçš„æ“ä½œè§„åˆ™ï¼šåè¿›å…ˆå‡º\n3ã€é˜Ÿåˆ—ï¼ˆé£Ÿå ‚æ’é˜Ÿï¼‰ é˜Ÿåˆ—å’Œæ ˆç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ã€‚å’Œæ ˆä¸åŒçš„æ˜¯ï¼Œé˜Ÿåˆ—åªå…è®¸åœ¨è¡¨çš„ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œï¼Œè€Œåœ¨å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤æ“ä½œã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿›è¡Œæ’å…¥æ“ä½œçš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå°¾ï¼Œè¿›è¡Œåˆ é™¤æ“ä½œçš„ä¸€ç«¯ç§°ä¸ºé˜Ÿå¤´ã€‚é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ æ—¶ï¼Œç§°ä¸ºç©ºé˜Ÿåˆ—ã€‚\né˜Ÿåˆ—çš„æ“ä½œè§„åˆ™ï¼šå…ˆè¿›å…ˆå‡º ä¸ºäº†æé«˜é˜Ÿåˆ—çš„åˆ©ç”¨ç‡ï¼Œé‡‡ç”¨å¾ªç¯é˜Ÿåˆ—æ¥å­˜å‚¨æ•°æ®å¾ªç¯é˜Ÿåˆ—: rear åŠ åˆ° é¡¶æ—¶ å›æ¥ã€‚\n4ã€é“¾è¡¨ é“¾è¡¨æ˜¯ä¸€ç§æ•°æ®å…ƒç´ æŒ‰ç…§é“¾å¼å­˜å‚¨ç»“æ„è¿›è¡Œå­˜å‚¨çš„æ•°æ®ç»“æ„ï¼Œè¿™ç§å­˜å‚¨ç»“æ„å…·æœ‰åœ¨ç‰©ç†ä¸Šå­˜åœ¨éè¿ç»­çš„ç‰¹ç‚¹ã€‚é“¾è¡¨ç”±ä¸€ç³»åˆ—æ•°æ®ç»“ç‚¹æ„æˆï¼Œæ¯ä¸ªæ•°æ®ç»“ç‚¹åŒ…æ‹¬æ•°æ®åŸŸå’ŒæŒ‡é’ˆåŸŸä¸¤éƒ¨åˆ†ã€‚å…¶ä¸­ï¼ŒæŒ‡é’ˆåŸŸä¿å­˜äº†æ•°æ®ç»“æ„ä¸­ä¸‹ä¸€ä¸ªå…ƒç´ å­˜æ”¾çš„åœ°å€ã€‚é“¾è¡¨ç»“æ„ä¸­æ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥æ¬¡åºæ¥å®ç°çš„ã€‚\né“¾è¡¨åˆ†ä¸ºå•å‘é“¾è¡¨ã€åŒå‘é“¾è¡¨å’Œå¾ªç¯åˆ—è¡¨ã€‚\n1ï¼‰å•å‘é“¾è¡¨\nå‰é¢çš„é»„è‰²æ–¹å—ä»£è¡¨æ•°æ®åŸŸï¼Œåé¢è“è‰²æ–¹å—æ˜¯æŒ‡é’ˆåŸŸã€‚\n2ï¼‰åŒå‘é“¾è¡¨ pä»£è¡¨prevï¼ŒNä»£è¡¨nextã€‚\n3ï¼‰å•å‘å¾ªç¯é“¾è¡¨\nhæ˜¯å¤´ç»“ç‚¹ï¼Œpæ˜¯å®šä¹‰çš„ä¸€ä¸ªæŒ‡é’ˆ\nå•å‘é“¾è¡¨çš„ç¼ºç‚¹æ˜¯åªèƒ½ä»å¤´åˆ°å°¾ä¾æ¬¡éå†ï¼Œè€ŒåŒå‘é“¾è¡¨å¯è¿›å¯é€€ï¼Œæ—¢èƒ½æ‰¾åˆ°ä¸‹ä¸€ä¸ªï¼Œä¹Ÿèƒ½æ‰¾åˆ°ä¸Šä¸€ä¸ªï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½éœ€è¦å¤šåˆ†é…ä¸€ä¸ªå­˜å‚¨ç©ºé—´ã€‚\n5ã€æ ‘ æ ‘æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ç”±nï¼ˆn\u0026gt;=1ï¼‰ä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆä¸€ä¸ªå…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆã€‚æ ‘æ˜¯å…¸å‹çš„éçº¿æ€§ç»“æ„ï¼Œåœ¨æ ‘ç»“æ„ä¸­ï¼Œæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œè¯¥ç»“ç‚¹æ²¡æœ‰å‰é©±ç»“ç‚¹ã€‚åœ¨æ ‘ç»“æ„ä¸­çš„å…¶ä»–ç»“ç‚¹éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‰é©±ç»“ç‚¹ï¼Œè€Œä¸”å¯ä»¥æœ‰ä¸¤ä¸ªåç»§ç»“ç‚¹ã€‚\näºŒå‰æ ‘ äºŒå‰æ ‘ç‰¹ç‚¹:\näºŒå‰æ ‘ç¬¬iï¼ˆiâ‰¥1ï¼‰å±‚ä¸Šçš„èŠ‚ç‚¹æœ€å¤šä¸º2^i-1ä¸ª æ·±åº¦ä¸ºkï¼ˆkâ‰¥1ï¼‰çš„äºŒå‰æ ‘æœ€å¤šæœ‰2^k - 1ä¸ªèŠ‚ç‚¹ åœ¨ä»»æ„ä¸€æ£µäºŒå‰æ ‘ä¸­ï¼Œæ ‘å¶çš„æ•°ç›®æ¯”åº¦æ•°ä¸º2çš„èŠ‚ç‚¹çš„æ•°ç›®å¤š1 äºŒå‰æ ‘éå† äºŒå‰æ ‘ä¸­è¿˜åŒ…æ‹¬æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘ã€‚\næ»¡äºŒå‰æ ‘ ï¼šæ·±åº¦ä¸ºkï¼ˆkâ‰¥1ï¼‰æ—¶æœ‰2kï¼1ä¸ªèŠ‚ç‚¹çš„äºŒå‰æ ‘ã€‚\nå®Œå…¨äºŒå‰æ ‘ ï¼šåªæœ‰æœ€ä¸‹é¢ä¸¤å±‚æœ‰åº¦æ•°å°äº2çš„èŠ‚ç‚¹ï¼Œä¸”æœ€ä¸‹é¢ä¸€å±‚çš„å¶èŠ‚ç‚¹é›†ä¸­åœ¨æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ä¸Šã€‚\nå®Œå…¨äºŒå‰æ ‘çš„åˆ¤æ–­\n6ã€å›¾ å›¾æ˜¯å¦ä¸€ç§éçº¿æ€§æ•°æ®ç»“æ„ã€‚åœ¨å›¾ç»“æ„ä¸­ï¼Œæ•°æ®ç»“ç‚¹ä¸€èˆ¬ç§°ä¸ºé¡¶ç‚¹ï¼Œè€Œè¾¹æ˜¯é¡¶ç‚¹çš„æœ‰åºå¶å¯¹ã€‚å¦‚æœä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºè¿™ä¸¤ä¸ªé¡¶ç‚¹å…·æœ‰ç›¸é‚»å…³ç³»ã€‚\nå›¾åˆ†ä¸ºæœ‰å‘å›¾å’Œæ— å‘å›¾ï¼š\næœ‰å‘å›¾ï¼šè¾¹ä¸ä»…è¿æ¥ä¸¤ä¸ªé¡¶ç‚¹ï¼Œå¹¶ä¸”å…·æœ‰æ–¹å‘ï¼› æ— å‘å›¾ï¼šè¾¹ä»…ä»…è¿æ¥ä¸¤ä¸ªé¡¶ç‚¹ï¼Œæ²¡æœ‰å…¶ä»–å«ä¹‰ï¼›\n7ã€å † å †ï¼ˆheapï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ä¸€ç±»ç‰¹æ®Šçš„æ•°æ®ç»“æ„çš„ç»Ÿç§°ã€‚å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µæ ‘çš„æ•°ç»„å¯¹è±¡ã€‚å †æ€»æ˜¯æ»¡è¶³ä¸‹åˆ—æ€§è´¨ï¼š\nå †ä¸­æŸä¸ªç»“ç‚¹çš„å€¼æ€»æ˜¯ä¸å¤§äºæˆ–ä¸å°äºå…¶çˆ¶ç»“ç‚¹çš„å€¼ï¼› å †æ€»æ˜¯ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ã€‚ å°†æ ¹èŠ‚ç‚¹æœ€å¤§çš„å †å«åšæœ€å¤§å †æˆ–å¤§æ ¹å †ï¼Œæ ¹èŠ‚ç‚¹æœ€å°çš„å †å«åšæœ€å°å †æˆ–å°æ ¹å †ã€‚\nå¤§æ ¹å †\nå°æ ¹å †\n8ã€æ•£åˆ—è¡¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰ï¼ˆå­—å…¸ï¼‰ æ•£åˆ—è¡¨å°±æ˜¯æŠŠKeyé€šè¿‡ä¸€ä¸ªå›ºå®šçš„ç®—æ³•å‡½æ•°æ—¢æ‰€è°“çš„å“ˆå¸Œå‡½æ•°è½¬æ¢æˆä¸€ä¸ªæ•´å‹æ•°å­—ï¼Œç„¶åå°±å°†è¯¥æ•°å­—å¯¹æ•°ç»„é•¿åº¦è¿›è¡Œå–ä½™ï¼Œå–ä½™ç»“æœå°±å½“ä½œæ•°ç»„çš„ä¸‹æ ‡ï¼Œå°†valueå­˜å‚¨åœ¨ä»¥è¯¥æ•°å­—ä¸ºä¸‹æ ‡çš„æ•°ç»„ç©ºé—´é‡Œï¼Œè¿™ç§å­˜å‚¨ç©ºé—´å¯ä»¥å……åˆ†åˆ©ç”¨æ•°ç»„çš„æŸ¥æ‰¾ä¼˜åŠ¿æ¥æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰€ä»¥æŸ¥æ‰¾çš„é€Ÿåº¦å¾ˆå¿«ã€‚\nå“ˆå¸ŒæŸ¥æ‰¾æœ‰3ä¸ªæ¦‚å¿µ\n1 ã€å…³é”®å­— (key)\n2 ã€è®¡ç®—å…¬å¸(å“ˆå¸Œå‡½æ•° åˆç§°ä¸º æ•£åˆ—å‡½æ•°)\n3 ã€å­˜å‚¨æ•°æ®çš„è¡¨ (å“ˆå¸Œè¡¨åˆç§°ä¸º æ•£åˆ—è¡¨)\nç®—æ³•(å“ˆå¸Œå‡½æ•°)ï¼š\nç›´æ¥å¯»å€æ³•ï¼šå–å…³é”®å­—æˆ–å…³é”®å­—çš„æŸä¸ªçº¿æ€§å‡½æ•°å€¼ä¸ºæ•£åˆ—åœ°å€ã€‚ æ•°å­—åˆ†ææ³•ï¼šé€šè¿‡å¯¹æ•°æ®çš„åˆ†æï¼Œå‘ç°æ•°æ®ä¸­å†²çªè¾ƒå°‘çš„éƒ¨åˆ†ï¼Œå¹¶æ„é€ æ•£åˆ—åœ°å€ã€‚ä¾‹å¦‚åŒå­¦ä»¬çš„å­¦å·ï¼Œé€šå¸¸åŒä¸€å±Šå­¦ç”Ÿçš„å­¦å·ï¼Œå…¶ä¸­å‰é¢çš„éƒ¨åˆ†å·®åˆ«ä¸å¤ªå¤§ï¼Œæ‰€ä»¥ç”¨åé¢çš„éƒ¨åˆ†æ¥æ„é€ æ•£åˆ—åœ°å€ã€‚ å¹³æ–¹å–ä¸­æ³•ï¼šå½“æ— æ³•ç¡®å®šå…³é”®å­—é‡Œå“ªå‡ ä½çš„åˆ†å¸ƒç›¸å¯¹æ¯”è¾ƒå‡åŒ€æ—¶ï¼Œå¯ä»¥å…ˆæ±‚å‡ºå…³é”®å­—çš„å¹³æ–¹å€¼ï¼Œç„¶åæŒ‰éœ€è¦å–å¹³æ–¹å€¼çš„ä¸­é—´å‡ ä½ä½œä¸ºæ•£åˆ—åœ°å€ã€‚è¿™æ˜¯å› ä¸ºï¼šè®¡ç®—å¹³æ–¹ä¹‹åçš„ä¸­é—´å‡ ä½å’Œå…³é”®å­—ä¸­çš„æ¯ä¸€ä½éƒ½ç›¸å…³ï¼Œæ‰€ä»¥ä¸åŒçš„å…³é”®å­—ä¼šä»¥è¾ƒé«˜çš„æ¦‚ç‡äº§ç”Ÿä¸åŒçš„æ•£åˆ—åœ°å€ã€‚ æŠ˜å æ³•ï¼šå°†å…³é”®å­—åˆ†å‰²æˆä½æ•°ç›¸åŒçš„å‡ éƒ¨åˆ†ï¼Œæœ€åä¸€éƒ¨åˆ†ä½æ•°å¯ä»¥ä¸åŒï¼Œç„¶åå–è¿™å‡ éƒ¨åˆ†çš„å åŠ å’Œï¼ˆå»é™¤è¿›ä½ï¼‰ä½œä¸ºæ•£åˆ—åœ°å€ã€‚æ•°ä½å åŠ å¯ä»¥æœ‰ç§»ä½å åŠ å’Œé—´ç•Œå åŠ ä¸¤ç§æ–¹æ³•ã€‚ç§»ä½å åŠ æ˜¯å°†åˆ†å‰²åçš„æ¯ä¸€éƒ¨åˆ†çš„æœ€ä½ä½å¯¹é½ï¼Œç„¶åç›¸åŠ ï¼›é—´ç•Œå åŠ æ˜¯ä»ä¸€ç«¯å‘å¦ä¸€ç«¯æ²¿åˆ†å‰²ç•Œæ¥å›æŠ˜å ï¼Œç„¶åå¯¹é½ç›¸åŠ ã€‚ å–éšæœºæ•°æ³•ï¼šä½¿ç”¨ä¸€ä¸ªéšæœºå‡½æ•°ï¼Œå–å…³é”®å­—çš„éšæœºå€¼ä½œä¸ºæ•£åˆ—åœ°å€ï¼Œè¿™ç§æ–¹å¼é€šå¸¸ç”¨äºå…³é”®å­—é•¿åº¦ä¸åŒçš„åœºåˆã€‚ é™¤ç•™å–ä½™æ³•ï¼šå–å…³é”®å­—è¢«æŸä¸ªä¸å¤§äºæ•£åˆ—è¡¨çš„è¡¨é•¿ n çš„æ•° m é™¤åæ‰€å¾—çš„ä½™æ•° p ä¸ºæ•£åˆ—åœ°å€ã€‚è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥åœ¨ç”¨è¿‡å…¶ä»–æ–¹æ³•åå†ä½¿ç”¨ã€‚è¯¥å‡½æ•°å¯¹ m çš„é€‰æ‹©å¾ˆé‡è¦ï¼Œä¸€èˆ¬å–ç´ æ•°æˆ–è€…ç›´æ¥ç”¨ nã€‚\n","date":"2024-11-14T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/common-collection/","title":"å¸¸ç”¨æ•°æ®ç»“æ„"},{"content":" å†™Mrakdownè´¹äº‹ï¼ŸTyporaè®©ä½ åƒå†™Wordä¸€æ ·è¡Œäº‘æµæ°´ï¼Œæ‰€è§å³æ‰€å¾—ã€‚\nç®€ä»‹ Typoraæ˜¯ä¸€æ¬¾è½»ä¾¿ç®€æ´çš„Markdownç¼–è¾‘å™¨ï¼Œæ”¯æŒå³æ—¶æ¸²æŸ“æŠ€æœ¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸å…¶ä»–Markdownç¼–è¾‘å™¨æœ€æ˜¾è‘—çš„åŒºåˆ«ã€‚å³æ—¶æ¸²æŸ“ä½¿å¾—ä½ å†™Markdownå°±æƒ³æ˜¯å†™Wordæ–‡æ¡£ä¸€æ ·æµç•…è‡ªå¦‚ï¼Œä¸åƒå…¶ä»–ç¼–è¾‘å™¨çš„æœ‰ç¼–è¾‘æ å’Œæ˜¾ç¤ºæ ã€‚\nTyporaåˆ é™¤äº†é¢„è§ˆçª—å£ï¼Œä»¥åŠæ‰€æœ‰å…¶ä»–ä¸å¿…è¦çš„å¹²æ‰°ã€‚å–è€Œä»£ä¹‹çš„æ˜¯å®æ—¶é¢„è§ˆã€‚ Markdownçš„è¯­æ³•å› ä¸åŒçš„è§£æå™¨æˆ–ç¼–è¾‘å™¨è€Œå¼‚ï¼ŒTyporaä½¿ç”¨çš„æ˜¯GitHub Flavored Markdownã€‚ Markdownä»‹ç» Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸äººä»¬ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ã€‚\nMarkdown è¯­è¨€åœ¨ 2004 ç”±çº¦ç¿°Â·æ ¼é²ä¼¯ï¼ˆè‹±è¯­ï¼šJohn Gruberï¼‰åˆ›å»ºã€‚\nMarkdown ç¼–å†™çš„æ–‡æ¡£å¯ä»¥å¯¼å‡º HTML ã€Wordã€å›¾åƒã€PDFã€Epub ç­‰å¤šç§æ ¼å¼çš„æ–‡æ¡£ã€‚\nMarkdown ç¼–å†™çš„æ–‡æ¡£åç¼€ä¸º .md, .markdownã€‚\nå¸¸ç”¨å¿«æ·é”® åŠ ç²—ï¼š Ctrl + B æ ‡é¢˜ï¼š Ctrl + H æ’å…¥é“¾æ¥ï¼š Ctrl + K æ’å…¥ä»£ç ï¼š Ctrl + Shift + C \u0026ndash; æ— æ³•æ‰§è¡Œ è¡Œå†…ä»£ç ï¼š Ctrl + Shift + K æ’å…¥å›¾ç‰‡ï¼š Ctrl + Shift + I æ— åºåˆ—è¡¨ï¼šCtrl + Shift + L \u0026ndash; æ— æ³•æ‰§è¡Œ æ’¤é”€ï¼š Ctrl + Z ä¸€çº§æ ‡é¢˜ï¼š Ctrl + 1 \u0026ndash; ä»¥æ­¤ç±»æ¨ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Typoraå¿«æ·é”®æ•´åˆ ``` Ctrl+1 ä¸€é˜¶æ ‡é¢˜ Ctrl+B å­—ä½“åŠ ç²— Ctrl+2 äºŒé˜¶æ ‡é¢˜ Ctrl+I å­—ä½“å€¾æ–œ Ctrl+3 ä¸‰é˜¶æ ‡é¢˜ Ctrl+U ä¸‹åˆ’çº¿ Ctrl+4 å››é˜¶æ ‡é¢˜ Ctrl+Home è¿”å›Typoraé¡¶éƒ¨ Ctrl+5 äº”é˜¶æ ‡é¢˜ Ctrl+End è¿”å›Typoraåº•éƒ¨ Ctrl+6 å…­é˜¶æ ‡é¢˜ Ctrl+T åˆ›å»ºè¡¨æ ¼ Ctrl+L é€‰ä¸­æŸå¥è¯ Ctrl+K åˆ›å»ºè¶…é“¾æ¥ Ctrl+D é€‰ä¸­æŸä¸ªå•è¯ Ctrl+F æœç´¢ Ctrl+E é€‰ä¸­ç›¸åŒæ ¼å¼çš„æ–‡å­— Ctrl+H æœç´¢å¹¶æ›¿æ¢ Alt+Shift+5 åˆ é™¤çº¿ Ctrl+Shift+I æ’å…¥å›¾ç‰‡ Ctrl+Shift+M å…¬å¼å— Ctrl+Shift+Q å¼•ç”¨ æ³¨ï¼šä¸€äº›å®ä½“ç¬¦å·éœ€è¦åœ¨å®ä½“ç¬¦å·ä¹‹å‰åŠ â€\\â€æ‰èƒ½å¤Ÿæ˜¾ç¤º ``` å—å…ƒç´  æ¢è¡Œç¬¦ åœ¨markdownä¸­ï¼Œæ®µè½ç”±å¤šä¸ªç©ºæ ¼åˆ†éš”ã€‚åœ¨Typoraä¸­ï¼Œåªéœ€å›è½¦å³å¯åˆ›å»ºæ–°æ®µè½ã€‚\næ ‡é¢˜çº§åˆ« # ä¸€çº§æ ‡é¢˜ å¿«æ·é”®ä¸º Ctrl + 1\n## äºŒçº§æ ‡é¢˜ å¿«æ·é”®ä¸º Ctrl + 2\n\u0026hellip;\u0026hellip;\n###### å…­çº§æ ‡é¢˜ å¿«æ·é”®ä¸º Ctrl + 6\nå¼•ç”¨æ–‡å­— \u0026gt; + ç©ºæ ¼ + å¼•ç”¨æ–‡å­—\næ— åºåˆ—è¡¨ ä½¿ç”¨ * + - éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªæ— åºåˆ—è¡¨\nAAA BBB CCC æœ‰åºåˆ—è¡¨ ä½¿ç”¨ 1. 2. 3. åˆ›å»ºæœ‰åºåˆ—è¡¨\nAAA BBB CCC ä»»åŠ¡åˆ—è¡¨ \\ -[ ] ä¸å‹¾é€‰\n\\ -[x] å‹¾é€‰\nä»£ç å— åœ¨Typoraä¸­æ’å…¥ç¨‹åºä»£ç çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šä½¿ç”¨åå¼•å· `ï¼ˆ~ é”®ï¼‰ã€ä½¿ç”¨ç¼©è¿›ï¼ˆTabï¼‰ã€‚\næ’å…¥è¡Œå†…ä»£ç ï¼Œå³æ’å…¥ä¸€ä¸ªå•è¯æˆ–è€…ä¸€å¥ä»£ç çš„æƒ…å†µï¼Œä½¿ç”¨ code è¿™æ ·çš„å½¢å¼æ’å…¥ã€‚ æ’å…¥å¤šè¡Œä»£ç è¾“å…¥3ä¸ªåå¼•å·ï¼ˆ`ï¼‰ + å›è½¦ï¼Œå¹¶åœ¨åé¢é€‰æ‹©ä¸€ä¸ªè¯­è¨€åç§°å³å¯å®ç°è¯­æ³•é«˜äº®ã€‚ 1 2 def helloworld(): print(\u0026#34;hello, world!\u0026#34;) æ•°å­¦è¡¨è¾¾å¼ å½“ä½ éœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­æ’å…¥æ•°å­¦å…¬å¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªç¾å…ƒç¬¦ $$ åŒ…è£¹ TeX æˆ– LaTeX æ ¼å¼çš„æ•°å­¦å…¬å¼æ¥å®ç°ã€‚æ ¹æ®éœ€è¦åŠ è½½ Mathjax å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ã€‚\næŒ‰ä¸‹ $$ï¼Œç„¶åæŒ‰ä¸‹å›è½¦é”®ï¼Œå³å¯è¿›è¡Œæ•°å­¦å…¬å¼çš„ç¼–è¾‘ã€‚\n1 2 3 $$ \\mathbf{V}_1\\times\\mathbf{V}_2 = \\mathbf{X}_3 $$ æ’å…¥è¡¨æ ¼ è¾“å…¥ | è¡¨å¤´1 | è¡¨å¤´2 |å¹¶å›è½¦ã€‚å³å¯åˆ›å»ºä¸€ä¸ªåŒ…å«2åˆ—è¡¨ã€‚å¿«æ·é”® Ctrl + Tå¼¹å‡ºå¯¹è¯æ¡†ã€‚\nid number ä¸ç®¡æ˜¯å“ªç§æ–¹å¼ï¼Œç¬¬ä¸€è¡Œä¸ºè¡¨å¤´ï¼Œç¬¬äºŒè¡Œä¸ºåˆ†å‰²è¡¨å¤´å’Œä¸»ä½“éƒ¨åˆ†ï¼Œç¬¬ä¸‰è¡Œå¼€å§‹æ¯ä¸€è¡Œä¸ºä¸€ä¸ªè¡¨æ ¼è¡Œ\nåˆ—ä¸åˆ—ä¹‹é—´ç”¨ç®¡é“ç¬¦å· | éš”å¼€\nè¿˜å¯è®¾ç½®å¯¹é½æ–¹å¼(è¡¨å¤´ä¸å†…å®¹ä¹‹é—´)ï¼Œå¦‚æœä¸ä½¿ç”¨å¯¹é½æ ‡è®°ï¼Œå†…å®¹é»˜è®¤å·¦å¯¹é½ï¼Œè¡¨å¤´å±…ä¸­å¯¹é½\nå·¦å¯¹é½ ï¼š| å³å¯¹é½ |ï¼š ä¸­å¯¹é½ ï¼š|ï¼š ä¸ºäº†ç¾è§‚ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼å¯¹é½ä¸åŒè¡Œçš„å•å…ƒæ ¼ï¼Œå¹¶åœ¨å·¦å³ä¸¤ä¾§éƒ½ä½¿ç”¨ | æ¥æ ‡è®°å•å…ƒæ ¼è¾¹ç•Œ\nä¸ºäº†ä½¿ Markdown æ›´æ¸…æ™°ï¼Œ| å’Œ - ä¸¤ä¾§éœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ˆæœ€å·¦ä¾§å’Œæœ€å³ä¾§çš„ | å¤–å°±ä¸éœ€è¦äº†ï¼‰ã€‚\nè„šæ³¨ è¿™ä¸ªä¾‹å­çš„è„šæ³¨ä¸º[1]ã€‚\næ³¨æ„ï¼šè¯¥ä¾‹å­è„šæ³¨æ ‡è¯†æ˜¯1ï¼Œè„šæ³¨æ ‡è¯†å¯ä»¥ä¸ºå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼Œä½†æ˜¯æš‚ä¸æ”¯æŒä¸­æ–‡ã€‚è„šæ³¨å†…å®¹å¯ä¸ºä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬ä¸­æ–‡ã€‚\nåˆ†å‰²çº¿ è¾“å…¥ *** æˆ–è€… --- å†æŒ‰å›è½¦å³å¯ç»˜åˆ¶ä¸€æ¡æ°´å¹³çº¿ï¼Œå¦‚ä¸‹ï¼š\nç›®å½•ï¼ˆTOCï¼‰ è¾“å…¥ [ toc ] ç„¶åå›è½¦ï¼Œå³å¯åˆ›å»ºä¸€ä¸ªâ€œç›®å½•â€ã€‚TOCä»æ–‡æ¡£ä¸­æå–æ‰€æœ‰æ ‡é¢˜ï¼Œå…¶å†…å®¹å°†è‡ªåŠ¨æ›´æ–°ã€‚\nTyporaæ”¯æŒTOCè‡ªåŠ¨ç”Ÿæˆç›®å½•ï¼Œåšå®¢å›­ä¸æ”¯æŒï¼Ÿ\nç›®å½•\nç®€ä»‹ Markdownä»‹ç» å¸¸ç”¨å¿«æ·é”® å—å…ƒç´  æ¢è¡Œç¬¦ æ ‡é¢˜çº§åˆ« å¼•ç”¨æ–‡å­— æ— åºåˆ—è¡¨ æœ‰åºåˆ—è¡¨ ä»»åŠ¡åˆ—è¡¨ ä»£ç å— æ•°å­¦è¡¨è¾¾å¼ æ’å…¥è¡¨æ ¼ è„šæ³¨ åˆ†å‰²çº¿ ç›®å½•ï¼ˆTOCï¼‰ è·¨åº¦å…ƒç´  é“¾æ¥ å†…éƒ¨é“¾æ¥ å‚è€ƒé“¾æ¥ ç½‘å€ å›¾ç‰‡ æ–œä½“ åŠ ç²— åŠ ç²—æ–œä½“ ä»£ç æ ‡è®° åˆ é™¤çº¿ ä¸‹åˆ’çº¿ è¡¨æƒ…ç¬¦å· ä¸‹æ ‡ ä¸Šæ ‡ é«˜äº® æ–‡æœ¬å±…ä¸­ æ¢è¡Œç¬¦ è½¬ä¹‰ HTML åµŒå…¥å†…å®¹ è§†é¢‘ æ€»ç»“ è·¨åº¦å…ƒç´  è·¨åº¦å…ƒç´ å³å›¾ç‰‡ï¼Œç½‘å€ï¼Œè§†é¢‘ç­‰ï¼Œåœ¨Typoraä¸­è¾“å…¥åï¼Œä¼šç«‹å³è½½å…¥å¹¶å‘ˆç°ã€‚\né“¾æ¥ å†…éƒ¨é“¾æ¥ è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰æ ‡é¢˜å±æ€§çš„ [é“¾æ¥](http://example.com/ \u0026quot;æ ‡é¢˜\u0026quot;)\nè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰æ ‡é¢˜å±æ€§çš„ [é“¾æ¥](http://example.net/)\né“¾æ¥\né“¾æ¥\nå‚è€ƒé“¾æ¥ è¿™æ˜¯ä¸€ä¸ª[å‚è€ƒé“¾æ¥]id \u0026ndash; æ— æ³•æ‰§è¡Œ\nç½‘å€ Typoraå…è®¸ç”¨\u0026lt;æ‹¬å·æ‹¬èµ·æ¥\u0026gt;, æŠŠURLä½œä¸ºé“¾æ¥æ’å…¥ã€‚\nTyporaè¿˜ä¼šè‡ªåŠ¨é“¾æ¥æ ‡å‡†ç½‘å€ã€‚\nwww.baidu.com\nå›¾ç‰‡ ![æ˜¾ç¤ºçš„æ–‡å­—](C:\\Users\\Hider\\Desktop\\echart.png \u0026quot;å›¾ç‰‡æ ‡é¢˜\u0026quot;)\n![æ˜¾ç¤ºçš„æ–‡å­—](C:\\Users\\Hider\\Desktop\\echart.png)\né™¤äº†ä»¥ä¸Š2ç§æ–¹å¼ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥å°†å›¾ç‰‡æ‹–æ‹½è¿›æ¥ï¼Œè‡ªåŠ¨ç”Ÿæˆé“¾æ¥ã€‚\næ–œä½“ ä½¿ç”¨ *å•ä¸ªæ˜Ÿå·* æˆ–è€… _å•ä¸‹åˆ’çº¿_ å¯ä»¥å­—ä½“å€¾æ–œã€‚å¿«æ·é”® Ctrl + I\næ–œä½“\nåŠ ç²— ä½¿ç”¨ **ä¸¤ä¸ªæ˜Ÿå·** æˆ–è€… __ä¸¤ä¸ªä¸‹åˆ’çº¿__ å¯ä»¥å­—ä½“åŠ ç²—ã€‚å¿«æ·é”® Ctrl + B\nåŠ ç²—\nåŠ ç²—æ–œä½“ ä½¿ç”¨***åŠ ç²—æ–œä½“***å¯ä»¥åŠ ç²—æ–œä½“ã€‚\nåŠ ç²—æ–œä½“\nä»£ç æ ‡è®° æ ‡è®°ä»£ç ä½¿ç”¨åå¼•å·ï¼Œå³åœ¨è‹±æ–‡è¾“å…¥æ³•ä¸‹ï¼ŒESCé”®ä¸‹é¢å’Œ1é”®å·¦è¾¹çš„ç¬¦å·ã€‚\nä½¿ç”¨è¯¥ printf()åŠŸèƒ½\nåˆ é™¤çº¿ ä½¿ç”¨~~åˆ é™¤çº¿~~ å¿«æ·é”® Alt + Shift + 5\nåˆ é™¤çº¿\nä¸‹åˆ’çº¿ \\ä¸‹åˆ’çº¿ \u0026ndash; æ— æ³•æ‰§è¡Œ\nå‚è€ƒå¦ä¸€ç¯‡æ–‡ç« ï¼Œå¯æ‰§è¡Œã€‚\né€šè¿‡\u0026lt;u\u0026gt;ä¸‹åˆ’çº¿çš„å†…å®¹\u0026lt;/u\u0026gt; æˆ–è€… å¿«æ·é”®Ctrl + Uå¯å®ç°ä¸‹åˆ’çº¿\nä¸‹åˆ’çº¿çš„å†…å®¹\nè¡¨æƒ…ç¬¦å· Githubçš„Markdownè¯­æ³•æ”¯æŒæ·»åŠ emojiè¡¨æƒ…ï¼Œè¾“å…¥ä¸åŒçš„ç¬¦å·ç ï¼ˆä¸¤ä¸ªå†’å·åŒ…å›´çš„å­—ç¬¦ï¼‰å¯ä»¥æ˜¾ç¤ºå‡ºä¸åŒçš„è¡¨æƒ…ã€‚\n:smile \u0026ndash; æ— æ³•æ˜¾ç¤º\nğŸ˜º\nä¸‹æ ‡ å¯ä»¥ä½¿ç”¨ \u0026lt;sub\u0026gt;æ–‡æœ¬\u0026lt;/sub\u0026gt;å®ç°ä¸‹æ ‡ã€‚\n(éœ€åœ¨è®¾ç½®ä¸­æ‰“å¼€è¯¥åŠŸèƒ½)\nH2O\nH2O\nä¸Šæ ‡ å¯ä»¥ä½¿ç”¨\u0026lt;sup\u0026gt;æ–‡æœ¬\u0026lt;/sup\u0026gt;å®ç°ä¸Šæ ‡ã€‚\n(éœ€åœ¨è®¾ç½®ä¸­æ‰“å¼€è¯¥åŠŸèƒ½)\nX2\nX2\né«˜äº® ==é«˜äº®==(éœ€åœ¨è®¾ç½®ä¸­æ‰“å¼€è¯¥åŠŸèƒ½)\n==æˆ‘æ˜¯æœ€é‡è¦çš„==\næ–‡æœ¬å±…ä¸­ ä½¿ç”¨ \u0026lt;center\u0026gt;è¿™æ˜¯è¦å±…ä¸­çš„å†…å®¹\u0026lt;/center\u0026gt;å¯ä»¥ä½¿æ–‡æœ¬å±…ä¸­\nè¿™æ˜¯è¦å±…ä¸­çš„æ–‡æœ¬å†…å®¹\næ¢è¡Œç¬¦ ä½¿ç”¨ ç©ºæ ¼ + ç©ºæ ¼ + Enterå¯ä»¥å®ç°æ¢è¡Œï¼Œä¾‹å¦‚ï¼š\næˆ–è€…å¯ä»¥ä½¿ç”¨\u0026lt;br/\u0026gt;å®ç°æ¢è¡Œã€‚\nè½¬ä¹‰ Markdown ä½¿ç”¨äº†å¾ˆå¤šç‰¹æ®Šç¬¦å·æ¥è¡¨ç¤ºç‰¹å®šçš„æ„ä¹‰ï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºç‰¹å®šçš„ç¬¦å·åˆ™éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼ŒMarkdown ä½¿ç”¨åæ–œæ è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼š\næ–‡æœ¬åŠ ç²—\n** æ­£å¸¸æ˜¾ç¤ºæ˜Ÿå· **\nMarkdown æ”¯æŒä»¥ä¸‹è¿™äº›ç¬¦å·å‰é¢åŠ ä¸Šåæ–œæ æ¥å¸®åŠ©æ’å…¥æ™®é€šçš„ç¬¦å·ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 \\ åæ–œçº¿ ` åå¼•å· * æ˜Ÿå· _ ä¸‹åˆ’çº¿ {} èŠ±æ‹¬å· [] æ–¹æ‹¬å· () å°æ‹¬å· # äº•å­—å· + åŠ å· - å‡å· . è‹±æ–‡å¥ç‚¹ ! æ„Ÿå¹å· HTML æ”¯æŒHTML\nä¸åœ¨ Markdown æ¶µç›–èŒƒå›´ä¹‹å†…çš„æ ‡ç­¾ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨æ–‡æ¡£é‡Œé¢ç”¨ HTML æ’°å†™ã€‚\nç›®å‰æ”¯æŒçš„ HTML å…ƒç´ æœ‰ï¼š\u0026lt;kbd\u0026gt; \u0026lt;b\u0026gt; \u0026lt;i\u0026gt; \u0026lt;em\u0026gt; \u0026lt;sup\u0026gt; \u0026lt;sub\u0026gt; \u0026lt;br\u0026gt;ç­‰ ï¼Œå¦‚ï¼š\n1 2 ä½¿ç”¨ \u0026lt;kbd\u0026gt;Ctrl\u0026lt;/kbd\u0026gt;+\u0026lt;kbd\u0026gt;Alt\u0026lt;/kbd\u0026gt;+\u0026lt;kbd\u0026gt;Del\u0026lt;/kbd\u0026gt; é‡å¯ç”µè„‘ \u0026lt;kbd\u0026gt; \u0026lt;/kbd\u0026gt; -- ç™½è‰²æ¡†æ¡† æ•ˆæœï¼š\nä½¿ç”¨ Ctrl+Alt+Del é‡å¯ç”µè„‘\nåµŒå…¥å†…å®¹ è§†é¢‘ æ€»ç»“ å»ºè®®æ‰“å¼€å¤§çº²è§†å›¾Ctrl + Shift + 1 æ’å…¥è¡¨æ ¼éœ€è¦é¡¶æ ¼å†™ï¼Œå¦åˆ™æ— æ³•æ˜¾ç¤º è¯­æ³•æ— é¡»åˆ»æ„è®°å¿†ï¼Œå³é”®å¯æŸ¥è¯¢ å‚è€ƒé“¾æ¥1ï¼šTyporaå…¥é—¨ï¼ˆä¸­æ–‡ç‰ˆï¼‰\nå‚è€ƒé“¾æ¥2ï¼šTypora\nå‚è€ƒé“¾æ¥3ï¼šMarkdownä»£ç å—ä¸è¯­æ³•é«˜äº®\nå‚è€ƒé“¾æ¥4ï¼šMarkdownä½¿ç”¨-è¡¨æ ¼åŠå…¶å±…ä¸­ç­‰æ ¼å¼\nå‚è€ƒé“¾æ¥5ï¼šMarkdownè¯­æ³•å°ç»“\nå‚è€ƒé“¾æ¥6ï¼šRunoobï¼šMarkdownæ•™ç¨‹\n","date":"2024-10-12T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/typora_1/","title":"Typoraå…¥é—¨"},{"content":"åœ¨C#ä¸­ï¼Œé™æ€æ„é€ å‡½æ•°ï¼ˆä¹Ÿç§°ä¸ºç±»å‹æ„é€ å‡½æ•°ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–é™æ€æˆå‘˜æˆ–æ‰§è¡Œåªéœ€è¦ä¸€æ¬¡çš„æ“ä½œã€‚é™æ€æ„é€ å‡½æ•°çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š\næ— éœ€æ˜¾å¼è°ƒç”¨ï¼šé™æ€æ„é€ å‡½æ•°åœ¨ç¬¬ä¸€æ¬¡è®¿é—®ç±»å‹çš„é™æ€æˆå‘˜æˆ–å®ä¾‹æˆå‘˜ä¹‹å‰ï¼Œç”±è¿è¡Œæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚\nä¸èƒ½æœ‰è®¿é—®ä¿®é¥°ç¬¦ï¼šé™æ€æ„é€ å‡½æ•°ä¸èƒ½æœ‰publicã€privateç­‰è®¿é—®ä¿®é¥°ç¬¦ã€‚å®ƒåªèƒ½ç”±ç±»å‹å®šä¹‰æ¥ç¡®å®šã€‚\næ— å‚æ•°ï¼šé™æ€æ„é€ å‡½æ•°ä¸èƒ½æœ‰å‚æ•°ã€‚\næ¯ä¸ªç±»å‹åªèƒ½æœ‰ä¸€ä¸ªé™æ€æ„é€ å‡½æ•°ã€‚\nä¸èƒ½é€šè¿‡å¯¹è±¡å®ä¾‹æ¥è°ƒç”¨ï¼šé™æ€æ„é€ å‡½æ•°åªèƒ½é€šè¿‡ç±»å‹æœ¬èº«è§¦å‘ï¼Œè€Œä¸èƒ½é€šè¿‡ç±»å‹çš„å®ä¾‹æ¥è§¦å‘ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨é™æ€æ„é€ å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 using System; class MyClass { // é™æ€å­—æ®µ public static int StaticField; // é™æ€æ„é€ å‡½æ•° static MyClass() { Console.WriteLine(\u0026#34;é™æ€æ„é€ å‡½æ•°è¢«è°ƒç”¨\u0026#34;); StaticField = 42; } // å®ä¾‹æ„é€ å‡½æ•° public MyClass() { Console.WriteLine(\u0026#34;å®ä¾‹æ„é€ å‡½æ•°è¢«è°ƒç”¨\u0026#34;); } // é™æ€æ–¹æ³• public static void StaticMethod() { Console.WriteLine(\u0026#34;é™æ€æ–¹æ³•è¢«è°ƒç”¨\u0026#34;); } } class Program { static void Main() { // è®¿é—®é™æ€å­—æ®µï¼Œè§¦å‘é™æ€æ„é€ å‡½æ•° Console.WriteLine(MyClass.StaticField); // åˆ›å»ºå®ä¾‹ï¼Œé™æ€æ„é€ å‡½æ•°ä¸ä¼šå†æ¬¡è¢«è°ƒç”¨ MyClass myClass = new MyClass(); // è°ƒç”¨é™æ€æ–¹æ³• MyClass.StaticMethod(); } } è¾“å‡ºï¼š\n1 2 3 4 é™æ€æ„é€ å‡½æ•°è¢«è°ƒç”¨ 42 å®ä¾‹æ„é€ å‡½æ•°è¢«è°ƒç”¨ é™æ€æ–¹æ³•è¢«è°ƒç”¨ åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒMyClassç±»å®šä¹‰äº†ä¸€ä¸ªé™æ€å­—æ®µStaticFieldå’Œä¸€ä¸ªé™æ€æ„é€ å‡½æ•°ã€‚åœ¨Mainæ–¹æ³•ä¸­ï¼Œç¬¬ä¸€æ¬¡è®¿é—®StaticFieldæ—¶ï¼Œé™æ€æ„é€ å‡½æ•°è¢«è°ƒç”¨å¹¶åˆå§‹åŒ–äº†StaticFieldã€‚éšåçš„å®ä¾‹åˆ›å»ºå’Œé™æ€æ–¹æ³•è°ƒç”¨ä¸ä¼šå†æ¬¡è§¦å‘é™æ€æ„é€ å‡½æ•°ã€‚\né™æ€æ„é€ å‡½æ•°é€šå¸¸ç”¨äºæ‰§è¡Œç±»å‹çº§åˆ«çš„åˆå§‹åŒ–ä»»åŠ¡ï¼Œä¾‹å¦‚è®¾ç½®é™æ€å­—æ®µçš„é»˜è®¤å€¼ã€é…ç½®ç±»å‹çº§åˆ«çš„èµ„æºç­‰ã€‚å®ƒä¿è¯è¿™äº›åˆå§‹åŒ–é€»è¾‘åœ¨ç±»å‹é¦–æ¬¡ä½¿ç”¨æ—¶æ°å½“åœ°æ‰§è¡Œã€‚\n","date":"2024-09-27T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/static_constructors/","title":"C#é™æ€æ„é€ å‡½æ•°"},{"content":"å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰æ˜¯æŒ‡ç¨‹åºæ— æ³•é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ¶ˆè€—ä¸æ–­å¢åŠ ï¼Œæœ€ç»ˆå¯èƒ½è€—å°½ç³»ç»Ÿå†…å­˜èµ„æºã€‚å°½ç®¡C#å…·æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼Œç®€ç§°GCï¼‰ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œä½†æŸäº›æƒ…å†µä¸‹ä»å¯èƒ½å‡ºç°å†…å­˜æ³„æ¼ã€‚å†…å­˜æ³„æ¼åœ¨C#ä¸­é€šå¸¸ä¸æ˜¯ç”±äºå¿˜è®°é‡Šæ”¾å†…å­˜ï¼Œè€Œæ˜¯ç”±äºç¨‹åºä¸­å­˜åœ¨å¯¹ä¸å†éœ€è¦çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¼è‡´è¿™äº›å¯¹è±¡æ— æ³•è¢«GCå›æ”¶ã€‚\nå¸¸è§å¯¼è‡´å†…å­˜æ³„æ¼çš„æƒ…å†µ äº‹ä»¶å¤„ç†å™¨æœªè§£é™¤è®¢é˜… å¦‚æœå¯¹è±¡Aè®¢é˜…äº†å¯¹è±¡Bçš„äº‹ä»¶ï¼Œä½†åœ¨å¯¹è±¡Aé”€æ¯æ—¶æœªè§£é™¤è®¢é˜…ï¼Œå¯¹è±¡Bå°†æŒæœ‰å¯¹å¯¹è±¡Açš„å¼•ç”¨ï¼Œå¯¼è‡´å¯¹è±¡Aæ— æ³•è¢«åƒåœ¾å›æ”¶ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 public class Publisher { public event EventHandler MyEvent; } public class Subscriber { public Subscriber(Publisher pub) { pub.MyEvent += HandleEvent; } private void HandleEvent(object sender, EventArgs e) { // Event handler code } public void Unsubscribe(Publisher pub) { pub.MyEvent -= HandleEvent; } } é™æ€å˜é‡æŒæœ‰å¼•ç”¨ é™æ€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸åº”ç”¨ç¨‹åºç›¸åŒï¼Œå¦‚æœé™æ€å˜é‡æŒæœ‰å¯¹è±¡å¼•ç”¨ï¼Œè¿™äº›å¯¹è±¡å°†æ— æ³•è¢«åƒåœ¾å›æ”¶ã€‚\n1 2 3 4 5 6 7 8 9 public class MyClass { private static List\u0026lt;object\u0026gt; staticList = new List\u0026lt;object\u0026gt;(); public void AddObject(object obj) { staticList.Add(obj); } } æœªèƒ½æ­£ç¡®å¤„ç†IDisposableå¯¹è±¡ å¯¹äºå®ç°äº†IDisposableæ¥å£çš„å¯¹è±¡ï¼Œæœªèƒ½åœ¨ä½¿ç”¨åæ­£ç¡®è°ƒç”¨Disposeæ–¹æ³•ä¼šå¯¼è‡´èµ„æºæœªé‡Šæ”¾ã€‚\n1 2 3 4 5 6 public void ProcessData() { var stream = new FileStream(\u0026#34;data.txt\u0026#34;, FileMode.Open); // Use the stream // Forgot to call stream.Dispose() } é•¿æ—¶é—´å­˜åœ¨çš„å¯¹è±¡å¼•ç”¨ é•¿æ—¶é—´å­˜åœ¨çš„é›†åˆæˆ–ç¼“å­˜æœªèƒ½æ¸…ç†ï¼Œå¯¼è‡´å¤§é‡å¯¹è±¡æ— æ³•è¢«å›æ”¶ã€‚\n1 2 3 4 5 6 7 8 9 public class Cache { private static Dictionary\u0026lt;string, object\u0026gt; cache = new Dictionary\u0026lt;string, object\u0026gt;(); public static void AddToCache(string key, object value) { cache[key] = value; } } é¿å…å†…å­˜æ³„æ¼çš„æ–¹æ³• åŠæ—¶è§£é™¤äº‹ä»¶è®¢é˜… åœ¨ä¸å†éœ€è¦äº‹ä»¶å¤„ç†æ—¶ï¼ŒåŠæ—¶è§£é™¤è®¢é˜…ã€‚\n1 2 3 4 public void Unsubscribe(Publisher pub) { pub.MyEvent -= HandleEvent; } ä½¿ç”¨å¼±å¼•ç”¨ï¼ˆWeakReferenceï¼‰ å¯¹äºç¼“å­˜æˆ–é•¿æ—¶é—´å­˜åœ¨çš„å¼•ç”¨ï¼Œä½¿ç”¨WeakReferenceå¯ä»¥å…è®¸GCå›æ”¶ä¸å†ä½¿ç”¨çš„å¯¹è±¡ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 private static Dictionary\u0026lt;string, WeakReference\u0026gt; cache = new Dictionary\u0026lt;string, WeakReference\u0026gt;(); public static void AddToCache(string key, object value) { cache[key] = new WeakReference(value); } public static object GetFromCache(string key) { if (cache.TryGetValue(key, out var weakRef) \u0026amp;\u0026amp; weakRef.IsAlive) { return weakRef.Target; } return null; } æ­£ç¡®å®ç°IDisposable å¯¹äºå®ç°IDisposableæ¥å£çš„å¯¹è±¡ï¼Œä½¿ç”¨usingè¯­å¥æˆ–æ‰‹åŠ¨è°ƒç”¨Disposeæ–¹æ³•æ¥é‡Šæ”¾èµ„æºã€‚\n1 2 3 4 5 6 7 8 public void ProcessData() { using (var stream = new FileStream(\u0026#34;data.txt\u0026#34;, FileMode.Open)) { // Use the stream } // stream is automatically disposed here } å®šæœŸæ¸…ç†é•¿æ—¶é—´å­˜åœ¨çš„é›†åˆ å¯¹äºé•¿æ—¶é—´å­˜åœ¨çš„é›†åˆæˆ–ç¼“å­˜ï¼Œå®šæœŸæ¸…ç†ä¸å†ä½¿ç”¨çš„å¯¹è±¡ã€‚\n1 2 3 4 public static void ClearCache() { cache.Clear(); } é€šè¿‡ä»¥ä¸Šæ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘æˆ–é¿å…C#ä¸­çš„å†…å­˜æ³„æ¼é—®é¢˜ï¼Œä»è€Œæå‡åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚\n","date":"2024-09-27T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/memory_leak/","title":"C#å†…å­˜æ³„æ¼"},{"content":"åœ¨ C# ä¸­ï¼ŒInvoke() æ˜¯ä¸€ä¸ªç”¨äºè°ƒç”¨æ–¹æ³•çš„æ–¹æ³•ï¼Œå®ƒèƒ½å¤Ÿåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ã€‚Invokeæ–¹æ³•ä¸»è¦ç”¨äºä»¥ä¸‹å‡ ç§åœºæ™¯ï¼š\nå§”æ‰˜çš„Invoke å§”æ‰˜æ˜¯C#ä¸­çš„ä¸€ç§ç±»å‹ï¼Œå®ƒè¡¨ç¤ºå¼•ç”¨æ–¹æ³•çš„å¯¹è±¡ã€‚ä½ å¯ä»¥é€šè¿‡å§”æ‰˜æ¥è°ƒç”¨ï¼ˆæˆ–â€œè°ƒç”¨â€ï¼‰å®ƒæ‰€å¼•ç”¨çš„æ–¹æ³•ã€‚InvokeÂ æ–¹æ³•ç”¨äºæ˜¾å¼åœ°è°ƒç”¨å§”æ‰˜æ‰€å¼•ç”¨çš„æ–¹æ³•ã€‚\n1 2 3 4 5 6 7 8 9 10 11 delegate void MyDelegate(string message); class Program{ static void Main() { MyDelegate myDelegate = new MyDelegate(Hello); myDelegate.Invoke(\u0026#34;Hello, World!\u0026#34;); // æ˜¾å¼è°ƒç”¨ myDelegate(\u0026#34;Hello, World!\u0026#34;); // éšå¼è°ƒç”¨ï¼Œæ•ˆæœä¸ä¸Šé¢çš„Invokeç›¸åŒ } static void Hello(string message) { Console.WriteLine(message); } } åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ŒmyDelegate.Invoke(\u0026quot;Hello, World!\u0026quot;)Â å’ŒÂ myDelegate(\u0026quot;Hello, World!\u0026quot;)Â æ˜¯ç­‰æ•ˆçš„ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬æ›´å€¾å‘äºä½¿ç”¨éšå¼è°ƒç”¨ï¼ˆå³ç›´æ¥ä½¿ç”¨å§”æ‰˜åå’Œæ–¹æ³•å‚æ•°ï¼‰ï¼Œå› ä¸ºå®ƒæ›´ç®€æ´ã€‚\nåå°„çš„Invoke åå°„æ˜¯.NETæ¡†æ¶æä¾›çš„ä¸€ç§åŠŸèƒ½ï¼Œå®ƒå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶æ£€æŸ¥æˆ–ä¿®æ”¹å…¶ç±»å‹ã€æˆå‘˜å’Œå±æ€§çš„è¡Œä¸ºã€‚ä½¿ç”¨åå°„ï¼Œä½ å¯ä»¥åŠ¨æ€åœ°åˆ›å»ºå’Œè°ƒç”¨ç±»å‹ã€æ–¹æ³•ã€å±æ€§ç­‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒInvokeÂ é€šå¸¸ç”¨äºè°ƒç”¨é€šè¿‡åå°„è·å–çš„æ–¹æ³•ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 class Program { static void Main() { var type = typeof(Program); var method = type.GetMethod(\u0026#34;Hello\u0026#34;);//GetMethodåªèƒ½è·å–Publicæ–¹æ³• method.Invoke(null, new object[] { \u0026#34;Hello, Reflection!\u0026#34; }); } public static void Hello(string message) { Console.WriteLine(message); } } åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åå°„æ¥è·å–Programç±»ä¸­çš„Helloæ–¹æ³•ï¼Œå¹¶ä½¿ç”¨Invokeæ¥è°ƒç”¨å®ƒã€‚æ³¨æ„ï¼Œå½“ä½¿ç”¨åå°„è°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆå³å®ä¾‹å¯¹è±¡ï¼‰é€šå¸¸ä¸ºnullã€‚å¯¹äºå®ä¾‹æ–¹æ³•ï¼Œä½ éœ€è¦æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„å®ä¾‹å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚\nè·¨çº¿ç¨‹æ§ä»¶Invoke(Windows Forms å’Œ WPF) åœ¨ Windows Forms æˆ– WPF åº”ç”¨ç¨‹åºä¸­ï¼Œå½“éœ€è¦ä»é UI çº¿ç¨‹æ›´æ–° UI æ§ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ§ä»¶çš„ Invokeæ–¹æ³•ã€‚è¿™æ˜¯å› ä¸º UI æ§ä»¶åªèƒ½åœ¨å…¶æ‰€å±çš„ UI çº¿ç¨‹ä¸Šè¿›è¡Œæ“ä½œã€‚å¦‚æœåœ¨å…¶ä»–çº¿ç¨‹ä¸Šç›´æ¥ä¿®æ”¹æ§ä»¶çŠ¶æ€ï¼Œå¯èƒ½ä¼šå¼•å‘å¼‚å¸¸æˆ–å¯¼è‡´ä¸å¯é¢„æµ‹çš„è¡Œä¸ºã€‚\nControl.Invokeï¼ˆWindows Formsï¼‰ Dispatcher.Invokeï¼ˆWPFï¼‰ åŒæ­¥æ–¹æ³•ï¼Œè°ƒç”¨åä¼šé˜»å¡è°ƒç”¨çº¿ç¨‹ï¼Œç›´åˆ°åœ¨ UI çº¿ç¨‹ä¸Šæ‰§è¡Œå®ŒæŒ‡å®šå§”æ‰˜å¹¶è¿”å›ç»“æœã€‚ å¼‚æ­¥å§”æ‰˜è°ƒç”¨ BeginInvoke (Windows Forms å’Œ WPF) Control.BeginInvokeï¼ˆWindows Formsï¼‰ Dispatcher.BeginInvokeï¼ˆWPFï¼‰ å¼‚æ­¥æ–¹æ³•ï¼Œç«‹å³è¿”å›ï¼Œä¸ä¼šé˜»å¡è°ƒç”¨çº¿ç¨‹ã€‚æŒ‡å®šçš„å§”æ‰˜å°†åœ¨ UI çº¿ç¨‹ä¸Šå¼‚æ­¥æ‰§è¡Œã€‚ äº‹ä»¶å’Œå›è°ƒ åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒInvokeå¯èƒ½è¢«ç”¨ä½œäº‹ä»¶å¤„ç†æˆ–å›è°ƒæœºåˆ¶çš„ä¸€éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼‚æ­¥ç¼–ç¨‹æˆ–å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œå½“æŸä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå¯èƒ½éœ€è¦é€šè¿‡Invokeæ¥è°ƒç”¨ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæˆ–å›è°ƒå‡½æ•°ã€‚\n","date":"2024-09-26T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/c%23invoke/","title":"C# Invoke"},{"content":"C++ ç¼–è¯‘è¿‡ç¨‹ C++ æ˜¯ä¸€é—¨é«˜æ€§èƒ½ç¼–ç¨‹è¯­è¨€ï¼Œå®ƒè¢«å¹¿æ³›åº”ç”¨äºä¸–ç•Œæœ€å‰æ²¿çš„æŠ€æœ¯åº”ç”¨å½“ä¸­â€”â€”ä»æ•°æ®æŒ–æ˜ã€å¤§æ•°æ®ï¼Œåˆ°è‡ªåŠ¨é©¾é©¶æ±½è½¦ã€æœºå™¨äººï¼Œå†åˆ°ç”µå­æ¸¸æˆå’Œè§†é¢‘å¤„ç†ï¼ŒC++ çš„èº«å½±å¯è°“æ— å¤„ä¸åœ¨ã€‚ä½œä¸ºä¸€å C++ ç¨‹åºå‘˜ï¼Œä½ å·²ç»ç›¸å½“ç²¾é€šè¿™é—¨è¯­è¨€ï¼Œå¯¹å¤šçº¿ç¨‹å’Œå¹¶è¡Œç¼–ç¨‹ç­‰ä¸»é¢˜ä¹Ÿæœ‰äº†ä¸€å®šçš„äº†è§£ã€‚ä½†ä½ æ˜¯å¦æ›¾ç»æ­å¼€è¿‡ç¼–è¯‘å™¨é‚£ç¥ç§˜çš„é¢çº±ï¼Œæ˜¯å¦å¥½å¥‡è¿‡åœ¨ç¼–è¯‘æœŸé—´åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿ\nè¿™æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—è®¨è®ºçš„é—®é¢˜ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« é‡Œï¼Œæˆ‘ä»¬å°†è¯¦ç»†èŠèŠä½ æœ€éœ€è¦äº†è§£çš„å‡ ä¸ªé‡ç‚¹ç»†èŠ‚ã€‚å¯¹ç¼–è¯‘å™¨å†…éƒ¨å·¥ä½œåŸç†çš„äº†è§£èƒ½å¸®ä½ æ›´æ·±åˆ»åœ°ç†è§£ä»£ç ï¼Œé¿å¼€è®¸å¤šå¸¸è§çš„â€œå‘â€ï¼Œä»è€Œè¿›ä¸€æ­¥æé«˜ä½ çš„ç¼–ç¨‹æ°´å¹³ã€‚\nç¼–è¯‘æµç¨‹ ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ‰“å¼€ç¼–è¯‘å™¨çš„â€œå°é»‘ç›’â€ï¼Œç”¨æœ€ç®€æ˜çš„åŠæ³•æ¥è§£é‡Š C++ ç¼–è¯‘å™¨åˆ°åº•éƒ½å¯¹ä½ çš„ä»£ç æ–½äº†ä»€ä¹ˆâ€œé­”æ³•â€å§ã€‚\nä½œä¸ºä¸€é—¨é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼ŒC++ è®©ç¨‹åºå‘˜çš„ç¼–ç¨‹å·¥ä½œå˜å¾—æ›´åŠ å®¹æ˜“â€”â€”ä½çº§æœºå™¨è¯­è¨€ä¸€æ¿ä¸€çœ¼çš„æœ¬æ€§éš¾ä»¥ç”¨äºç¼–å†™è¶³å¤Ÿå¤æ‚çš„ç°ä»£åº”ç”¨ç¨‹åºã€‚ç¼–è¯‘å™¨é€šè¿‡å°† C++ æºç è½¬æ¢æˆè®¡ç®—æœºå¯ä»¥æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¡«è¡¥äº†é«˜çº§ C++ è¯­è¨€å’Œæœºå™¨è¯­è¨€ä¹‹é—´çš„ç©ºç™½ã€‚\næ€»çš„æ¥è¯´ï¼Œç¼–è¯‘è¿‡ç¨‹è¿˜æ¯”è¾ƒå¤æ‚ï¼Œä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š\né¢„å¤„ç† Preprocessing åœ¨å®é™…ç¼–è¯‘å·¥ä½œå¼€å§‹ä¹‹å‰ï¼Œé¢„å¤„ç†å™¨æŒ‡ä»¤æŒ‡ç¤ºç¼–è¯‘å™¨å¯¹æºç è¿›è¡Œä¸´æ—¶æ‰©å……ï¼Œä»¥ä¸ºä¹‹åçš„æ­¥éª¤åšå¥½å‡†å¤‡ã€‚\nåœ¨ C++ ä¸­ï¼Œé¢„å¤„ç†å™¨æŒ‡ä»¤ä»¥ # å·å¼€å¤´ï¼Œæ¯”å¦‚ #includeã€#define å’Œ #if ç­‰ã€‚åœ¨è¿™ä¸€é˜¶æ®µï¼Œç¼–è¯‘å™¨é€ä¸ªå¤„ç† C++ æºç æ–‡ä»¶ã€‚å¯¹äº #define æŒ‡ä»¤ï¼Œç¼–è¯‘å™¨å°†æºç ä¸­çš„å®æ›¿æ¢æˆå®å®šä¹‰ä¸­çš„å†…å®¹ï¼›å¯¹äº #ifã€#ifdef å’Œ #ifndef æŒ‡ä»¤ï¼Œç¼–è¯‘å™¨å°†æœ‰é€‰æ‹©åœ°è·³è¿‡æˆ–é€‰ä¸­éƒ¨åˆ†æºä»£ç ï¼›è€Œå¯¹äº #include æŒ‡ä»¤ï¼Œç¼–è¯‘å™¨å°†æŠŠå¯¹åº”çš„åº“çš„æºç æ’å…¥åˆ°å½“å‰æºä»£ç ä¸­â€”â€”è¿™é€šå¸¸æ˜¯ä¸€äº›é€šç”¨çš„å£°æ˜ã€‚è¢« #include æŒ‡ä»¤å¼•å…¥çš„å¤´æ–‡ä»¶ï¼ˆ .h ï¼‰å¾€å¾€ä¼šåŒ…å«å¤§é‡çš„ä»£ç ï¼Œä½ å¼•å…¥çš„è¶Šå¤šï¼Œæœ€åç”Ÿæˆçš„é¢„ç¼–è¯‘æ–‡ä»¶å°±è¶Šå¤§ã€‚æ€»çš„æ¥è¯´ï¼Œé¢„ç¼–è¯‘è¿‡çš„æ–‡ä»¶ä¼šæ¯”åŸæ¥çš„ C++ æºç æ›´å¤§ä¸€äº›ã€‚\né€šè¿‡ä¸Šé¢è¿™äº›æ›¿æ¢å’Œæ’å…¥æ“ä½œï¼Œé¢„å¤„ç†å™¨äº§ç”Ÿçš„æ˜¯è¢«åˆä¸ºä¸€ä½“çš„è¾“å‡ºæ–‡ä»¶ã€‚é¢„å¤„ç†å™¨è¿˜ä¼šåœ¨ä»£ç ä¸­æ’å…¥è®°å·ï¼Œä½¿ç¼–è¯‘å™¨èƒ½åˆ†è¾¨å‡ºæ¯ä¸€è¡Œæ¥è‡ªå“ªä¸ªæ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­èƒ½ç”Ÿæˆå¯¹åº”çš„é”™è¯¯ä¿¡æ¯ã€‚åœ¨å¼€å‘è°ƒè¯•ä½ çš„ C++ ç¨‹åºæ—¶ï¼Œè¿™äº›é”™è¯¯ä¿¡æ¯èƒ½ç»™ä½ å¾ˆå¤šå¸®åŠ©ã€‚\nç¼–è¯‘å’Œæ±‡ç¼– Compilation \u0026amp; assembly åœ¨è¿™ä¸€é˜¶æ®µï¼Œç¼–è¯‘å™¨é€šè¿‡ä¸¤ä¸ªè¿ç»­çš„æ­¥éª¤ï¼Œå°†é¢„å¤„ç†å™¨äº§ç”Ÿçš„ä»£ç ç¼–è¯‘æˆç›®æ ‡æ–‡ä»¶ï¼ˆobject fileï¼‰ã€‚\né¦–å…ˆï¼Œç¼–è¯‘å™¨å°†å»é™¤äº†é¢„ç¼–å¤„ç†å™¨æŒ‡ä»¤çš„çº¯ C++ ä»£ç ç¼–è¯‘æˆåº•å±‚æ±‡ç¼–ä»£ç ã€‚åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œç¼–è¯‘å™¨ä¼šå¯¹ä»£ç è¿›è¡Œæ£€æŸ¥ä¼˜åŒ–ï¼ŒæŒ‡å‡ºè¯­æ³•é”™è¯¯ã€é‡è½½å†³è®®é”™è¯¯åŠå…¶ä»–å„ç§ç¼–è¯‘é”™è¯¯ã€‚åœ¨ C++ ä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡åªå£°æ˜ï¼Œä¸è¿›è¡Œå®šä¹‰ï¼Œç¼–è¯‘å™¨ä»ç„¶å¯ä»¥ä»æºä»£ç äº§ç”Ÿç›®æ ‡æ–‡ä»¶â€”â€”å› ä¸ºè¿™ä¸ªå¯¹è±¡ä¹Ÿå¯ä»¥æŒ‡å‘æŸäº›å½“å‰ä»£ç ä¸­è¿˜æœªå®šä¹‰çš„æ ‡è¯†ç¬¦ã€‚\nå…¶æ¬¡ï¼Œæ±‡ç¼–å™¨å°†ä¸Šä¸€æ­¥ç”Ÿæˆçš„æ±‡ç¼–ä»£ç é€è¡Œè½¬æ¢æˆå­—èŠ‚ç ï¼ˆä¹Ÿå°±æ˜¯æœºå™¨ç ï¼‰ã€‚å®é™…ä¸Šï¼Œå¦‚æœä½ å¸Œæœ›æŠŠä»£ç çš„ä¸åŒéƒ¨åˆ†åˆ†å¼€ç¼–è¯‘çš„è¯ï¼Œç¼–è¯‘è¿‡ç¨‹åœ¨è¿™ä¸€æ­¥ä¹‹åå°±å¯ä»¥åœæ­¢äº†ã€‚è¿™ä¸€æ­¥ç”Ÿæˆçš„ç›®æ ‡æ–‡ä»¶å¯ä»¥è¢«æ”¾åœ¨è¢«ç§°ä¸ºé™æ€åº“çš„åŒ…ä¸­ï¼Œä»¥å¤‡åç»­ä½¿ç”¨â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ åªä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œä½ å¹¶ä¸éœ€è¦é‡æ–°ç¼–è¯‘æ•´ä¸ªé¡¹ç›®çš„æºä»£ç ã€‚\né“¾æ¥ Linking é“¾æ¥å™¨åˆ©ç”¨ç¼–è¯‘å™¨äº§ç”Ÿçš„ç›®æ ‡æ–‡ä»¶ï¼Œç”Ÿæˆæœ€ç»ˆç»“æœã€‚\nåœ¨è¿™ä¸€é˜¶æ®µï¼Œç¼–è¯‘å™¨å°†æŠŠä¸Šä¸€é˜¶æ®µä¸­ç¼–è¯‘å™¨äº§ç”Ÿçš„å„ç§ç›®æ ‡æ–‡ä»¶é“¾æ¥èµ·æ¥ï¼Œå°†æœªå®šä¹‰æ ‡è¯†ç¬¦çš„å¼•ç”¨å…¨éƒ¨æ›¿æ¢æˆå®ƒä»¬å¯¹åº”çš„æ­£ç¡®åœ°å€ã€‚æ²¡æœ‰æŠŠç›®æ ‡æ–‡ä»¶é“¾æ¥èµ·æ¥ï¼Œå°±æ— æ³•ç”Ÿæˆèƒ½å¤Ÿæ­£å¸¸å·¥ä½œçš„ç¨‹åºâ€”â€”å°±åƒä¸€é¡µæ²¡æœ‰é¡µç çš„ç›®å½•ä¸€æ ·ï¼Œæ²¡ä»€ä¹ˆç”¨å¤„ã€‚å®Œæˆé“¾æ¥å·¥ä½œä¹‹åï¼Œé“¾æ¥å™¨æ ¹æ®ç¼–è¯‘ç›®çš„ä¸åŒï¼ŒæŠŠé“¾æ¥çš„ç»“æœç”Ÿæˆä¸ºä¸€ä¸ªåŠ¨æ€é“¾æ¥åº“ï¼Œæˆ–æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚\né“¾æ¥çš„è¿‡ç¨‹ä¹Ÿä¼šæŠ›å‡ºå„ç§å¼‚å¸¸ï¼Œé€šå¸¸æ˜¯é‡å¤å®šä¹‰æˆ–è€…ç¼ºå¤±å®šä¹‰ç­‰é”™è¯¯ã€‚ä¸åªæ˜¯æ²¡è¿›è¡Œå®šä¹‰çš„æƒ…å†µï¼Œå¦‚æœä½ å¿˜è®°å°†å¯¹æŸä¸ªåº“æˆ–æ˜¯ç›®æ ‡æ–‡ä»¶çš„å¼•ç”¨å¯¼å…¥è¿›æ¥ï¼Œè®©é“¾æ¥å™¨èƒ½æ‰¾åˆ°å®šä¹‰çš„è¯ï¼Œä¹Ÿä¼šå‘ç”Ÿè¿™ç±»é”™è¯¯ã€‚é‡å¤å®šä¹‰åˆ™åˆšå¥½ç›¸åï¼Œå½“æœ‰ä¸¤ä¸ªåº“æˆ–ç›®æ ‡æ–‡ä»¶ä¸­å«æœ‰å¯¹åŒä¸€ä¸ªæ ‡è¯†ç¬¦çš„å®šä¹‰æ—¶ï¼Œå°±å¯èƒ½å‡ºç°é‡å¤å®šä¹‰é”™è¯¯ã€‚\nç†è§£ç¼–è¯‘è¿‡ç¨‹æœ‰ä»€ä¹ˆç”¨ï¼Ÿ å½“ä½ å¯¹ç¼–è¯‘è¿‡ç¨‹çš„å„ä¸ªé˜¶æ®µæœ‰äº†æ–°çš„ç†è§£ï¼Œä½ å°±èƒ½æ›´å¥½åœ°ç†è§£ç¼–è¯‘é”™è¯¯æˆ–è¿æ¥é”™è¯¯äº§ç”Ÿçš„åŸå› ï¼Œå¹¶é¿å…è¿™äº›ä¸ç¼–è¯‘ç›¸å…³çš„æ½œåœ¨é—®é¢˜ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ ç†è§£äº†é¢„å¤„ç†è¿‡ç¨‹ï¼Œä½ å°±èƒ½åˆ©ç”¨å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦ï¼ˆç”¨äºä¿æŠ¤å¤´æ–‡ä»¶å†…å®¹ä¸è¢«é”™è¯¯åœ°å¤šæ¬¡åŒ…å«çš„é¢„ç¼–è¯‘å™¨æŒ‡ä»¤ï¼‰é˜²æ­¢ä¸€äº›ç¼–è¯‘é”™è¯¯çš„å‡ºç°ã€‚\nå¯¹ C++ ç¼–è¯‘ç»†èŠ‚çš„å……åˆ†äº†è§£ï¼Œèƒ½ä½¿ä½ ä»ä¸€ä¸ªå®Œå…¨ä¸åŒçš„è§’åº¦çœ‹å¾…æ•´ä¸ªç¼–ç¨‹è¿‡ç¨‹ï¼Œä¹Ÿè®©ä½ å¯¹åŸå…ˆä»¥ä¸ºæ˜¯ç†æ‰€å½“ç„¶çš„ç¼–è¯‘è¿‡ç¨‹æœ‰äº†æ–°çš„è®¤è¯†ã€‚\nå¦‚ä½•ä½¿ç”¨ C++ ç¼–è¯‘å™¨ æ„å»ºå¹¶è¿è¡Œä¸€ä¸ª C++ ç¨‹åºæ‰€éœ€çš„åŸºæœ¬æ­¥éª¤æœ‰ï¼š\nä½¿ç”¨ä¸€ä¸ªç¼–è¾‘å™¨æˆ–æ˜¯ç¼–ç¨‹ç¯å¢ƒï¼ˆIDEï¼‰ï¼Œæ„å»ºä¸€ä¸ªè¯­æ³•æ­£ç¡®çš„ C++ æºæ–‡ä»¶ã€‚ è¿è¡Œç¼–è¯‘å™¨å¯¹æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚ è¿è¡Œç”Ÿæˆçš„æ–‡ä»¶ã€‚ ç¼–è¯‘å™¨çš„ç‰¹æ€§å·®å¼‚å¾ˆå¤§ï¼Œå³ä½¿åœ¨åŒä¸€ä¸ªç¼–è¯‘å™¨çš„ä¸åŒç‰ˆæœ¬ä¹‹é—´ä¹Ÿæ˜¯è¿™æ ·ï¼›åŒæ ·ï¼Œå®ƒä»¬çš„é€‰é¡¹ä¹Ÿéå¸¸ä¸°å¯Œï¼Œæ¯”å¦‚åœ¨ä»£ç ç”Ÿæˆã€è°ƒè¯•ã€æµ®ç‚¹æ•°è¡Œä¸ºã€åº“å¤„ç†ç­‰æ–¹é¢ï¼Œéƒ½æœ‰ç€ç›¸å½“å¤šçš„é€‰é¡¹ã€‚\nC++ ç¼–è¯‘å™¨çºµè§ˆ ç°åœ¨ä½ å·²ç»å¯¹ C++ çš„ç¼–è¯‘æœ‰äº†ä¸€å®šçš„äº†è§£ï¼Œé‚£ä¹ˆä½ è¯¥ç”¨å“ªç§ç¼–è¯‘å™¨å‘¢ï¼Ÿ\næ€»ä½“ä¸Šè¯´ï¼Œä½ å¯ä»¥æŒ‰ç¼–è¯‘å™¨çš„è®¸å¯ç±»å‹ï¼ˆå…è´¹æˆ–æ˜¯æ”¶è´¹ï¼‰ï¼Œä½¿ç”¨æ–¹å¼ï¼ˆæœ¬åœ°å®‰è£…æˆ–æ˜¯åœ¨çº¿ç¼–è¯‘ï¼‰ä»¥åŠæ‰€æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼ˆWindowsã€OS X æˆ– Linuxï¼‰æ¥åˆ†ç±»ã€‚\nä¸‹é¢æ˜¯å‡ ç‚¹å»ºè®®ï¼š\nå¦‚æœä½ åœ¨ Linux ä¸Šè¿›è¡Œç¼–ç¨‹ï¼Œ**GNU ç¼–è¯‘å™¨å¥—è£…ï¼ˆGCCï¼‰**æ˜¯ä¸ªéå¸¸æµè¡Œçš„é€‰é¡¹ã€‚å®ƒæ˜¯å…è´¹çš„ï¼Œè€Œä¸”ä½ æ‰€ç”¨çš„ Linux å‘è¡Œç‰ˆçš„è½¯ä»¶åŒ…ä»“åº“é‡Œé€šå¸¸å°±æœ‰ã€‚ å¯¹äº macOS æ¥è¯´ï¼ŒClang æ˜¯ä¸ªé»˜è®¤é€‰é¡¹ï¼Œå®ƒéš Xcode çš„å‘½ä»¤è¡Œå·¥å…·ä¸€èµ·å®‰è£…ã€‚ä½¿ç”¨ Clang ä¹Ÿæ˜¯å…è´¹çš„ã€‚ Cygwin é¡¹ç›®ä¸º Windows ç³»ç»Ÿæä¾›äº†ä¸€ç³»åˆ— Linux å·¥å…·é›†ï¼ŒåŒ…æ‹¬ GCC åœ¨å†…ã€‚ä½ å¯ä»¥ä½¿ç”¨ Cygwin æ¥è¿è¡Œ GCC æˆ– Clangï¼Œä½†è¯·æ³¨æ„ï¼Œç”¨è¿™ç§æ–¹å¼ç”Ÿæˆçš„ä»£ç éœ€è¦ Cygwin æ‰èƒ½è¿è¡Œã€‚ Windows ç³»ç»Ÿçš„å¦å¤–ä¸€ç§é€‰æ‹©æ˜¯ MinGWï¼Œå®ƒä¸ä¾èµ–äº Cygwinï¼Œè€Œä¸”èƒ½ç”Ÿæˆå¯åŸç”Ÿåœ¨ Windows ä¸Šè¿è¡Œçš„å¯æ‰§è¡Œç¨‹åºã€‚ æœ‰äº› IDE æœ¬èº«åœ¨ä»£ç ç¼–è¾‘å™¨ä¹‹å¤–å°±å·²ç»åŒ…å«äº†ç¼–è¯‘å™¨ã€‚æ¯”å¦‚ macOS ä¸Šçš„ Xcodeï¼Œä»¥åŠ Windows ä¸Šçš„ Visual Studio ç­‰ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰è®¸å¤šä¸“ä¸šåŒ–çš„ç¼–è¯‘å™¨ï¼Œæ¯”å¦‚è‹±ç‰¹å°” C++ ç¼–è¯‘å™¨ç­‰ï¼Œä¸ºç‰¹å®šçš„éœ€æ±‚ä¸“é—¨å®šåˆ¶äº†ä¸€äº›ç‰¹æ€§ã€‚æ¯”å¦‚ï¼Œè‹±ç‰¹å°”çš„ç¼–è¯‘å™¨åœ¨è‡ªå®¶çš„å¤„ç†å™¨ä¸Šèƒ½æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å¤šæ ¸å¿ƒæ¶æ„ï¼Œäº§ç”Ÿçš„ä»£ç åœ¨è‹±ç‰¹å°”çš„ç¡¬ä»¶ä¸Šè¿è¡Œé€Ÿåº¦æ›´å¿«ã€‚è¿™ç±»ä¸“ä¸šåŒ–çš„ç¼–è¯‘å™¨å¸¸å¸¸éœ€è¦ç”¨æˆ·è´­ä¹°ä»·æ ¼ä¸è²çš„æˆæƒæ‰èƒ½ä½¿ç”¨ã€‚\nå¦‚æœä½ å‘ç°è‡ªå·±æ­£åœ¨è€ƒè™‘ä½¿ç”¨æŸç§ä¸æ˜¯å¾ˆæµè¡Œçš„ç¼–è¯‘å™¨ï¼Œè¯·è®¤çœŸäº†è§£å®ƒçš„æ ‡å‡†ä¾ä»æ€§ã€‚é¿å…ä½¿ç”¨é‚£äº›ä¸ç¬¦åˆ ISO æ ‡å‡†ï¼Œæˆ–ä¸æä¾›å¯é å®ç°çš„æ ‡å‡†åº“çš„ç¼–è¯‘å™¨ã€‚è¿™é‡Œæåˆ°çš„â€œæ ‡å‡†åº“â€æ˜¯ C++ è‡ªå¸¦çš„å¤§é‡åº“æ–‡ä»¶ï¼›è€Œâ€œåº“æ–‡ä»¶â€ï¼Œåˆ™æ˜¯å·²ç»â€œæ‰“åŒ…â€å¥½ï¼Œå¯ä»¥åœ¨å…¶ä»–ç¨‹åºä¸­é‡å¤ä½¿ç”¨çš„é¢„ç¼–è¯‘ä»£ç çš„é›†åˆã€‚\næœ‰äº›ç¼–è¯‘å™¨å’Œåº“æ–‡ä»¶ä¸€èµ·è¢«åµŒå…¥åœ¨è½¯ä»¶å¼€å‘å·¥å…·ï¼ˆIDEï¼‰æä¾›çš„æ¡†æ¶ä¸­ã€‚è¿™äº›æ¡†æ¶å¾ˆæœ‰ç”¨ï¼Œä½†å¦‚æœä½ æ‰“ç®—æ›´æ¢ä½ çš„å·¥å…·é“¾ï¼Œä½ å¯èƒ½å¾ˆéš¾è„±ç¦»å®ƒä»¬ã€‚\nåœ¨çº¿ C++ ç¼–è¯‘å™¨ åœ¨çº¿ç¼–è¯‘å™¨æ˜¯ç§å¾ˆæœ‰ç”¨çš„å·¥å…·ï¼Œå®ƒèƒ½è®©ä½ å¿«é€Ÿç¼–è¯‘ä»£ç ï¼Œè€Œä¸éœ€è¦åœ¨ç”µè„‘ä¸Šå®‰è£…å®Œæ•´çš„ç¼–è¯‘å·¥å…·é“¾ã€‚è¿™è®©ç¨‹åºå‘˜èƒ½æ›´è½»æ˜“çš„æ‘†å¼„ä»£ç ï¼Œç†Ÿæ‚‰æœ€æ–°çš„è¯­è¨€ç‰¹æ€§ï¼Œæˆ–æ˜¯åœ¨çº¿åˆ†äº«ä»£ç ç‰‡æ®µï¼Œå®æ—¶åˆä½œç¼–è¾‘ï¼Œä»¥åŠæµ‹è¯•å„ç§ä¸åŒçš„ç¼–è¯‘å™¨ç­‰ã€‚é™¤äº†ç‹­ä¹‰çš„â€œç¼–è¯‘â€åŠŸèƒ½ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†åœ¨çº¿ç¼–è¯‘å™¨è¿˜ä¼šæ‰§è¡Œç¼–è¯‘å®Œçš„ç¨‹åºï¼Œå¹¶å°†è¾“å‡ºç»“æœæ˜¾ç¤ºå‡ºæ¥ã€‚\nå’Œç¦»çº¿ç¼–è¯‘å™¨ä¸€æ ·ï¼Œåœ¨çº¿ç¼–è¯‘å™¨æ”¯æŒçš„ C++ æ ‡å‡†ç‰ˆæœ¬å’Œæä¾›çš„ç‰¹æ€§ä¹Ÿåƒå·®ä¸‡åˆ«ï¼Œä»ä½¿ç”¨ flag æ ‡è¯†æ¥å®šä¹‰ç¼–è¯‘å‚æ•°ï¼Œåˆ°å¤„ç†æ ‡å‡†è¾“å…¥å¹¶ä¼ å…¥å‘½ä»¤è¡Œå’Œè¿è¡Œæ—¶å‚æ•°ç­‰å¾…ï¼Œä¸ä¸€è€Œè¶³ã€‚\nå¸¸ç”¨çš„åœ¨çº¿ç¼–è¯‘å™¨æœ‰ä¸‹é¢è¿™å‡ ä¸ªï¼š\nCompile Explorer Repl.it IDEone Codepad ä½ è¿˜å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°å…³äºæ›´å¤šåœ¨çº¿ç¼–è¯‘å™¨çš„åˆ—è¡¨ï¼Œå·²æŒ‰ç‰¹æ€§è¿›è¡Œåˆ†ç±»ã€‚\n","date":"2024-09-25T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/cppcompile/","title":"Cppç¼–è¯‘"},{"content":"C++ä¸­åŸºç±»çš„ææ„å‡½æ•°ä¸ºä»€ä¹ˆè¦ç”¨virtualè™šææ„å‡½æ•°ï¼Ÿ\nå¤§å®¶çŸ¥é“ï¼Œææ„å‡½æ•°æ˜¯ä¸ºäº†åœ¨å¯¹è±¡ä¸è¢«ä½¿ç”¨ä¹‹åé‡Šæ”¾å®ƒçš„èµ„æºï¼Œè™šå‡½æ•°æ˜¯ä¸ºäº†å®ç°å¤šæ€ã€‚é‚£ä¹ˆæŠŠææ„å‡½æ•°å£°æ˜ä¸ºvitualæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ ç›´æ¥çš„è®²ï¼ŒC++ä¸­åŸºç±»é‡‡ç”¨virtualè™šææ„å‡½æ•°æ˜¯ä¸ºäº†é˜²æ­¢å†…å­˜æ³„æ¼ã€‚å…·ä½“åœ°è¯´ï¼Œå¦‚æœæ´¾ç”Ÿç±»ä¸­ç”³è¯·äº†å†…å­˜ç©ºé—´ï¼Œå¹¶åœ¨å…¶ææ„å‡½æ•°ä¸­å¯¹è¿™äº›å†…å­˜ç©ºé—´è¿›è¡Œé‡Šæ”¾ã€‚å‡è®¾åŸºç±»ä¸­é‡‡ç”¨çš„æ˜¯éè™šææ„å‡½æ•°ï¼Œå½“åˆ é™¤åŸºç±»æŒ‡é’ˆæŒ‡å‘çš„æ´¾ç”Ÿç±»å¯¹è±¡æ—¶å°±ä¸ä¼šè§¦å‘åŠ¨æ€ç»‘å®šï¼Œå› è€Œåªä¼šè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œè€Œä¸ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ã€‚é‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ´¾ç”Ÿç±»ä¸­ç”³è¯·çš„ç©ºé—´å°±å¾—ä¸åˆ°é‡Šæ”¾ä»è€Œäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚æ‰€ä»¥ï¼Œä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼ŒC++ä¸­åŸºç±»çš„ææ„å‡½æ•°åº”é‡‡ç”¨virtualè™šææ„å‡½æ•°ã€‚\nè¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 #include \u0026lt;iostream\u0026gt; using namespace std; class Base { public: Base() {}; // Baseçš„æ„é€ å‡½æ•° ~Base() // Baseçš„ææ„å‡½æ•° { cout \u0026lt;\u0026lt; \u0026#34;Output from the destructor of class Base!\u0026#34; \u0026lt;\u0026lt; endl; }; // virtual ~Base() // Baseçš„ææ„å‡½æ•° // { // cout \u0026lt;\u0026lt; \u0026#34;Output from the destructor of class Base!\u0026#34; \u0026lt;\u0026lt; endl; // }; virtual void DoSomething() { cout \u0026lt;\u0026lt; \u0026#34;Do something in class Base!\u0026#34; \u0026lt;\u0026lt; endl; }; }; class Derived : public Base { public: Derived() {}; // Derivedçš„æ„é€ å‡½æ•° ~Derived() // Derivedçš„ææ„å‡½æ•° { cout \u0026lt;\u0026lt; \u0026#34;Output from the destructor of class Derived!\u0026#34; \u0026lt;\u0026lt; endl; }; void DoSomething() { cout \u0026lt;\u0026lt; \u0026#34;Do something in class Derived!\u0026#34; \u0026lt;\u0026lt; endl; }; }; int main() { Derived *pTest1 = new Derived(); // Derivedç±»çš„æŒ‡é’ˆ pTest1-\u0026gt;DoSomething(); delete pTest1; cout \u0026lt;\u0026lt; endl; Base *pTest2 = new Derived(); // Baseç±»çš„æŒ‡é’ˆ pTest2-\u0026gt;DoSomething(); delete pTest2; return 0; } å…ˆçœ‹ç¨‹åºè¾“å‡ºç»“æœï¼š\n1 2 3 4 5 6 Do something in class Derived! Output from the destructor of class Derived! Output from the destructor of class Base! Do something in class Derived! Output from the destructor of class Base! å¯ä»¥æ­£å¸¸é‡Šæ”¾pTest1çš„èµ„æºï¼Œè€Œæ²¡æœ‰æ­£å¸¸é‡Šæ”¾pTest2çš„èµ„æºï¼Œå› ä¸ºä»ç»“æœçœ‹Derivedç±»çš„ææ„å‡½æ•°å¹¶æ²¡æœ‰è¢«è°ƒç”¨ã€‚é€šå¸¸æƒ…å†µä¸‹ç±»çš„ææ„å‡½æ•°é‡Œé¢éƒ½æ˜¯é‡Šæ”¾å†…å­˜èµ„æºï¼Œè€Œææ„å‡½æ•°ä¸è¢«è°ƒç”¨çš„è¯å°±ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚åŸå› æ˜¯æŒ‡é’ˆpTest2æ˜¯Baseç±»å‹çš„æŒ‡é’ˆï¼Œé‡Šæ”¾pTest2æ—¶åªè¿›è¡ŒBaseç±»çš„ææ„å‡½æ•°ã€‚\nåœ¨ä»£ç ~Baseææ„å‡½æ•°å‰é¢åŠ ä¸Švirtualå…³é”®å­—åçš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 Do something in class Derived! Output from the destructor of class Derived! Output from the destructor of class Base! Do something in class Derived! Output from the destructor of class Derived! Output from the destructor of class Base! æ­¤æ—¶é‡Šæ”¾æŒ‡é’ˆpTest2æ—¶ï¼Œç”±äºBaseçš„ææ„å‡½æ•°æ˜¯virtualçš„ï¼Œå°±ä¼šå…ˆæ‰¾åˆ°å¹¶æ‰§è¡ŒDerivedç±»çš„ææ„å‡½æ•°ï¼Œç„¶åå†æ‰§è¡ŒBaseç±»çš„ææ„å‡½æ•°ï¼Œèµ„æºæ­£å¸¸é‡Šæ”¾ï¼Œé¿å…äº†å†…å­˜æ³„æ¼ã€‚\nå› æ­¤ï¼Œåªæœ‰å½“ä¸€ä¸ªç±»è¢«ç”¨æ¥ä½œä¸ºåŸºç±»çš„æ—¶å€™ï¼Œæ‰ä¼šæŠŠææ„å‡½æ•°å†™æˆè™šå‡½æ•°ã€‚\n","date":"2024-09-25T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/why_virtual_destructor/","title":"è™šææ„å‡½æ•°"},{"content":"C#ä¸­outå’Œrefä¹‹é—´çš„åŒºåˆ« é¦–å…ˆï¼šä¸¤è€…éƒ½æ˜¯æŒ‰åœ°å€ä¼ é€’çš„ï¼Œä½¿ç”¨åéƒ½å°†æ”¹å˜åŸæ¥å‚æ•°çš„æ•°å€¼ã€‚\nå…¶æ¬¡ï¼šrefå¯ä»¥æŠŠå‚æ•°çš„æ•°å€¼ä¼ é€’è¿›å‡½æ•°ï¼Œä½†æ˜¯outæ˜¯è¦æŠŠå‚æ•°æ¸…ç©ºï¼Œå°±æ˜¯è¯´ä½ æ— æ³•æŠŠä¸€ä¸ªæ•°å€¼ä»outä¼ é€’è¿›å»çš„ï¼Œoutè¿›å»åï¼Œå‚æ•°çš„æ•°å€¼ä¸ºç©ºï¼Œæ‰€ä»¥ä½ å¿…é¡»åˆå§‹åŒ–ä¸€æ¬¡ã€‚è¿™ä¸ªå°±æ˜¯ä¸¤ä¸ªçš„åŒºåˆ«ï¼Œæˆ–è€…è¯´å°±åƒæœ‰çš„ç½‘å‹è¯´çš„ï¼Œrefæ˜¯æœ‰è¿›æœ‰å‡ºï¼Œoutæ˜¯åªå‡ºä¸è¿›ã€‚\nrefï¼ˆC# å‚è€ƒï¼‰ ref å…³é”®å­—ä½¿å‚æ•°æŒ‰å¼•ç”¨ä¼ é€’ã€‚å…¶æ•ˆæœæ˜¯ï¼Œå½“æ§åˆ¶æƒä¼ é€’å›è°ƒç”¨æ–¹æ³•æ—¶ï¼Œåœ¨æ–¹æ³•ä¸­å¯¹å‚æ•°çš„ä»»ä½•æ›´æ”¹éƒ½å°†åæ˜ åœ¨è¯¥å˜é‡ä¸­ã€‚è‹¥è¦ä½¿ç”¨ ref å‚æ•°ï¼Œåˆ™æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨æ–¹æ³•éƒ½å¿…é¡»æ˜¾å¼ä½¿ç”¨ ref å…³é”®å­—ã€‚\nä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class RefExample { static void Method(ref int i) { i = 44; } static void Main() { int val = 0; Method(ref val); // val is now 44 } } ä¼ é€’åˆ° ref å‚æ•°çš„å‚æ•°å¿…é¡»æœ€å…ˆåˆå§‹åŒ–ã€‚è¿™ä¸ out ä¸åŒï¼Œåè€…çš„å‚æ•°åœ¨ä¼ é€’ä¹‹å‰ä¸éœ€è¦æ˜¾å¼åˆå§‹åŒ–ã€‚\nå°½ç®¡ ref å’Œ out åœ¨è¿è¡Œæ—¶çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œä½†åœ¨ç¼–è¯‘æ—¶çš„å¤„ç†æ–¹å¼ç›¸åŒã€‚å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•é‡‡ç”¨ ref å‚æ•°ï¼Œè€Œå¦ä¸€ä¸ªæ–¹æ³•é‡‡ç”¨ out å‚æ•°ï¼Œåˆ™æ— æ³•é‡è½½è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œä»ç¼–è¯‘çš„è§’åº¦æ¥çœ‹ï¼Œä»¥ä¸‹ä»£ç ä¸­çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå› æ­¤å°†ä¸ä¼šç¼–è¯‘ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 class CS0663_Example { // Compiler error CS0663: \u0026#34;cannot define overloaded // methods that differ only on ref and out\u0026#34;. public void SampleMethod(ref int i) { } public void SampleMethod(out int i) { } } ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•é‡‡ç”¨ ref æˆ– out å‚æ•°ï¼Œè€Œå¦ä¸€ä¸ªæ–¹æ³•ä¸é‡‡ç”¨è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™å¯ä»¥è¿›è¡Œé‡è½½ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š\n1 2 3 4 5 class RefOutOverloadExample { public void SampleMethod(int i) { } public void SampleMethod(ref int i) { } } outï¼ˆC# å‚è€ƒï¼‰ out å…³é”®å­—ä¼šå¯¼è‡´å‚æ•°é€šè¿‡å¼•ç”¨æ¥ä¼ é€’ã€‚è¿™ä¸ ref å…³é”®å­—ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äº ref è¦æ±‚å˜é‡å¿…é¡»åœ¨ä¼ é€’ä¹‹å‰è¿›è¡Œåˆå§‹åŒ–ã€‚è‹¥è¦ä½¿ç”¨ out å‚æ•°ï¼Œæ–¹æ³•å®šä¹‰å’Œè°ƒç”¨æ–¹æ³•éƒ½å¿…é¡»æ˜¾å¼ä½¿ç”¨out å…³é”®å­—ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class OutExample { static void Method(out int i) { i = 44; } static void Main() { int value; Method(out value); // value is now 44 } } å°½ç®¡ä½œä¸º out å‚æ•°ä¼ é€’çš„å˜é‡ä¸å¿…åœ¨ä¼ é€’ä¹‹å‰è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†éœ€è¦è°ƒç”¨æ–¹æ³•ä»¥ä¾¿åœ¨æ–¹æ³•è¿”å›ä¹‹å‰èµ‹å€¼ã€‚\nref å’Œ out å…³é”®å­—åœ¨è¿è¡Œæ—¶çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œä½†åœ¨ç¼–è¯‘æ—¶çš„å¤„ç†æ–¹å¼ç›¸åŒã€‚å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•é‡‡ç”¨ ref å‚æ•°ï¼Œè€Œå¦ä¸€ä¸ªæ–¹æ³•é‡‡ç”¨ out å‚æ•°ï¼Œåˆ™æ— æ³•é‡è½½è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œä»ç¼–è¯‘çš„è§’åº¦æ¥çœ‹ï¼Œä»¥ä¸‹ä»£ç ä¸­çš„ä¸¤ä¸ªæ–¹æ³•æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå› æ­¤å°†ä¸ä¼šç¼–è¯‘ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 class CS0663_Example { // Compiler error CS0663: \u0026#34;Cannot define overloaded // methods that differ only on ref and out\u0026#34;. public void SampleMethod(out int i) { } public void SampleMethod(ref int i) { } } ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªæ–¹æ³•é‡‡ç”¨ ref æˆ– out å‚æ•°ï¼Œè€Œå¦ä¸€ä¸ªæ–¹æ³•ä¸é‡‡ç”¨è¿™ä¸¤ç±»å‚æ•°ï¼Œåˆ™å¯ä»¥è¿›è¡Œé‡è½½ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n1 2 3 4 5 class RefOutOverloadExample { public void SampleMethod(int i) { } public void SampleMethod(out int i) { } } ä¸‹é¢æ˜¯æœ¬äººçš„ä¸€äº›å¿ƒå¾—ï¼š\nåŒºåˆ«ï¼š refå’Œoutçš„åŒºåˆ«åœ¨C# ä¸­ï¼Œæ—¢å¯ä»¥é€šè¿‡å€¼ä¹Ÿå¯ä»¥é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°ã€‚é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°å…è®¸å‡½æ•°æˆå‘˜æ›´æ”¹å‚æ•°çš„å€¼ï¼Œå¹¶ä¿æŒè¯¥æ›´æ”¹ã€‚è‹¥è¦é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°ï¼Œ å¯ä½¿ç”¨refæˆ–outå…³é”®å­—ã€‚refå’Œoutè¿™ä¸¤ä¸ªå…³é”®å­—éƒ½èƒ½å¤Ÿæä¾›ç›¸ä¼¼çš„åŠŸæ•ˆï¼Œå…¶ä½œç”¨ä¹Ÿå¾ˆåƒCä¸­çš„æŒ‡é’ˆå˜é‡ã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼š\n1ã€ä½¿ç”¨refå‹å‚æ•°æ—¶ï¼Œä¼ å…¥çš„å‚æ•°å¿…é¡»å…ˆè¢«åˆå§‹åŒ–ã€‚å¯¹outè€Œè¨€ï¼Œå¿…é¡»åœ¨æ–¹æ³•ä¸­å¯¹å…¶å®Œæˆåˆå§‹åŒ–ã€‚\n2ã€ä½¿ç”¨refå’Œoutæ—¶ï¼Œåœ¨æ–¹æ³•çš„å‚æ•°å’Œæ‰§è¡Œæ–¹æ³•æ—¶ï¼Œéƒ½è¦åŠ Refæˆ–Outå…³é”®å­—ã€‚ä»¥æ»¡è¶³åŒ¹é…ã€‚\n3ã€outé€‚åˆç”¨åœ¨éœ€è¦retrunå¤šä¸ªè¿”å›å€¼çš„åœ°æ–¹ï¼Œè€Œrefåˆ™ç”¨åœ¨éœ€è¦è¢«è°ƒç”¨çš„æ–¹æ³•ä¿®æ”¹è°ƒç”¨è€…çš„å¼•ç”¨çš„æ—¶å€™ã€‚\nout\næ–¹æ³•å‚æ•°ä¸Šçš„ out æ–¹æ³•å‚æ•°å…³é”®å­—ä½¿æ–¹æ³•å¼•ç”¨ä¼ é€’åˆ°æ–¹æ³•çš„åŒä¸€ä¸ªå˜é‡ã€‚å½“æ§åˆ¶ä¼ é€’å›è°ƒç”¨æ–¹æ³•æ—¶ï¼Œåœ¨æ–¹æ³•ä¸­å¯¹å‚æ•°æ‰€åšçš„ä»»ä½•æ›´æ”¹éƒ½å°†åæ˜ åœ¨è¯¥å˜é‡ä¸­ã€‚\nå½“å¸Œæœ›æ–¹æ³•è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œå£°æ˜ out æ–¹æ³•éå¸¸æœ‰ç”¨ã€‚ä½¿ç”¨ out å‚æ•°çš„æ–¹æ³•ä»ç„¶å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ã€‚ä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰ä¸€ä¸ªä»¥ä¸Šçš„ out å‚æ•°ã€‚\nè‹¥è¦ä½¿ç”¨ out å‚æ•°ï¼Œå¿…é¡»å°†å‚æ•°ä½œä¸º out å‚æ•°æ˜¾å¼ä¼ é€’åˆ°æ–¹æ³•ã€‚out å‚æ•°çš„å€¼ä¸ä¼šä¼ é€’åˆ° out å‚æ•°ã€‚\nä¸å¿…åˆå§‹åŒ–ä½œä¸º out å‚æ•°ä¼ é€’çš„å˜é‡ã€‚ç„¶è€Œï¼Œå¿…é¡»åœ¨æ–¹æ³•è¿”å›ä¹‹å‰ä¸º out å‚æ•°èµ‹å€¼ã€‚\nå±æ€§ä¸æ˜¯å˜é‡ï¼Œä¸èƒ½ä½œä¸º out å‚æ•°ä¼ é€’ã€‚\nrefæ˜¯ æœ‰è¿›æœ‰å‡ºï¼Œè€Œoutæ˜¯ åªå‡ºä¸è¿›ã€‚\n","date":"2024-09-19T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/ref_and_out/","title":"C#ä¸­outå’Œrefä¹‹é—´çš„åŒºåˆ«"},{"content":"ä¸çŸ¥é“ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™æ ·çš„å›°æƒ‘ï¼šè¿™ä¸ªå˜é‡æ€ä¹ˆå€¼è¢«æ”¹ï¼Ÿè¿™ä¸ªå€¼æ€ä¹ˆæ²¡å˜ï¼Ÿ\nä»Šå¤©å°±æ¥å’Œå¤§å®¶åˆ†äº«å¯èƒ½å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› å€¼ä¼ é€’ vs å¼•ç”¨ä¼ é€’ã€‚\nåœ¨æ­¤ä¹‹å‰æˆ‘ä»¬å…ˆå›é¡¾ä¸¤ç»„åŸºæœ¬æ¦‚å¿µï¼š\nå€¼ç±»å‹ vs å¼•ç”¨ç±»å‹\nå€¼ç±»å‹ï¼š ç›´æ¥å­˜å‚¨æ•°æ®ï¼Œæ•°æ®å­˜å‚¨åœ¨æ ˆä¸Šï¼›\nå¼•ç”¨ç±»å‹ï¼š å­˜å‚¨æ•°æ®å¯¹è±¡çš„å¼•ç”¨ï¼Œæ•°æ®å®é™…å­˜å‚¨åœ¨å †ä¸Šã€‚\nå½¢å‚ vs å®å‚\nå½¢å‚ï¼š å³å½¢å¼å‚æ•°ï¼Œè¡¨ç¤ºè°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ–¹æ³•éœ€è¦ä½ ä¼ é€’çš„å€¼ã€‚æ–¹æ³•å£°æ˜å®šä¹‰äº†å…¶å½¢å‚ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å®šä¹‰æ–¹æ³•æ—¶ï¼Œç´§è·Ÿåœ¨æ–¹æ³•ååé¢æ‹¬å·ä¸­çš„å‚æ•°åˆ—è¡¨å°±æ˜¯å½¢å‚ã€‚\nå®å‚ï¼š å³å®é™…å‚æ•°ï¼Œè¡¨ç¤ºè°ƒç”¨æ–¹æ³•æ—¶ï¼Œä½ ä¼ é€’ç»™æ–¹æ³•å½¢å‚çš„å€¼ã€‚è°ƒç”¨ä»£ç åœ¨è°ƒç”¨è¿‡ç¨‹æ—¶æä¾›å®å‚ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç´§è·Ÿåœ¨æ–¹æ³•ååé¢æ‹¬å·ä¸­çš„å‚æ•°åˆ—è¡¨å°±æ˜¯å®å‚ã€‚\nå†æ¥å›é¡¾ä¸€ä¸‹å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å†…å­˜ä¸­æ˜¯æ€ä¹ˆå­˜å‚¨çš„å‘¢ï¼Ÿ\nå¯¹äºå€¼ç±»å‹å˜é‡çš„å€¼ç›´æ¥å­˜å‚¨åœ¨æ ˆä¸­ï¼Œå¦‚ä¸‹å›¾çš„int a=10ï¼Œ10å°±ç›´æ¥å­˜åœ¨æ ˆç©ºé—´ä¸­ï¼Œè€Œå…¶æ ˆç©ºé—´å¯¹åº”çš„å†…å­˜åœ°å€ä¸º0x66666668ï¼›å¯¹äºå¼•ç”¨ç±»å‹å˜é‡æœ¬èº«å­˜å‚¨çš„æ˜¯å®ä¾‹å¯¹è±¡çš„å¼•ç”¨ï¼Œå³å®ä¾‹å¯¹è±¡åœ¨å †ä¸­çš„å®é™…å†…å­˜åœ°å€ï¼Œå› æ­¤å¼•ç”¨ç±»å‹å˜é‡æ˜¯å­˜å‚¨å…¶å®ä¾‹å¯¹è±¡çš„å¼•ç”¨äºæ ˆä¸Šï¼Œå¦‚ä¸‹å›¾ä¸­å˜é‡Test aåœ¨æ ˆä¸­å®é™…å­˜å‚¨çš„æ˜¯å®ä¾‹å¯¹è±¡Test aåœ¨å †ä¸­çš„å†…å­˜åœ°å€0x88888880ï¼Œè€Œæ ˆç©ºé—´å¯¹åº”çš„å†…å­˜åœ°å€ä¸º0x66666668ã€‚\næ ˆä¹Ÿæ˜¯æœ‰å†…å­˜åœ°å€çš„ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œæ— è®ºæ ˆç©ºé—´ä¸Šå­˜å‚¨çš„æ˜¯å€¼è¿˜æ˜¯å¼•ç”¨åœ°å€ï¼Œè¿™ä¸ªæ ˆç©ºé—´æœ¬èº«ä¹Ÿæœ‰è‡ªå·±å¯¹åº”çš„å†…å­˜åœ°å€ã€‚\nä»€ä¹ˆæ˜¯å€¼ä¼ é€’ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ\nå€¼ä¼ é€’ï¼šå¦‚æœå˜é‡æŒ‰å€¼ä¼ é€’ç»™æ–¹æ³•ï¼Œåˆ™ä¼šæŠŠå˜é‡çš„å‰¯æœ¬ä¼ é€’ç»™æ–¹æ³•ã€‚å¯¹äºå€¼ç±»å‹åˆ™æŠŠå˜é‡çš„å‰¯æœ¬ä¼ é€’ç»™æ–¹æ³•ï¼Œå¯¹äºå¼•ç”¨ç±»å‹åˆ™æŠŠå˜é‡çš„å¼•ç”¨çš„å‰¯æœ¬ä¼ é€’ç»™æ–¹æ³•ã€‚å› æ­¤è¢«è°ƒç”¨æ–¹æ³•å‚æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ç”¨äºæ¥æ”¶å­˜å‚¨å˜é‡ï¼Œå› æ­¤åœ¨æ–¹æ³•å†…éƒ¨å¯¹å˜é‡ä¿®æ”¹å¹¶ä¸ä¼šå½±å“åŸæ¥çš„å€¼ã€‚\nå¼•ç”¨ä¼ é€’ï¼šå¦‚æœå˜é‡æŒ‰å¼•ç”¨ä¼ é€’ç»™æ–¹æ³•ï¼Œåˆ™ä¼šæŠŠå˜é‡çš„å¼•ç”¨ä¼ é€’ç»™æ–¹æ³•ï¼Œå¯¹äºå€¼ç±»å‹åˆ™æŠŠå˜é‡çš„æ ˆç©ºé—´åœ°å€ä¼ é€’ç»™æ–¹æ³•ï¼Œå¯¹äºå¼•ç”¨ç±»å‹åˆ™æŠŠå˜é‡çš„å¼•ç”¨çš„æ ˆç©ºé—´åœ°å€ä¼ é€’ç»™æ–¹æ³•ã€‚å› æ­¤è¢«è°ƒç”¨æ–¹æ³•å‚æ•°ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ç”¨äºæ¥æ”¶å­˜å‚¨å˜é‡ï¼Œæ„å‘³ç€å½¢å‚ä¸å®å‚å…±åŒæŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œå› æ­¤åœ¨æ–¹æ³•å†…éƒ¨ä¿®å¯¹å˜é‡ä¿®æ”¹ä¼šå½±å“åŸæ¥çš„å€¼ã€‚\nä¸Šé¢çš„æè¿°å¯èƒ½æœ‰ç‚¹æ‹—å£ï¼Œä¸‹é¢æˆ‘ä»¬åœ¨åŸºäºå€¼ç±»å‹ã€å¼•ç”¨ç±»å‹ã€å€¼ä¼ é€’ã€å¼•ç”¨ä¼ é€’å„ç§ç»„åˆè¿›è¡Œä¸€ä¸ªè¯¦ç»†è¯´æ˜ã€‚\n01ã€å€¼ç±»å‹æŒ‰å€¼ä¼ é€’ å½“å€¼ç±»å‹æŒ‰å€¼ä¼ é€’æ—¶ï¼Œè°ƒç”¨è€…ä¼šæŠŠå€¼ç±»å‹å˜é‡çš„å‰¯æœ¬ä¼ é€’ç»™æ–¹æ³•ï¼Œå› æ­¤è¢«è°ƒç”¨æ–¹æ³•å‚æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ç”¨äºæ¥æ”¶å­˜å‚¨å˜é‡ï¼Œå› æ­¤å½“åœ¨æ–¹æ³•å†…éƒ¨å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹æ—¶å¹¶ä¸ä¼šå½±å“è°ƒç”¨è€…è°ƒç”¨å¤„çš„å€¼ç±»å‹å˜é‡ã€‚\nä¼ é€’å€¼ç±»å‹å˜é‡çš„å‰¯æœ¬å°±æ˜¯ç›¸å½“äºåœ¨æ ˆä¸Šï¼Œåˆå¤åˆ¶äº†ä¸€ä¸ªåŒæ ·çš„å€¼ï¼Œè€Œä¸”å†…å­˜åœ°å€è¿˜ä¸ä¸€æ ·ï¼Œæ‰€ä»¥äº’ä¸å½±å“ã€‚å¦‚ä¸‹å›¾æŠŠaèµ‹å€¼ç»™bï¼Œåˆ™bç›´æ¥æ–°å¼€è¾Ÿäº†ä¸€ä¸ªæ ˆç©ºé—´ï¼Œè™½ç„¶aå’Œbéƒ½æ˜¯10ï¼Œä½†æ˜¯å®ƒä»¬åœ¨ä¸åŒçš„åœ°å€ç©ºé—´ä¸­ï¼Œå› æ­¤å¦‚æœä»–ä»¬å„è‡ªè¢«ä¿®æ”¹äº†ï¼Œä¹Ÿäº’ä¸å½±å“ã€‚\nä¸‹é¢æˆ‘ä»¬å†™ä¸ªä¾‹å­æ¼”ç¤ºä¸€ä¸‹ï¼Œè¿™ä¸ªä¾‹å­å°±æ˜¯å®šä¹‰ä¸ªå˜é‡aå¹¶èµ‹å€¼ï¼Œç„¶åè°ƒç”¨ä¸€ä¸ªæ–¹æ³•æ­¤æ–¹æ³•å†…å¯¹ä¼ è¿›æ¥çš„å‚æ•°aè¿›è¡ŒåŠ 1ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 public static void ValueByValueRun() { var a = 10; Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å‰ a å€¼ï¼š{a}\u0026#34;); ChangeValueByValue(a); Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å a å€¼ï¼š{a}\u0026#34;); } public static void ChangeValueByValue(int a) { Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-æ¥æ”¶åˆ° a å€¼ï¼š{a}\u0026#34;); a = a + 1; Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-ä¿®æ”¹å a å€¼ï¼š{a}\u0026#34;); } è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\né€šè¿‡ä»£ç æ‰§è¡Œç»“æœå¯ä»¥å‘ç°ï¼Œæ–¹æ³•å†…å¯¹å˜é‡çš„ä¿®æ”¹å·²ç»ç”Ÿæ•ˆï¼Œä½†æ˜¯ä¸æ²¡æœ‰å½±å“åˆ°è°ƒç”¨è€…è°ƒç”¨å¤„çš„å˜é‡å€¼ã€‚\n02ã€å¼•ç”¨ç±»å‹æŒ‰å€¼ä¼ é€’ å½“å¼•ç”¨ç±»å‹æŒ‰å€¼ä¼ é€’æ—¶ï¼Œè°ƒç”¨è€…ä¼šæŠŠå¼•ç”¨ç±»å‹å˜é‡çš„å¼•ç”¨å‰¯æœ¬ä¼ é€’ç»™æ–¹æ³•ï¼Œå› æ­¤è¢«è°ƒç”¨æ–¹æ³•å‚æ•°ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ç”¨äºæ¥æ”¶å­˜å‚¨å˜é‡ï¼Œè€Œå¯¹äºä¸€ä¸ªå¼•ç”¨ç±»å‹å˜é‡æ¥è¯´å…¶æœ¬èº«å­˜å‚¨çš„å°±æ˜¯å¼•ç”¨ç±»å‹å®ä¾‹å¯¹è±¡çš„å¼•ç”¨å‰¯æœ¬ï¼Œè€Œæ–¹æ³•æ¥æ”¶åˆ°çš„ä¹Ÿæ˜¯æ­¤å˜é‡å¼•ç”¨çš„å‰¯æœ¬ï¼Œæ‰€ä»¥è°ƒç”¨è€…å‚æ•°å’Œè¢«è°ƒç”¨æ–¹æ³•å‚æ•°æ˜¯å¼•ç”¨äº†åŒä¸€ä¸ªå®ä¾‹å¯¹è±¡çš„ä¸¤ä¸ªå¼•ç”¨å‰¯æœ¬ã€‚å¦‚ä¸‹å›¾Test aå¯ä»¥ç†è§£ä¸ºè°ƒç”¨è€…ä¼ çš„å®å‚ï¼ŒTest bå¯ä»¥ç†è§£ä¸ºè¢«è°ƒç”¨æ–¹æ³•å®šä¹‰çš„å½¢å‚ï¼Œè¿™ä¸¤ä¸ªå‚æ•°éƒ½åªæ˜¯æŒ‡å‘å †ä¸­Test açš„å¼•ç”¨å‰¯æœ¬ã€‚\nå› æ­¤å¯ä»¥å¾—å‡ºä¸¤ä¸ªç»“è®ºï¼š\n1ã€å˜é‡aå’Œbéƒ½æ˜¯æŒ‡å‘å®ä¾‹å¯¹è±¡Test açš„å¼•ç”¨ï¼Œæ‰€ä»¥æ— è®ºå˜é‡aæˆ–bï¼Œåªè¦æœ‰ä¸€ä¸ªæ›´æ–°äº†å®ä¾‹æˆå‘˜åˆ™å¦ä¸€ä¸ªå˜é‡ä¹Ÿä¼šåŒæ­¥å‘ç”Ÿå˜åŒ–ã€‚\n2ã€è™½ç„¶å˜é‡aå’Œbéƒ½æ˜¯æŒ‡å‘å®ä¾‹å¯¹è±¡Test açš„å¼•ç”¨ï¼Œä½†æ˜¯ä»–ä»¬å­˜å‚¨åœ¨æ ˆä¸Šçš„å†…å­˜åœ°å€å´ä¸åŒï¼Œå› æ­¤å¦‚æœä»–ä»¬å„ç§é‡æ–°åˆ†é…å®ä¾‹ä¹Ÿå°±æ˜¯newä¸€ä¸ªæ–°å¯¹è±¡ï¼Œåˆ™å¦ä¸€ä¸ªå˜é‡æ— æ³•æ„ŸçŸ¥åˆ°è¿˜æ˜¯ä¿æŒåŸå› çŠ¶æ€ä¸å˜ã€‚\næˆ‘ä»¬å…ˆç”¨ä»£ç è¯´æ˜ç¬¬ä¸€ä¸ªç»“è®ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 public static void ChangeReferenceByValueRun() { var a = new Test { Age = 10 }; Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å‰ a.Age å€¼ï¼š{a.Age}\u0026#34;); ChangeReferenceByValue(a); Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å a.Age å€¼ï¼š{a.Age}\u0026#34;); } public static void ChangeReferenceByValue(Test a) { Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-æ¥æ”¶åˆ° a.Age å€¼ï¼š{a.Age}\u0026#34;); a.Age = a.Age + 1; Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-ä¿®æ”¹å a.Age å€¼ï¼š{a.Age}\u0026#34;); } è¿è¡Œç»“æœå¦‚ä¸‹ï¼š\nå¯ä»¥çœ‹åˆ°è¢«è°ƒç”¨æ–¹æ³•ä¸­aå®ä¾‹å¯¹è±¡çš„Ageå±æ€§å‘ç”Ÿå˜åŒ–åï¼Œè°ƒç”¨è€…ä¸­å˜é‡ä¹ŸåŒæ­¥å‘ç”Ÿäº†å˜åŒ–ã€‚\nå¯¹äºç¬¬äºŒä¸ªç»“è®ºæˆ‘ä»¬è¿™æ ·è®ºè¯ï¼Œåœ¨æ–¹æ³•ä¸­ç›´æ¥å¯¹å‚æ•°newä¸€ä¸ªæ–°å¯¹è±¡ï¼Œçœ‹çœ‹åŸå˜é‡æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public static void NewReferenceByValueRun() { var a = new Test { Age = 10 }; Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å‰ a.Age å€¼ï¼š{a.Age}\u0026#34;); NewReferenceByValue(a); Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å a.Age å€¼ï¼š{a.Age}\u0026#34;); } public static void NewReferenceByValue(Test a) { Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-æ¥æ”¶åˆ° a.Age å€¼ï¼š{a.Age}\u0026#34;); a = new Test { Age = 100 }; Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-newå a.Age å€¼ï¼š{a.Age}\u0026#34;); } æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nå¯ä»¥å‘ç°å½“åœ¨æ–¹æ³•ä¸­å¯¹å˜é‡æ‰§è¡Œnewæ“ä½œåï¼Œè°ƒç”¨è€…å¤„çš„å˜é‡å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚\nä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿå› ä¸ºå¯¹äºå¼•ç”¨ç±»å‹æ¥è¯´ï¼Œå½¢å‚å’Œå®å‚æ˜¯å¯¹å¼•ç”¨ç±»å‹çš„å®ä¾‹å¯¹è±¡å¼•ç”¨çš„ä¸¤ä¸ªå‰¯æœ¬ï¼Œè€Œè¿™ä¸¤ä¸ªå‰¯æœ¬å­˜å‚¨åœ¨æ ˆä¸Šåˆåˆ†åˆ«åœ¨ä¸åŒçš„å†…å­˜åœ°å€ç©ºé—´ä¸Šï¼Œè€Œnewä¸»è¦å°±æ˜¯é‡æ–°åˆ†é…å†…å­˜ï¼Œè¿™å°±å¯¼è‡´å½¢å‚å˜é‡a=newåï¼Œæ ˆä¸Šå½¢å‚å˜é‡aæŒ‡å‘äº†Testæ–°çš„å®ä¾‹å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œå®å‚å˜é‡aè¿˜æ˜¯ä¿æŒåŸæœ‰å®ä¾‹å¯¹è±¡å¼•ç”¨ä¸å˜ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\n03ã€å€¼ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’ å½“å€¼ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’æ—¶ï¼Œè°ƒç”¨è€…ä¼šæŠŠå€¼ç±»å‹å˜é‡å¯¹åº”çš„æ ˆç©ºé—´åœ°å€ä¼ é€’ç»™æ–¹æ³•ï¼Œå› æ­¤è¢«è°ƒç”¨æ–¹æ³•å‚æ•°ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ç”¨äºæ¥æ”¶å­˜å‚¨å˜é‡ï¼Œå› æ­¤å½“åœ¨æ–¹æ³•å†…éƒ¨å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹æ—¶å¹¶åŒæ ·ä¼šå½±å“è°ƒç”¨è€…è°ƒç”¨å¤„çš„å€¼ç±»å‹å˜é‡ã€‚\nä¼ é€’å€¼ç±»å‹å˜é‡å¯¹åº”çš„æ ˆç©ºé—´åœ°å€å°±æ„å‘³ç€å½¢å‚ä¸å®å‚å…±åŒæŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œæ‰€ä»¥æ‰å¯¼è‡´å¯¹å½¢å‚ä¿®æ”¹æ—¶ï¼Œå®å‚ä¹Ÿä¼šåŒæ­¥å‘ç”Ÿå˜åŒ–ã€‚\næˆ‘ä»¬ç”¨ä¸€ä¸ªå°ä¾‹å­æ¼”ç¤ºä¸€ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 public static void ValueByReferenceRun() { Console.WriteLine($\u0026#34;å€¼ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’\u0026#34;); var a = 10; Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å‰ a å€¼ï¼š{a}\u0026#34;); ChangeValueByReference(ref a); Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å a å€¼ï¼š{a}\u0026#34;); } public static void ChangeValueByReference(ref int a) { Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-æ¥æ”¶åˆ° a å€¼ï¼š{a}\u0026#34;); a = a + 1; Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-ä¿®æ”¹å a å€¼ï¼š{a}\u0026#34;); } æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nå¯ä»¥å‘ç°è°ƒç”¨è€…å¤„çš„å€¼ç±»å‹å˜é‡å·²ç»å‘ç”Ÿæ”¹å˜ã€‚\n04ã€å¼•ç”¨ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’ å½“å¼•ç”¨ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’æ—¶ï¼Œè°ƒç”¨è€…ä¼šæŠŠå¼•ç”¨ç±»å‹å˜é‡å¯¹åº”çš„æ ˆç©ºé—´åœ°å€ä¼ é€’ç»™æ–¹æ³•ï¼Œå› æ­¤è¢«è°ƒç”¨æ–¹æ³•å‚æ•°ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ç”¨äºæ¥æ”¶å­˜å‚¨å˜é‡ï¼Œå› æ­¤å½“åœ¨æ–¹æ³•å†…éƒ¨å¯¹å‚æ•°è¿›è¡Œä¿®æ”¹æ—¶å¹¶åŒæ ·ä¼šå½±å“è°ƒç”¨è€…è°ƒç”¨å¤„çš„å¼•ç”¨ç±»å‹å˜é‡ã€‚\nä¼ é€’å¼•ç”¨ç±»å‹å˜é‡å¯¹åº”çš„æ ˆç©ºé—´åœ°å€å°±æ„å‘³ç€å½¢å‚ä¸å®å‚å…±åŒæŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œå› æ­¤å¯¹å½¢å‚ä¿®æ”¹æ—¶ï¼Œå®å‚ä¹Ÿä¼šåŒæ­¥å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸”è¿™ä¸ªé‡Œçš„ä¿®æ”¹ä¸å•å•æŒ‡ä¿®æ”¹å®ä¾‹æˆå‘˜ï¼Œè¿˜åŒ…æ‹¬newä¸€ä¸ªæ–°å®ä¾‹å¯¹è±¡ã€‚\nä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªä¿®æ”¹å®ä¾‹æˆå‘˜çš„ä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 public static void ChangeReferenceByReferenceRun() { Console.WriteLine($\u0026#34;å¼•ç”¨ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’ - ä¿®æ”¹å®ä¾‹æˆå‘˜\u0026#34;); var a = new Test { Age = 10 }; Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å‰ a.Age å€¼ï¼š{a.Age}\u0026#34;); ChangeReferenceByReference(ref a); Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å a.Age å€¼ï¼š{a.Age}\u0026#34;); } public static void ChangeReferenceByReference(ref Test a) { Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-æ¥æ”¶åˆ° a.Age å€¼ï¼š{a.Age}\u0026#34;); a.Age = a.Age + 1; Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-ä¿®æ”¹å a.Age å€¼ï¼š{a.Age}\u0026#34;); } æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nå†çœ‹çœ‹newä¸€ä¸ªæ–°å¯¹è±¡çš„ä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 public static void NewReferenceByReferenceRun() { Console.WriteLine($\u0026#34;å¼•ç”¨ç±»å‹æŒ‰å¼•ç”¨ä¼ é€’ - new æ–°å®ä¾‹\u0026#34;); var a = new Test { Age = 10 }; Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å‰ a.Age å€¼ï¼š{a.Age}\u0026#34;); NewReferenceByReference(ref a); Console.WriteLine($\u0026#34;è°ƒç”¨è€…-è°ƒç”¨æ–¹æ³•å a.Age å€¼ï¼š{a.Age}\u0026#34;); } public static void NewReferenceByReference(ref Test a) { Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-æ¥æ”¶åˆ° a.Age å€¼ï¼š{a.Age}\u0026#34;); a = new Test { Age = 100 }; Console.WriteLine($\u0026#34; è¢«è°ƒç”¨æ–¹æ³•-newå a.Age å€¼ï¼š{a.Age}\u0026#34;); } æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š\nå¦å¤–stringæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼Œstringç±»å‹å˜é‡çš„æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’å’Œå€¼ç±»å‹æ˜¯ä¸€è‡´çš„ï¼Œä¹Ÿå°±æ˜¯è¦æŠŠstringç±»å‹å½“å€¼ç±»å‹ä¸€æ ·çœ‹å¾…å°±è¡Œã€‚stringç±»å‹çš„ç‰¹æ®Šæ€§æˆ‘ä»¬åé¢ä¼šå•ç‹¬å…·ä½“ä»‹ç»ã€‚\nåœ¨C#ä¸­ä»¥ä¸‹ä¿®é¥°ç¬¦å¯åº”ç”¨ä¸å‚æ•°å£°æ˜ï¼Œå¹¶ä¸”ä¼šä½¿å¾—å‚æ•°æŒ‰å¼•ç”¨ä¼ é€’ï¼šrefã€outã€readonly refã€inã€‚å¯¹äºæ¯ä¸ªä¿®é¥°ç¬¦å…·ä½“æ€ä¹ˆä½¿ç”¨å°±ä¸å†è¿™é‡Œç»†è¯´äº†ã€‚\n","date":"2024-09-19T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/value_and_reference/","title":"å€¼ä¼ é€’ vs å¼•ç”¨ä¼ é€’"},{"content":" 1 2 3 4 5 \u0026lt;UserControl x:Class=\u0026#34;RentopolyNew.Rentals.ViewRentalsView\u0026#34; xmlns=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation\u0026#34; xmlns:x=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml\u0026#34; d:DataContext=\u0026#34;{d:DesignInstance Type=local:ViewRentalsViewModel,IsDesignTimeCreatable=False}\u0026#34;\u0026gt; \u0026lt;/UserControl\u0026gt; åˆ†æ d:DataContext çš„ä½œç”¨ d:DataContext æ¦‚è¿°:\nd:DataContext æ˜¯åœ¨ XAML ä¸­ä¸ºè®¾è®¡æ—¶æ•°æ®ä¸Šä¸‹æ–‡ï¼ˆDataContextï¼‰è®¾ç½®çš„å‘½åç©ºé—´å±æ€§ã€‚ å®ƒåªåœ¨è®¾è®¡æ—¶ä½¿ç”¨ï¼Œä¸ä¼šå½±å“è¿è¡Œæ—¶çš„è¡Œä¸ºã€‚ DesignInstance:\nd:DesignInstance æ˜¯ XAML ä¸­çš„ä¸€ä¸ªæ‰©å±•æ ‡è®°ï¼Œç”¨äºæŒ‡å®šè®¾è®¡æ—¶æ•°æ®ä¸Šä¸‹æ–‡çš„å®ä¾‹ã€‚ å®ƒå¯ä»¥å¸®åŠ©å¼€å‘è€…åœ¨è®¾è®¡è§†å›¾ä¸­çœ‹åˆ°ç»‘å®šçš„æ•°æ®ç»“æ„ï¼Œä»è€Œæ–¹ä¾¿å¸ƒå±€å’Œè®¾è®¡ã€‚ å±æ€§è§£æ:\n1 Type=local:ViewRentalsViewModel æŒ‡å®šè®¾è®¡æ—¶æ•°æ®ä¸Šä¸‹æ–‡çš„ç±»å‹ä¸º ViewRentalsViewModelã€‚ local é€šå¸¸æ˜¯é¡¹ç›®ä¸­å‘½åç©ºé—´çš„ä¸€ä¸ªå‰ç¼€ã€‚ ViewRentalsViewModel æ˜¯ä¸€ä¸ªè§†å›¾æ¨¡å‹ç±»ï¼Œåº”è¯¥å®šä¹‰åœ¨ local å‘½åç©ºé—´ä¸­ã€‚ 1 IsDesignTimeCreatable=False è¡¨ç¤ºåœ¨è®¾è®¡æ—¶ä¸åˆ›å»ºè¿™ä¸ªè§†å›¾æ¨¡å‹çš„å®ä¾‹ã€‚ é€šå¸¸ç”¨äºå¤æ‚çš„è§†å›¾æ¨¡å‹ï¼Œå¯èƒ½éœ€è¦ç‰¹å®šçš„æ„é€ å‡½æ•°å‚æ•°æˆ–åˆå§‹åŒ–é€»è¾‘ï¼Œæ— æ³•åœ¨è®¾è®¡æ—¶è½»æ¾åˆ›å»ºã€‚ ä½œç”¨åŠå¥½å¤„ æé«˜è®¾è®¡æ•ˆç‡: è®¾è®¡æ—¶æ•°æ®ä¸Šä¸‹æ–‡å…è®¸åœ¨è®¾è®¡å™¨ä¸­æ˜¾ç¤ºæ•°æ®æ¨¡æ¿ã€ç»‘å®šå’Œæ§ä»¶çš„å¤–è§‚ï¼Œä½¿å¼€å‘è€…å¯ä»¥æ›´å¥½åœ°è°ƒæ•´å¸ƒå±€å’Œæ ·å¼ï¼Œè€Œä¸éœ€è¦è¿è¡Œåº”ç”¨ç¨‹åºã€‚ é˜²æ­¢è®¾è®¡æ—¶é”™è¯¯: é€šè¿‡è®¾ç½® IsDesignTimeCreatable=Falseï¼Œå¯ä»¥é¿å…å› ä¸ºè®¾è®¡æ—¶æ— æ³•åˆ›å»ºè§†å›¾æ¨¡å‹å®ä¾‹è€Œå¯¼è‡´çš„è®¾è®¡å™¨é”™è¯¯æˆ–å´©æºƒã€‚ ç¤ºä¾‹ä¸Šä¸‹æ–‡ å‡è®¾ä½ çš„é¡¹ç›®ä¸­æœ‰ä¸€ä¸ª ViewRentalsViewModel ç±»ï¼Œå¹¶ä¸”ä½ å¸Œæœ›åœ¨è®¾è®¡è§†å›¾ä¸­é¢„è§ˆ ViewRentalsView çš„å¸ƒå±€ï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·è®¾ç½®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // ViewRentalsViewModel.cs namespace RentopolyNew.Rentals { public class ViewRentalsViewModel { // ViewModel properties and methods } } \u0026lt;!-- ViewRentalsView.xaml --\u0026gt; \u0026lt;UserControl x:Class=\u0026#34;RentopolyNew.Rentals.ViewRentalsView\u0026#34; xmlns=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation\u0026#34; xmlns:x=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml\u0026#34; xmlns:d=\u0026#34;http://schemas.microsoft.com/expression/blend/2008\u0026#34; xmlns:local=\u0026#34;clr-namespace:RentopolyNew.Rentals\u0026#34; d:DataContext=\u0026#34;{d:DesignInstance Type=local:ViewRentalsViewModel,IsDesignTimeCreatable=False}\u0026#34;\u0026gt; \u0026lt;!-- UserControl content here --\u0026gt; \u0026lt;/UserControl\u0026gt; ä»£ç æ€»ç»“ d:DataContext ç”¨äºåœ¨è®¾è®¡æ—¶è®¾ç½®æ•°æ®ä¸Šä¸‹æ–‡ï¼Œä»…å½±å“è®¾è®¡è§†å›¾ï¼Œä¸å½±å“è¿è¡Œæ—¶è¡Œä¸ºã€‚ DesignInstance æŒ‡å®šæ•°æ®ä¸Šä¸‹æ–‡çš„ç±»å‹ï¼Œå¹¶å¯ä»¥æ§åˆ¶æ˜¯å¦åœ¨è®¾è®¡æ—¶åˆ›å»ºå®ä¾‹ã€‚ æé«˜è®¾è®¡æ•ˆç‡ï¼Œé˜²æ­¢è®¾è®¡æ—¶é”™è¯¯ã€‚ ä¸‹ä¸€æ­¥å»ºè®® a. è€ƒè™‘å°† IsDesignTimeCreatable è®¾ç½®ä¸º Trueï¼Œå¦‚æœ ViewRentalsViewModel å¯ä»¥åœ¨è®¾è®¡æ—¶è½»æ¾åˆ›å»ºï¼Œä»¥ä¾¿æ›´å¥½åœ°é¢„è§ˆè®¾è®¡è§†å›¾ã€‚\nb. æ·»åŠ æ›´å¤šçš„è®¾è®¡æ—¶æ•°æ®ï¼Œä»¥ä¾¿åœ¨è®¾è®¡å™¨ä¸­é¢„è§ˆæ›´å¤æ‚çš„ UI å¸ƒå±€å’Œç»‘å®šã€‚\n","date":"2024-08-28T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/datacontentinxaml/","title":"DataContent in Xaml"},{"content":"Git Git æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºç®¡ç†è½¯ä»¶é¡¹ç›®çš„æºä»£ç ã€‚å®ƒæ˜¯ç”± Linux ä¹‹çˆ¶ Linus Torvalds å¼€å‘çš„ï¼Œå¹¶å·²ç»æˆä¸ºäº†ç°ä»£è½¯ä»¶å¼€å‘é¢†åŸŸä¸­æœ€æµè¡Œçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¹‹ä¸€ã€‚\nä½¿ç”¨ Git å¯ä»¥è¿½è¸ªä»£ç çš„å†å²ä¿®æ”¹è®°å½•ï¼Œæ–¹ä¾¿å›¢é˜Ÿåä½œã€ä»£ç å…±äº«å’Œä»£ç é‡æ„ã€‚Git çš„åŸºæœ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š\nåœ¨å¼€å§‹ç¼–å†™ä»£ç ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ª Git ä»“åº“ï¼ˆrepositoryï¼‰ï¼Œç”¨äºå­˜å‚¨ä»£ç å’Œç‰ˆæœ¬å†å²è®°å½•ã€‚ åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œå¯ä»¥é€šè¿‡ git add å‘½ä»¤å°†æ›´æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ° Git çš„æš‚å­˜åŒºï¼ˆstaging areaï¼‰ä¸­ã€‚ é€šè¿‡ git commit å‘½ä»¤å°†æš‚å­˜åŒºä¸­çš„æ›´æ”¹æäº¤åˆ° Git ä»“åº“ä¸­ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ç‰ˆæœ¬å·ï¼ˆcommit hashï¼‰ã€‚ å¦‚æœéœ€è¦æ’¤é”€æŸä¸ªæäº¤ï¼Œå¯ä»¥ä½¿ç”¨ git revert å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤ï¼Œè¯¥æäº¤å°†ä¼šæŠµæ¶ˆå…ˆå‰çš„æäº¤æ•ˆæœã€‚ å¦‚æœéœ€è¦åˆå¹¶ä¸åŒåˆ†æ”¯çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ git merge å‘½ä»¤è¿›è¡Œåˆå¹¶ã€‚ å¦‚æœéœ€è¦æŸ¥çœ‹ä»£ç çš„å†å²æäº¤è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨ git log å‘½ä»¤æ¥è·å–è¯¦ç»†ä¿¡æ¯ã€‚ å¦‚æœéœ€è¦å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå¯ä»¥ä½¿ç”¨ git push å‘½ä»¤å°†æœ¬åœ°ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚ å¦‚æœéœ€è¦ä»è¿œç¨‹ä»“åº“ä¸­è·å–ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ git pull å‘½ä»¤å°†è¿œç¨‹ä»£ç æ‹‰å–åˆ°æœ¬åœ°ã€‚ Workspaceï¼šå·¥ä½œåŒº Index / Stageï¼šæš‚å­˜åŒº Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ Remoteï¼šè¿œç¨‹ä»“åº“ SVNä¸Gitçš„çš„åŒºåˆ« SVNå’ŒGitéƒ½æ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½†å®ƒä»¬æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š\nåˆ†å¸ƒå¼ vs é›†ä¸­å¼ï¼šGit æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè€Œ SVN æ˜¯ä¸€ç§é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚åœ¨ Git ä¸­ï¼Œæ¯ä¸ªå¼€å‘è€…éƒ½æ‹¥æœ‰æœ¬åœ°ä»£ç åº“çš„å®Œæ•´å‰¯æœ¬ï¼Œå¯ä»¥ç¦»çº¿å·¥ä½œå¹¶åœ¨ä¸åŒçš„å·¥ä½œæµç¨‹ä¹‹é—´è‡ªç”±è½¬æ¢ã€‚è€Œåœ¨ SVN ä¸­ï¼Œæ‰€æœ‰å¼€å‘è€…å…±äº«åŒä¸€ä¸ªä¸­å¤®ä»£ç åº“ï¼Œå¹¶ä¸”éœ€è¦æœ‰ç½‘ç»œè¿æ¥æ‰èƒ½è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æ“ä½œã€‚ åˆ†æ”¯ç®¡ç†ï¼šGit åœ¨åˆ†æ”¯ç®¡ç†æ–¹é¢æ¯” SVN æ›´åŠ å¼ºå¤§å’Œçµæ´»ã€‚Git çš„åˆ†æ”¯éå¸¸è½»é‡çº§ï¼Œåˆ›å»ºå’Œåˆå¹¶åˆ†æ”¯ä¹Ÿå¾ˆå®¹æ˜“ï¼Œå› æ­¤å¯ä»¥è½»æ¾å®ç°å¤šäººåä½œå’Œå¹¶è¡Œå¼€å‘ã€‚è€Œåœ¨ SVN ä¸­ï¼Œåˆ†æ”¯æ¯”è¾ƒé‡é‡çº§ï¼ˆå³åˆ›å»ºå’Œåˆå¹¶åˆ†æ”¯éœ€è¦èŠ±è´¹ç›¸å¯¹æ›´å¤šçš„æ—¶é—´å’Œèµ„æºï¼‰ï¼Œå› æ­¤å¾€å¾€åªç”¨äºé‡è¦çš„ç‰ˆæœ¬åˆ†æ”¯ã€‚ ç‰ˆæœ¬å·ï¼šGit ä½¿ç”¨ SHA-1 å“ˆå¸Œå€¼æ¥æ ‡è¯†æ¯ä¸ªæäº¤ï¼Œè€Œ SVN é‡‡ç”¨é€’å¢çš„æ•°å­—ç‰ˆæœ¬å·æ¥æ ‡è¯†æ¯ä¸ªæäº¤ã€‚SHA-1 å“ˆå¸Œå€¼ä¿è¯äº†æ¯ä¸ªæäº¤çš„å”¯ä¸€æ€§ï¼Œè€Œé€’å¢ç‰ˆæœ¬å·åˆ™ç®€åŒ–äº†ç‰ˆæœ¬æ§åˆ¶è¿‡ç¨‹ã€‚ æ•´ä½“æ€§ï¼šç”±äº SVN æ˜¯ä¸€ç§é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå› æ­¤æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨ä¸­å¤®ä»£ç åº“ä¸­ã€‚å¦‚æœä¸­å¤®ä»£ç åº“æŸåæˆ–ä¸¢å¤±ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–æ— æ³•æ¢å¤ã€‚è€Œ Git æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ¯ä¸ªå¼€å‘è€…éƒ½æ‹¥æœ‰å®Œæ•´çš„ä»£ç åº“å‰¯æœ¬ï¼Œä¿è¯äº†ä»£ç çš„æ•´ä½“æ€§å’Œå¯é æ€§ã€‚ æ€§èƒ½ï¼šGit æ¯” SVN æ›´å¿«ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§å‹ä»“åº“ã€åˆ†æ”¯åˆå¹¶ä»¥åŠæ¯”è¾ƒä»£ç å·®å¼‚æ—¶ã€‚Git ä½¿ç”¨åŸºäºå†…å®¹çš„å“ˆå¸Œç®—æ³•æ¥æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¿®æ”¹ï¼Œè€Œ SVN åˆ™éœ€è¦æ£€æŸ¥æ–‡ä»¶çš„å…ƒæ•°æ®ï¼ˆå¦‚æ—¶é—´æˆ³å’Œæ–‡ä»¶å¤§å°ï¼‰æ¥ç¡®å®šæ˜¯å¦ä¿®æ”¹ã€‚ æ€»ä¹‹ï¼Œè™½ç„¶ SVN å’Œ Git éƒ½æ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½†å®ƒä»¬çš„è®¾è®¡å’Œå®ç°æ–¹å¼å­˜åœ¨è¾ƒå¤§å·®å¼‚ï¼Œå¼€å‘äººå‘˜åº”æ ¹æ®è‡ªèº«éœ€æ±‚é€‰æ‹©æœ€é€‚åˆçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚\nå¸¸è§„æ“ä½œ åˆ›å»ºç‰ˆæœ¬åº“ é¦–å…ˆï¼Œæ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤è¡Œç•Œé¢ï¼Œè¿›å…¥è¦åˆ›å»ºç‰ˆæœ¬åº“çš„ç›®å½•ä¸‹ã€‚\næ¥ç€ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ Git ä»“åº“ï¼š\n1 git init ç„¶åï¼Œå°†éœ€è¦ç®¡ç†çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼š\n1 git add \u0026lt;file\u0026gt; ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä¸€æ¬¡æ€§å°†æ‰€æœ‰å˜æ›´æ·»åŠ åˆ°æš‚å­˜åŒºï¼š\n1 git add . æ¥ä¸‹æ¥ï¼Œæäº¤æš‚å­˜åŒºä¸­çš„å˜æ›´åˆ°æœ¬åœ°ä»“åº“ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæè¿°ä¿¡æ¯ï¼š\n1 git commit -m \u0026#34;Initial commit\u0026#34; ç°åœ¨ï¼Œä½ å·²ç»æˆåŠŸåœ°åˆ›å»ºäº†ä¸€ä¸ªç‰ˆæœ¬åº“ã€‚ä½ å¯ä»¥ä½¿ç”¨å…¶ä»– Git å‘½ä»¤æ¥ç®¡ç†å®ƒï¼Œä¾‹å¦‚ï¼š\ngit statusï¼šæŸ¥çœ‹å½“å‰å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„çŠ¶æ€ã€‚ git logï¼šæŸ¥çœ‹æäº¤è®°å½•ã€‚ git branchï¼šç®¡ç†åˆ†æ”¯ã€‚ git remoteï¼šç®¡ç†è¿œç¨‹ä»“åº“ã€‚ ç‰ˆæœ¬å›é€€ è¦å°†Gitå­˜å‚¨åº“ç‰ˆæœ¬å›é€€ï¼Œè¯·ä½¿ç”¨git resetå‘½ä»¤ã€‚å¦‚æœæ‚¨æƒ³è¦æ’¤æ¶ˆä¸Šæ¬¡æäº¤å¹¶è¿”å›åˆ°ä¸Šä¸€ä¸ªæäº¤ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git reset HEAD~1 è¿™å°†ä½¿HEADæŒ‡å‘ä¸Šä¸€ä¸ªæäº¤ï¼Œä½†ä¸ä¼šåˆ é™¤æ‚¨æœ€æ–°çš„æ›´æ”¹ã€‚å¦‚æœæ‚¨å¸Œæœ›å®Œå…¨è¿”å›åˆ°ä»¥å‰çš„æäº¤å¹¶æ”¾å¼ƒæ‰€æœ‰æ›´æ”¹ï¼Œåˆ™å¯ä»¥æ·»åŠ \u0026ndash;hardé€‰é¡¹ï¼š\n1 git reset --hard HEAD~1 è¯·æ³¨æ„ï¼Œæ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ‚¨æœ€æ–°çš„æ›´æ”¹ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚å¦‚æœæ‚¨å·²ç»å°†æ›´æ”¹æ¨é€åˆ°è¿œç¨‹å­˜å‚¨åº“ï¼Œåˆ™åœ¨æ‰§è¡Œæ­¤æ“ä½œä¹‹å‰åº”å…ˆå¤‡ä»½è¿™äº›æ›´æ”¹ã€‚\nç†è§£å·¥ä½œåŒºä¸æš‚å­˜åŒºçš„åŒºåˆ« Gitæœ‰ä¸‰ä¸ªä¸»è¦çš„å·¥ä½œåŒºåŸŸï¼šå·¥ä½œåŒºï¼ˆworking directoryï¼‰ã€æš‚å­˜åŒºï¼ˆstaging areaï¼‰å’Œç‰ˆæœ¬åº“ï¼ˆrepositoryï¼‰ã€‚\nå·¥ä½œåŒºæ˜¯æŒ‡æ‚¨ç”µè„‘æ–‡ä»¶ç³»ç»Ÿä¸Šç”¨äºä¿®æ”¹æ–‡ä»¶çš„ç›®å½•ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥åˆ›å»ºã€ç¼–è¾‘å’Œåˆ é™¤æ–‡ä»¶ã€‚\næš‚å­˜åŒºæ˜¯ä¸€ä¸ªä¸­é—´çŠ¶æ€ï¼Œå®ƒå……å½“äº†æ‚¨æäº¤æ›´æ”¹çš„ç¼“å†²åŒºã€‚åœ¨Gitä¸­ï¼Œæ‚¨å¿…é¡»æ˜ç¡®åœ°å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œç„¶åæ‰èƒ½å°†å…¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œæ‚¨å¯ä»¥å¯¹æ¯ä¸ªæ›´æ”¹è¿›è¡Œç²¾ç»†æ§åˆ¶ï¼Œå¹¶ç¡®ä¿åªæäº¤éœ€è¦ä¿å­˜çš„æ›´æ”¹ã€‚\nç‰ˆæœ¬åº“åŒ…å«Gitå­˜å‚¨åº“çš„æ‰€æœ‰å†å²è®°å½•å’Œå…ƒæ•°æ®ã€‚å®ƒæ˜¯Gitå­˜å‚¨åº“çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œæ˜¯ç”±Gitè‡ªåŠ¨ç»´æŠ¤çš„ã€‚\nç®€è€Œè¨€ä¹‹ï¼Œå·¥ä½œåŒºæ˜¯æ‚¨æ­£åœ¨å¤„ç†çš„å®é™…æ–‡ä»¶ï¼Œè€Œæš‚å­˜åŒºæ˜¯ä¸‹ä¸€æ¬¡æäº¤æ‰€éœ€æ›´æ”¹çš„æ–‡ä»¶åˆ—è¡¨ã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼Œæ‚¨å¯ä»¥å¯¹å·¥ä½œåŒºä¸­çš„ä»»ä½•æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œä½†åªæœ‰å°†å®ƒä»¬æ·»åŠ åˆ°æš‚å­˜åŒºå¹¶å°†å…¶æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œå®ƒä»¬æ‰ä¼šæˆä¸ºGitè·Ÿè¸ªçš„éƒ¨åˆ†ã€‚\nGitæ’¤é”€ä¿®æ”¹å’Œåˆ é™¤æ–‡ä»¶æ“ä½œ è¦æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨git checkoutå‘½ä»¤ï¼š\n1 git checkout -- \u0026lt;filename\u0026gt; æ­¤å‘½ä»¤å°†è¦†ç›–å·¥ä½œæ ‘ä¸­æŒ‡å®šæ–‡ä»¶çš„æ›´æ”¹ï¼Œè¿˜åŸä¸ºæœ€è¿‘æäº¤æˆ–ä¸Šæ¬¡æ£€å‡ºçš„çŠ¶æ€ã€‚\nè¦åˆ é™¤æ–‡ä»¶å¹¶å°†æ­¤æ›´æ”¹æäº¤åˆ°Gitå­˜å‚¨åº“ä¸­ï¼Œå¯ä»¥ä½¿ç”¨git rmå‘½ä»¤ï¼š\n1 2 git rm \u0026lt;filename\u0026gt; git commit -m \u0026#34;Remove file\u0026#34; è¿™å°†ä»å·¥ä½œæ ‘å’Œç‰ˆæœ¬å†å²è®°å½•ä¸­åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶ã€‚å¦‚æœåªæ˜¯æƒ³ä»Gitç‰ˆæœ¬åº“ä¸­åˆ é™¤æ–‡ä»¶ä½†ä¿ç•™åœ¨å·¥ä½œæ ‘ä¸­ï¼Œåˆ™å¯ä»¥ä½¿ç”¨git rmå‘½ä»¤çš„\u0026ndash;cachedé€‰é¡¹ï¼š\n1 2 git rm --cached \u0026lt;filename\u0026gt; git commit -m \u0026#34;Remove file from repository\u0026#34; è¿™å°†ä»ç‰ˆæœ¬å†å²è®°å½•ä¸­åˆ é™¤æŒ‡å®šçš„æ–‡ä»¶ï¼Œä½†ä¿ç•™åœ¨å·¥ä½œæ ‘ä¸­ã€‚\nè¿œç¨‹ä»“åº“ å¦‚ä½•æ·»åŠ è¿œç¨‹ä»“åº“ è¦å°†æœ¬åœ°ä»£ç åº“è¿æ¥åˆ°è¿œç¨‹ä»“åº“ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹gitå‘½ä»¤ï¼š\né¦–å…ˆï¼Œå°†æœ¬åœ°ä»£ç åº“åˆå§‹åŒ–ä¸ºGitä»“åº“ï¼ˆå¦‚æœå°šæœªå®Œæˆï¼‰ï¼š\ngit init æ·»åŠ è¿œç¨‹ä»“åº“çš„URLï¼Œå…¶ä¸­\u0026lt;remote-name\u0026gt;æ˜¯è‡ªå®šä¹‰åç§°ï¼Œ\u0026lt;remote-url\u0026gt;æ˜¯è¿œç¨‹ä»“åº“çš„URLï¼š\ngit remote add \u0026lt;remote-name\u0026gt; \u0026lt;remote-url\u0026gt; å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¡®è®¤è¿œç¨‹ä»“åº“æ˜¯å¦å·²æˆåŠŸæ·»åŠ ï¼š\ngit remote -v æ­¤åï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨git pushå‘½ä»¤å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œæˆ–ä½¿ç”¨git pullå‘½ä»¤ä»è¿œç¨‹ä»“åº“æ‹‰å–ä»£ç ã€‚\nå¦‚ä½•ä»è¿œç¨‹åº“å…‹éš† è¦ä»è¿œç¨‹ä»“åº“å…‹éš†ä»£ç åˆ°æœ¬åœ°ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹gitå‘½ä»¤ï¼š\n1 git clone \u0026lt;remote-url\u0026gt; å…¶ä¸­\u0026lt;remote-url\u0026gt;æ˜¯è¿œç¨‹ä»“åº“çš„URLã€‚æ‰§è¡Œæ­¤å‘½ä»¤åï¼ŒGitå°†åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•ï¼Œå…¶ä¸­åŒ…å«å…‹éš†çš„ä»£ç åº“å‰¯æœ¬ã€‚å¦‚æœæƒ³æŒ‡å®šä¸åŒçš„ç›®å½•åï¼Œå¯ä»¥å°†ç›®å½•åä½œä¸ºå¯é€‰å‚æ•°æ·»åŠ åˆ°å‘½ä»¤ä¸­ï¼š\n1 git clone \u0026lt;remote-url\u0026gt; \u0026lt;directory-name\u0026gt; åœ¨æ‰§è¡Œgit cloneå‘½ä»¤æ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡æ·»åŠ å…¶ä»–æ ‡å¿—æ¥æ›´æ”¹é»˜è®¤è¡Œä¸ºï¼Œä¾‹å¦‚æŒ‡å®šè¦å…‹éš†çš„åˆ†æ”¯ã€ç¦ç”¨å…‹éš†æ—¶è‡ªåŠ¨æ£€æŸ¥çš„æ–‡ä»¶ç­‰ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ç›¸åº”çš„æ–‡æ¡£ã€‚\nåˆ›å»ºä¸åˆå¹¶åˆ†æ”¯ åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git branch \u0026lt;branch_name\u0026gt; è¿™å°†åœ¨å½“å‰æ‰€åœ¨çš„æäº¤ä¸Šåˆ›å»ºä¸€ä¸ªåä¸º \u0026lt;branch_name\u0026gt; çš„æ–°åˆ†æ”¯ã€‚\nè¦åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git checkout \u0026lt;branch_name\u0026gt; åˆ›å»ºå¹¶ç«‹å³åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git checkout -b \u0026lt;branch_name\u0026gt; åˆå¹¶åˆ†æ”¯å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git merge \u0026lt;branch_name\u0026gt; è¿™å°†å°† \u0026lt;branch_name\u0026gt; åˆ†æ”¯ä¸­çš„æ›´æ”¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚\nå¤„ç†å†²çª å½“ä¸¤ä¸ªåˆ†æ”¯ä¸Šçš„ä»£ç ä¿®æ”¹äº†åŒä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”å°è¯•å°†è¿™ä¸¤ä¸ªåˆ†æ”¯åˆå¹¶æ—¶ï¼Œå°±ä¼šå‘ç”Ÿä»£ç å†²çªã€‚Gitæä¾›äº†ä»¥ä¸‹æ­¥éª¤æ¥è§£å†³å†²çªï¼š\nè¿è¡Œ git status å‘½ä»¤æŸ¥çœ‹å“ªäº›æ–‡ä»¶åŒ…å«å†²çªã€‚ ç¼–è¾‘æœ‰å†²çªçš„æ–‡ä»¶ï¼Œæ‰‹åŠ¨è§£å†³æ–‡ä»¶ä¸­çš„å†²çªã€‚ å¯¹ç¼–è¾‘åçš„æ–‡ä»¶è¿›è¡Œ git addï¼Œæ ‡è®°ä¸ºå·²è§£å†³å†²çªçš„æ–‡ä»¶ã€‚ ä½¿ç”¨ git commit æäº¤æ›´æ”¹ï¼ŒGit ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåˆå¹¶æäº¤ï¼Œå…¶ä¸­åŒ…å«å„è‡ªåˆ†æ”¯ä¸­çš„æ›´æ”¹ã€‚ æ³¨æ„ï¼šåœ¨è§£å†³å†²çªå‰ï¼Œæœ€å¥½å…ˆå¤‡ä»½å½“å‰çš„ä»£ç çŠ¶æ€ï¼Œä»¥å…ä¸å°å¿ƒç ´åä»£ç åº“ã€‚å¦å¤–ï¼Œåœ¨å¤„ç†å†²çªä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œ git diff å‘½ä»¤æ¥æŸ¥çœ‹å†²çªçš„æºä»£ç ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£è¦è§£å†³çš„é—®é¢˜ã€‚\nåˆ†æ”¯ç®¡ç†ç­–ç•¥ åœ¨ Git ä¸­ï¼Œå¸¸è§çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š\nä¸»åˆ†æ”¯ï¼šä¸»åˆ†æ”¯é€šå¸¸æ˜¯æœ€ç¨³å®šçš„åˆ†æ”¯ï¼Œç”¨äºå‘å¸ƒç”Ÿäº§ç‰ˆæœ¬ã€‚åœ¨ Git ä¸­ï¼Œä¸»åˆ†æ”¯é€šå¸¸æ˜¯ master åˆ†æ”¯æˆ–è€… main åˆ†æ”¯ã€‚ å¼€å‘åˆ†æ”¯ï¼šå¼€å‘åˆ†æ”¯é€šå¸¸ä»ä¸»åˆ†æ”¯æ´¾ç”Ÿè€Œæ¥ï¼Œåœ¨å…¶ä¸Šè¿›è¡Œæ–°åŠŸèƒ½æˆ–ä¿®å¤é”™è¯¯çš„å¼€å‘ã€‚åœ¨ Git ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ develop åˆ†æ”¯ä½œä¸ºå¼€å‘åˆ†æ”¯ã€‚ ç‰¹æ€§åˆ†æ”¯ï¼šç‰¹æ€§åˆ†æ”¯æ˜¯ä¸ºäº†å¼€å‘å•ç‹¬çš„åŠŸèƒ½è€Œåˆ›å»ºçš„åˆ†æ”¯ã€‚è¿™äº›åˆ†æ”¯é€šå¸¸ä»å¼€å‘åˆ†æ”¯æ´¾ç”Ÿè€Œæ¥ï¼Œå¹¶åœ¨å®ç°ç›®æ ‡åè¢«åˆå¹¶å›å¼€å‘åˆ†æ”¯ã€‚åœ¨ Git ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ feature/ åˆ†æ”¯å‘½åçº¦å®šæ¥è¡¨ç¤ºç‰¹æ€§åˆ†æ”¯ã€‚ å‘å¸ƒåˆ†æ”¯ï¼šå‘å¸ƒåˆ†æ”¯æ˜¯ç”¨äºå‡†å¤‡å‘å¸ƒç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œé€šå¸¸ä»ä¸»åˆ†æ”¯æ´¾ç”Ÿè€Œæ¥ã€‚è¿™äº›åˆ†æ”¯åº”è¯¥åŒ…å«ä¸å‘å¸ƒç›¸å…³çš„æ‰€æœ‰æ›´æ”¹ï¼Œå¹¶ä¸”åº”è¯¥ç»è¿‡å…¨é¢æµ‹è¯•å’Œå®¡æ ¸åå†åˆå¹¶å›ä¸»åˆ†æ”¯ã€‚åœ¨ Git ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ release/ åˆ†æ”¯å‘½åçº¦å®šæ¥è¡¨ç¤ºå‘å¸ƒåˆ†æ”¯ã€‚ çƒ­ä¿®å¤åˆ†æ”¯ï¼šçƒ­ä¿®å¤åˆ†æ”¯é€šå¸¸ç”¨äºå¿«é€Ÿä¿®å¤ç´§æ€¥é—®é¢˜ï¼Œä¾‹å¦‚å®‰å…¨æ¼æ´æˆ–å´©æºƒã€‚è¿™äº›åˆ†æ”¯é€šå¸¸ä»ä¸»åˆ†æ”¯æ´¾ç”Ÿè€Œæ¥ï¼Œå¹¶ä¸”åªåŒ…å«å¿…è¦çš„æ›´æ”¹ã€‚åœ¨ Git ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ hotfix/ åˆ†æ”¯å‘½åçº¦å®šæ¥è¡¨ç¤ºçƒ­ä¿®å¤åˆ†æ”¯ã€‚ é€šè¿‡é‡‡ç”¨åˆé€‚çš„ Git åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼Œå¯ä»¥å¸®åŠ©å›¢é˜Ÿæ›´å¥½åœ°ç»„ç»‡å’Œç®¡ç†ä»£ç ï¼Œæé«˜å›¢é˜Ÿçš„åä½œèƒ½åŠ›å’Œç”Ÿäº§æ•ˆç‡ã€‚é™¤äº†ä¸Šè¿°å¸¸è§çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼Œè¿˜å¯ä»¥æ ¹æ®å›¢é˜Ÿçš„å…·ä½“éœ€æ±‚å’Œå·¥ä½œæµç¨‹å®šåˆ¶é€‚åˆè‡ªå·±çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥ã€‚\nbugåˆ†æ”¯ åœ¨ Git ä¸­ï¼Œé€šå¸¸ä½¿ç”¨ bug åˆ†æ”¯ç”¨äºä¿®å¤ä»£ç ä¸­çš„é”™è¯¯æˆ–ç¼ºé™·ã€‚å½“å‘ç° bug æ—¶ï¼Œå¯ä»¥ä»å½“å‰å¼€å‘åˆ†æ”¯ï¼ˆå¦‚ develop åˆ†æ”¯ï¼‰åˆ›å»ºä¸€ä¸ª bug åˆ†æ”¯ï¼Œåœ¨è¯¥åˆ†æ”¯ä¸Šè¿›è¡Œé”™è¯¯ä¿®å¤ã€‚ä¿®å¤å®Œæˆåï¼Œå¯ä»¥å°†æ›´æ”¹æäº¤åˆ° bug åˆ†æ”¯ï¼Œå¹¶å°†å…¶åˆå¹¶å›å¼€å‘åˆ†æ”¯å’Œä¸»åˆ†æ”¯ã€‚\nä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„ä½¿ç”¨ Git bug åˆ†æ”¯çš„æµç¨‹ï¼š\nä»å½“å‰å¼€å‘åˆ†æ”¯ï¼ˆå¦‚ develop åˆ†æ”¯ï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„ bug åˆ†æ”¯ï¼š 1 git checkout -b bug/fix-xxx åœ¨ bug åˆ†æ”¯ä¸Šè¿›è¡Œé”™è¯¯ä¿®å¤ï¼ŒåŒ…æ‹¬å¿…è¦çš„æµ‹è¯•å’Œä»£ç å®¡æŸ¥ã€‚ æäº¤æ›´æ”¹å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š 1 2 3 git add . git commit -m \u0026#34;Fix xxx bug\u0026#34; git push origin bug/fix-xxx å°† bug åˆ†æ”¯åˆå¹¶å›å¼€å‘åˆ†æ”¯ï¼ˆå¦‚ develop åˆ†æ”¯ï¼‰ï¼š 1 2 git checkout develop git merge --no-ff bug/fix-xxx æµ‹è¯•ä¿®å¤æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œåˆ™å°†å¼€å‘åˆ†æ”¯åˆå¹¶å›ä¸»åˆ†æ”¯ï¼ˆå¦‚ master åˆ†æ”¯ï¼‰ï¼š 1 2 git checkout master git merge --no-ff develop é€šè¿‡ä½¿ç”¨ Git bug åˆ†æ”¯ï¼Œå¯ä»¥å¸®åŠ©å›¢é˜Ÿæ›´å¥½åœ°ç®¡ç†å’Œä¿®å¤ä»£ç ä¸­çš„é”™è¯¯å’Œç¼ºé™·ï¼ŒåŒæ—¶ä¿æŒä»£ç åº“çš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚\nå¤šäººåä½œ Git æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¤šäººåä½œå·¥å…·ï¼Œä»¥ä¸‹æ˜¯ Git å¤šäººåä½œçš„ä¸€äº›æœ€ä½³å®è·µï¼š\nä½¿ç”¨åˆ†æ”¯ï¼šä½¿ç”¨åˆ†æ”¯å¯ä»¥å¸®åŠ©å›¢é˜Ÿæˆå‘˜åœ¨ä¸å½±å“ä¸»åˆ†æ”¯çš„æƒ…å†µä¸‹è¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œé¿å…ä»£ç å†²çªå’Œé”™è¯¯ã€‚å»ºè®®é‡‡ç”¨ä¸»åˆ†æ”¯ã€å¼€å‘åˆ†æ”¯ã€ç‰¹æ€§åˆ†æ”¯ã€å‘å¸ƒåˆ†æ”¯ã€çƒ­ä¿®å¤åˆ†æ”¯ç­‰åˆ†æ”¯ç®¡ç†ç­–ç•¥ã€‚ æäº¤è§„èŒƒï¼šæ¯æ¬¡æäº¤ä»£ç æ—¶åº”è¯¥é™„åŠ æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯ï¼Œæè¿°æœ¬æ¬¡æäº¤çš„æ›´æ”¹å†…å®¹å’Œç›®çš„ã€‚å»ºè®®é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·å’Œæäº¤ä¿¡æ¯æ¨¡æ¿ç­‰è§„èŒƒï¼Œä»¥ä¾¿æ›´å¥½åœ°è®°å½•å’Œè¿½è¸ªä»£ç å˜æ›´å†å²ã€‚ å®šæœŸåˆå¹¶ï¼šå›¢é˜Ÿæˆå‘˜åº”è¯¥å®šæœŸå°†è‡ªå·±çš„åˆ†æ”¯åˆå¹¶å›ä¸»åˆ†æ”¯æˆ–è€…å¼€å‘åˆ†æ”¯ã€‚è¿™å¯ä»¥é¿å…è¾ƒå¤§çš„ä»£ç å†²çªå’Œé”™è¯¯ï¼Œå¹¶ä¸”ä¿æŒä»£ç åº“çš„æ•´æ´å’Œå¯ç»´æŠ¤æ€§ã€‚ ä»£ç å®¡æŸ¥ï¼šé€šè¿‡ä»£ç å®¡æŸ¥å¯ä»¥ç¡®ä¿ä»£ç çš„è´¨é‡å’Œä¸€è‡´æ€§ï¼Œå¹¶ä¸”å¯ä»¥è¯†åˆ«å’Œçº æ­£æ½œåœ¨çš„é—®é¢˜å’Œé”™è¯¯ã€‚å»ºè®®é‡‡ç”¨ pull request å’Œ code review ç­‰å·¥å…·å’Œæµç¨‹ï¼Œä»¥ä¾¿å›¢é˜Ÿæˆå‘˜å¯¹å½¼æ­¤çš„ä»£ç è¿›è¡Œå®¡æŸ¥å’Œåé¦ˆã€‚ å›¢é˜Ÿåä½œï¼šå›¢é˜Ÿæˆå‘˜ä¹‹é—´åº”è¯¥ä¿æŒåŠæ—¶å’Œæœ‰æ•ˆçš„æ²Ÿé€šï¼Œå…±äº«æŠ€æœ¯å’Œç»éªŒï¼Œå¹¶å°½å¯èƒ½é¿å…ä¸ªäººè¡Œä¸ºå’Œåè§å¯¹é¡¹ç›®å’Œå›¢é˜Ÿäº§ç”Ÿä¸è‰¯å½±å“ã€‚ é€šè¿‡é‡‡ç”¨ä¸Šè¿°æœ€ä½³å®è·µï¼Œå¯ä»¥å¸®åŠ©å›¢é˜Ÿé«˜æ•ˆåä½œã€ä¿è¯ä»£ç è´¨é‡å’Œç¨³å®šæ€§ï¼Œå¹¶æé«˜å›¢é˜Ÿçš„ç”Ÿäº§åŠ›å’Œåˆ›é€ åŠ›ã€‚\næ¨é€åˆ†æ”¯ åœ¨ Git ä¸­ï¼Œæ¨é€åˆ†æ”¯æŒ‡å°†æœ¬åœ°çš„åˆ†æ”¯æäº¤åˆ°è¿œç¨‹ä»“åº“ä¸­ï¼Œä½¿å¾—å…¶ä»–å›¢é˜Ÿæˆå‘˜å¯ä»¥è®¿é—®å’Œè·å–è¯¥åˆ†æ”¯çš„ä»£ç ã€‚ä»¥ä¸‹æ˜¯åœ¨ Git ä¸­æ¨é€åˆ†æ”¯çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š\næ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå¹¶ä¸è¿œç¨‹åˆ†æ”¯å…³è”ï¼š 1 git push -u origin \u0026lt;branch-name\u0026gt; æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå¹¶ä¸è¿œç¨‹åˆ†æ”¯åˆå¹¶ï¼š 1 git push origin \u0026lt;branch-name\u0026gt; å¼ºåˆ¶æ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼š 1 git push -f origin \u0026lt;branch-name\u0026gt; åˆ é™¤è¿œç¨‹åˆ†æ”¯ï¼š 1 2 3 git push origin :\u0026lt;branch-name\u0026gt; æˆ– git push --delete origin \u0026lt;branch-name\u0026gt; åœ¨æ¨é€åˆ†æ”¯æ—¶ï¼Œé€šå¸¸ä¼šé‡åˆ°å†²çªç­‰é—®é¢˜ã€‚å¦‚æœå‘ç”Ÿå†²çªï¼Œéœ€è¦å…ˆè§£å†³å†²çªï¼Œç„¶åå†è¿›è¡Œæ¨é€ã€‚\nå¦å¤–ï¼Œåœ¨å¤šäººåä½œé¡¹ç›®ä¸­ï¼Œå»ºè®®é‡‡ç”¨ pull request å’Œ code review ç­‰å·¥å…·å’Œæµç¨‹æ¥å¯¹åˆ†æ”¯è¿›è¡Œå®¡æŸ¥å’Œåé¦ˆï¼Œä»¥ç¡®ä¿ä»£ç è´¨é‡å’Œç¨³å®šæ€§ã€‚åŒæ—¶ï¼Œä¹Ÿåº”è¯¥é¿å…ç›´æ¥å‘ä¸»åˆ†æ”¯ï¼ˆå¦‚ master åˆ†æ”¯ï¼‰æäº¤ä»£ç ï¼Œè€Œæ˜¯åº”è¯¥ä½¿ç”¨åˆ†æ”¯ç®¡ç†ç­–ç•¥æ¥ç»„ç»‡å’Œç®¡ç†ä»£ç ã€‚\næŠ“å–åˆ†æ”¯ åœ¨ Git ä¸­ï¼ŒæŠ“å–åˆ†æ”¯æŒ‡ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°çš„ä»£ç å’Œåˆ†æ”¯ä¿¡æ¯ï¼Œå¹¶åœ¨æœ¬åœ°åˆ›å»ºç›¸åº”çš„åˆ†æ”¯ã€‚ä»¥ä¸‹æ˜¯åœ¨ Git ä¸­æŠ“å–åˆ†æ”¯çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š\næ‹‰å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯å¹¶æ›´æ–°æœ¬åœ°åˆ†æ”¯ï¼š 1 git fetch --all æ‹‰å–ä¸€ä¸ªç‰¹å®šçš„è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ°ï¼š 1 git fetch origin \u0026lt;branch-name\u0026gt; åœ¨æœ¬åœ°åˆ›å»ºåŸºäºè¿œç¨‹åˆ†æ”¯çš„æ–°åˆ†æ”¯ï¼š 1 git checkout -b \u0026lt;new-branch-name\u0026gt; origin/\u0026lt;remote-branch-name\u0026gt; æ‹‰å–è¿œç¨‹åˆ†æ”¯å¹¶è‡ªåŠ¨ä¸æœ¬åœ°åˆ†æ”¯å…³è”ï¼š 1 2 3 git checkout --track origin/\u0026lt;remote-branch-name\u0026gt; æˆ– git checkout -t origin/\u0026lt;remote-branch-name\u0026gt; æŠ“å–åˆ†æ”¯æ—¶ï¼Œéœ€è¦æ³¨æ„é¿å…è¦†ç›–å½“å‰åˆ†æ”¯ä¸­æœªæäº¤çš„æ›´æ”¹ã€‚å¦‚æœæœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯å­˜åœ¨å†²çªï¼Œéœ€è¦è§£å†³å†²çªåæ‰èƒ½å°†æ›´æ”¹åˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ä¸­ã€‚\né€šè¿‡æŠ“å–åˆ†æ”¯å¯ä»¥ä½¿å¾—å¼€å‘è€…è·å–æœ€æ–°çš„ä»£ç å’Œåˆ†æ”¯ä¿¡æ¯ï¼Œåœ¨æœ¬åœ°è¿›è¡Œä»£ç ä¿®æ”¹å’Œæµ‹è¯•ï¼Œå¹¶å°†æ›´æ”¹æ¨é€å›è¿œç¨‹ä»“åº“ä»¥è¿›è¡Œåä½œå¼€å‘ã€‚\ngitå¯è§†åŒ–å·¥å…· Git å¯è§†åŒ–å·¥å…·å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´ç›´è§‚åœ°æŸ¥çœ‹å’Œç®¡ç†ä»£ç ç‰ˆæœ¬æ§åˆ¶å†å²ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸ç”¨çš„ Git å¯è§†åŒ–å·¥å…·ï¼š\nGitKrakenï¼šGitKraken æ˜¯ä¸€æ¬¾ç®€å•æ˜“ç”¨çš„ Git å¯è§†åŒ–å·¥å…·ï¼Œæ”¯æŒ Windowsã€Mac å’Œ Linux ç­‰å¤šä¸ªå¹³å°ã€‚å®ƒæä¾›äº†å¼ºå¤§çš„å›¾å½¢ç•Œé¢ï¼ŒåŒ…æ‹¬ä»£ç å†å²è®°å½•ã€åˆ†æ”¯ç®¡ç†ã€åˆå¹¶å†²çªè§£å†³ç­‰åŠŸèƒ½ã€‚ Sourcetreeï¼šSourcetree æ˜¯ç”± Atlassian å…¬å¸å¼€å‘çš„ä¸€æ¬¾å…è´¹ Git å¯è§†åŒ–å·¥å…·ï¼Œæ”¯æŒ Windows å’Œ Mac å¹³å°ã€‚å®ƒæä¾›äº†å‹å¥½çš„ç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥è½»æ¾åœ°è¿›è¡Œä»£ç æäº¤ã€åˆ†æ”¯ç®¡ç†å’Œå†²çªè§£å†³ç­‰æ“ä½œã€‚ GitHub Desktopï¼šGitHub Desktop æ˜¯ GitHub å…¬å¸å‡ºå“çš„ä¸€æ¬¾å…è´¹ Git å¯è§†åŒ–å·¥å…·ï¼Œæ”¯æŒ Windows å’Œ Mac å¹³å°ã€‚å®ƒæä¾›äº†æ¸…æ™°æ˜äº†çš„ç•Œé¢ï¼Œå¯è§†åŒ–æ˜¾ç¤ºä»£ç å†å²è®°å½•ã€åˆ†æ”¯ç®¡ç†ã€æ‹‰å–è¯·æ±‚ï¼ˆpull requestï¼‰ç­‰åŠŸèƒ½ï¼Œä»¥åŠä¸ GitHub ç½‘ç«™çš„é›†æˆæ”¯æŒã€‚ Git GUIï¼šGit GUI æ˜¯ Git å®˜æ–¹æä¾›çš„ä¸€ä¸ªå›¾å½¢åŒ–ç•Œé¢çš„å·¥å…·ï¼Œæ”¯æŒ Windowsã€Mac å’Œ Linux ç­‰å¤šä¸ªå¹³å°ã€‚å®ƒè™½ç„¶ä¸å¦‚å‰é¢æåˆ°çš„å·¥å…·é‚£æ ·å‹å¥½æ˜“ç”¨ï¼Œä½†æ˜¯å¯¹äºä¹ æƒ¯å‘½ä»¤è¡Œæ“ä½œçš„å¼€å‘è€…æ¥è¯´ï¼ŒGit GUI å¯ä»¥æä¾›ä¾¿æ·çš„å›¾å½¢åŒ–ç•Œé¢ã€‚ ä½¿ç”¨ Git å¯è§†åŒ–å·¥å…·å¯ä»¥å¸®åŠ©å¼€å‘è€…æ›´ç›´è§‚åœ°ç†è§£å’Œç®¡ç† Git ä¸­çš„ä»£ç ç‰ˆæœ¬æ§åˆ¶å†å²ï¼Œæé«˜åä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚\ngit add.å’Œgit add -açš„åŒºåˆ« git add . ä¼šæŠŠå½“å‰ç›®å½•åŠå­å­™ç›®å½•é‡Œçš„å˜åŠ¨éƒ½åŠ åˆ°æš‚å­˜åŒº git add --all æˆ–è€…git add -Aä¼šå°†é¡¹ç›®é‡Œæ‰€æœ‰æ–‡ä»¶çš„å˜åŠ¨éƒ½åŠ åˆ°æš‚å­˜åŒºï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥å‘½ä»¤ä¸è®ºåœ¨é¡¹ç›®çš„å“ªçº§ç›®å½•æ‰§è¡Œï¼Œéƒ½æœ‰åŒæ ·çš„æ•ˆæœã€‚ ","date":"2024-08-20T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/git-skill/","title":"Git Skill"},{"content":"è¿›å…¥MySQLå®‰è£…ç›®å½• \\bin ä¸‹ åœ¨ç›®å½•è¾“å…¥â€cmdâ€œç„¶åå›è½¦\nç¬¬äºŒæ­¥ å¼€å¯è¿œç¨‹è®¿é—®æƒé™ åœ¨æ­¥éª¤ä¸€æ‰§è¡ŒæˆåŠŸåçš„mysql\u0026gt;ä¸‹ï¼Œä¾æ¬¡è¾“å…¥å‘½ä»¤ use mysqlã€update user set host = \u0026lsquo;%\u0026rsquo; where user = \u0026lsquo;root\u0026rsquo;;ã€flush privileges; ï¼ˆåˆ†å·åˆ«æ¼äº†ï¼‰\n1 use mysql 1 update user set host = \u0026#39;%\u0026#39; where user = \u0026#39;root\u0026#39;; 1 flush privileges; ","date":"2024-08-20T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/mysqlorigin/","title":"Windowså¼€å¯è¿œç¨‹è®¿é—®MySQL"},{"content":"å‰è¨€ æœ¬æ–‡å°½é‡ä½¿ç”¨å›¾å½¢å·¥å…·ä»‹ç»å¦‚ä½•å‘å¼€æºé¡¹ç›®æäº¤ Pull Requestï¼Œä¸€æ¬¡äº²èº«ç»å†æäº¤ PR\nfork é¡¹ç›® image\nå…‹éš†æœ¬åœ° image\n1 git clone https://github.com/liangtongzhuo/taro-ui.git æ ¹æ®æ–‡æ¡£åˆ›å»ºåˆ†æ”¯ æ‹–è¿› SourceTreeï¼ŒåŸºäº dev åˆ›å»ºåˆ†æ”¯\nimage\næäº¤çš„è‡ªå·±ä»“åº“ 1 git add . \u0026amp;\u0026amp; git commit -m\u0026#34;fix(dos):ä¿®æ­£æ–‡å­— \u0026#34; \u0026amp;\u0026amp; git push æäº¤ Pull Request ç¬¬å››æ­¥æäº¤æˆåŠŸåï¼Œè¿›å…¥åŸæ¥çš„ä»“åº“ï¼Œç‚¹å‡» compare\nimage\næäº¤ä½ çš„è¯´æ˜ï¼Œé€‰æ‹©åˆå¹¶çš„åˆ†æ”¯å³å¯ï¼Œå‰©ä¸‹ç­‰å¾…åˆå¹¶ã€‚\nimage\nç»“å°¾ å¼€æºçš„é­…åŠ›å°±åœ¨äºååŒå·¥ä½œï¼Œæé«˜æ•ˆç‡ã€‚\n","date":"2024-08-20T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/git-pr/","title":"å¦‚ä½•æäº¤PRï¼ˆPull Requestï¼‰"},{"content":"å¦‚æœä½ å¯¹ç›¸æœºåªæœ‰å¾ˆå°‘äº†è§£ï¼Œé‚£ä¹ˆçœ‹è¿™ç¯‡æ–‡ç« å†å¥½ä¸è¿‡å•¦ï¼Œæˆ‘ç»“åˆå¾ˆå¤šèµ„æ–™ï¼ŒåŠ›å›¾ç”¨æœ€é€šä¿—æ˜“æ‡‚çš„æ–¹å¼è¿›è¡Œè®²è§£ã€‚\nç›¸æœºæ‹æ‘„æ—¶æœ€é‡è¦çš„3ä¸ªå‚æ•°å°±æ˜¯â€”â€”å…‰åœˆã€å¿«é—¨ã€ISO\næ¬¡é‡è¦çš„å‚æ•°æœ‰â€”â€”ç„¦è·ã€æ™¯æ·±ã€æ›å…‰\nåœ¨ä»‹ç»å…‰åœˆã€å¿«é—¨ã€ISOä¹‹å‰ï¼Œå¿…é¡»å…ˆä»‹ç»æ›å…‰ã€‚\næ›å…‰å‡†ç¡®çš„ç…§ç‰‡ï¼š\nè¿‡æ›çš„ç…§ç‰‡ï¼š\næ¬ æ›çš„ç…§ç‰‡ï¼š\næˆ‘ä»¬æŠŠä¸€å¼ å®Œç¾æ›å…‰çš„ç…§ç‰‡ç†è§£æˆä¸€æ¡¶åˆšåˆšè£…æ»¡çš„æ°´ï¼Œä¸å¤šä¹Ÿä¸å°‘ï¼Œå¹¶ä¸”æ°´é‡Œé¢æ˜¯æœ‰æ‚è´¨çš„ï¼Œé‚£ä¹ˆå¦‚ä½•æŠŠè¿™æ¡¶æ°´è£…æ»¡å‘¢ï¼Ÿï¼ˆå…ˆä¸è€ƒè™‘è£…åˆ°é‡Œé¢çš„æ°´å¹²ä¸å¹²å‡€ï¼‰\nï¼ˆçœ‹è§æ²¡æœ‰ï¼Œæˆ‘å¾€æ°´é‡Œé¢åŠ äº†ä¸€ä¸‹æ‚è‰²ï¼Œä»£è¡¨æ‚è´¨ï¼‰\nå…‰åœˆï¼šæ§åˆ¶æ°´é¾™å¤´æ°´é‡å¤§å°çš„å¼€å…³\nå¿«é—¨ï¼šå¼€äº†å¤šä¹…çš„æ°´é¾™å¤´\nISOï¼šæ»¤ç½‘\nå¦‚æœä½ è¦æŠŠä¸€ä¸ªæ°´æ¡¶è£…æ»¡æ°´ï¼Œéœ€è¦æ‰“å¼€æ°´é¾™å¤´ç„¶åç­‰æ°´è£…æ»¡å°±è¡Œäº†ï¼Œé‚£ä¹ˆä½ æ°´é¾™å¤´å¼€çš„è¶Šå¤§ï¼ˆå…‰åœˆè¶Šå¤§ï¼‰å“—å“—å“—çš„æµæ°´ï¼Œæµæ°´çš„æ—¶é—´ï¼ˆå¿«é—¨é€Ÿåº¦ï¼‰ä¹Ÿå°±è¶ŠçŸ­ï¼›åŒç†ï¼Œé¾™å¤´å¼€çš„è¶Šå°ï¼ˆå…‰åœˆè¶Šå°ï¼‰å˜€å—’å˜€å—’çš„æµæ°´ï¼Œéœ€è¦çš„æ—¶é—´ï¼ˆå¿«é—¨é€Ÿåº¦ï¼‰å°±è¶Šé•¿ï¼Œè¿™å·®ä¸å¤šå°±æ˜¯å¿«é—¨å’Œå…‰åœˆä¹‹é—´çš„å…³ç³»ã€‚\nISOåœ¨é‡Œé¢èµ·åˆ°äº†ä¸€ä¸ªæ»¤ç½‘çš„ä½œç”¨ï¼ŒISOï¼ˆæ„Ÿå…‰åº¦ï¼‰è¶Šé«˜ç›¸å½“äºæ»¤ç½‘çš„ç©ºéš™è¶Šå¤§ï¼Œé‚£ä¹ˆå‡ºæ°´é‡ä¸€å®šå°±å¤§äº†ï¼ŒåŒç†é‡Œé¢çš„æ‚è´¨å°±ä¼šå¾ˆå¤šï¼Œæ‰€ä»¥æ‹å‡ºæ¥çš„ç…§ç‰‡æœ‰å¾ˆå¤šçš„å™ªç‚¹å’Œé¢—ç²’ï¼Œå¦‚æœISOï¼ˆæ„Ÿå…‰åº¦ï¼‰ä½å‘¢ï¼Œé‚£ä¹ˆå°±æ˜¯è¯´æ˜æ»¤ç½‘çš„é—´éš™è¶Šå°ï¼Œè¶Šèƒ½è¿‡æ»¤å‡ºæ‚è´¨ï¼Œæ‰€ä»¥æ°´æµçš„é€Ÿåº¦å°±æ»¡äº†ï¼ŒåŒæ—¶æ°´é‡Œçš„æ‚è´¨ä¹Ÿå°±å°‘äº†ï¼Œæ‹å‡ºæ¥çš„ç…§ç‰‡ç›¸å¯¹å¹²å‡€äº†å¾ˆå¤šï¼ˆæ¡¶é‡Œé¢çš„æ°´å¹²å‡€äº†å¾ˆå¤šï¼‰ã€‚\nä»ä¸Šé¢æˆ‘ä»¬çŸ¥é“ï¼Œæ›å…‰é‡ç”±å…‰åœˆã€å¿«é—¨ã€ISOä¸‰è€…å…±åŒå†³å®šã€‚\nå…‰åœˆç”±Få€¼è¡¨ç¤ºï¼Œä¾‹å¦‚F1.4ï¼ŒF1.8ï¼ŒF3.5ï¼ŒF5.6ï¼ŒF16ï¼Œæ•°å­—è¶Šå°ä»£è¡¨å…‰åœˆè¶Šå¤§ï¼Œä¾‹å¦‚F1.8\u0026gt;F5.6ï¼Œå…‰åœˆè¶Šå¤§ï¼Œä»£è¡¨æ°´é¾™å¤´å¼€å¾—è¶Šå¤§ï¼Œå•ä½æ—¶é—´å†…æµå‡ºçš„æ°´ä¹Ÿå°±è¶Šå¤šï¼ˆå•ä½æ—¶é—´å†…è¿›æ¥çš„å…‰ä¹Ÿå°±è¶Šå¤šï¼‰ã€‚\nå¦‚å›¾æ‰€ç¤ºï¼Œå…‰åœˆè¶Šå¤§ï¼Œä»£è¡¨å…‰å­”è¶Šå¤§ï¼Œå•ä½æ—¶é—´å†…è¿›æ¥çš„å…‰è‚¯å®šä¹Ÿå°±è¶Šå¤šã€‚ä¾‹å¦‚æŸæ‰‹æœºçš„å…‰åœˆå°±æ˜¯F1.8ï¼Œå¾ˆå¤§ï¼Œå½“ç„¶ä¸ç›¸æœºä¸åŒçš„æ˜¯ï¼Œæ‰‹æœºçš„å…‰åœˆé€šå¸¸éƒ½æ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨ä»»ä½•æƒ…å†µè¿™ä¸ªæ‰‹æœºçš„å…‰åœˆéƒ½æ˜¯F1.8ã€‚\nå¿«é—¨ï¼šå¼€äº†å¤šä¹…çš„æ°´é¾™å¤´ã€‚\nå…·ä½“åˆ°ç›¸æœºä¸Šï¼Œå°±æ˜¯æ”¾äº†å¤šé•¿æ—¶é—´çš„å…‰è¿›æ¥ã€‚åœ¨å…‰åœˆå’ŒISOä¸€å®šçš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åªæ”¾äº†0.001ç§’çš„å…‰è¿›æ¥ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸ªæ€»å…‰é‡å¾ˆå°‘ï¼Œå¦‚æœä½ æ”¾äº†10ç§’é’Ÿçš„å…‰è¿›æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªå…‰çš„æ€»é‡å°±å¾ˆå¤§ã€‚\nå¿«é—¨å…¶å®æ˜¯ç›¸å½“äºä¸€ä¸ªçª—å¸˜çš„ä¸œè¥¿ï¼Œå¦‚æœå¿«é—¨æ˜¯30ç§’ï¼Œè¯´æ˜çª—å¸˜æ‰“å¼€äº†30ç§’åæ‰æ‹‰ä¸Šã€‚\nå¿«é—¨é€šå¸¸ç”¨æ—¶é—´å•ä½**ç§’ï¼ˆSï¼‰**è¡¨ç¤ºï¼Œå¹¶ä¸”é€šå¸¸ç”¨åˆ†æ•°è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š\n1/4000 Sï¼Œ1/2000 S ï¼Œ1/200 Sï¼Œ 1/60 Sï¼Œ1/5 Sï¼Œ1 Sï¼Œ15 S ï¼Œ30S\næ•°å­—è¶Šå°ï¼Œä»£è¡¨å¿«é—¨è¶Šå¿«ï¼Œä¾‹å¦‚1/4000ç§’æ˜¯éå¸¸å¿«çš„å¿«é—¨ã€‚\n30ç§’çš„å¿«é—¨ç›¸å½“äºæŠŠæ°´é¾™å¤´å¼€äº†30ç§’ï¼Œ1/2000ç§’çš„å¿«é—¨ç›¸å½“äºåªæ”¾äº†ä¸¤åƒåˆ†ä¹‹ä¸€ç§’çš„æ°´ï¼Œé‚£æ”¾å‡ºæ¥çš„æ°´è‚¯å®šå°‘å¾—å¯æ€œï¼Œä¹Ÿå°±æ˜¯æ”¾è¿›æ¥çš„å…‰éå¸¸å°‘ã€‚\nISOçš„é«˜ä½ï¼šæ»¤ç½‘çš„å¤§å°ã€‚\nISOè¶Šé«˜ï¼Œæ»¤ç½‘çš„æ»¤å­”è¶Šå¤§ï¼Œè¿›æ¥çš„æ‚è´¨å°±è¶Šå¤šï¼Œå½“ç„¶åŒæ—¶å‡ºæ¥çš„æ°´ï¼ˆè¿›æ¥çš„å…‰ï¼‰ä¹Ÿå°±è¶Šå¤šã€‚ç”»é¢çš„å™ªç‚¹ä¹Ÿå°±è¶Šå¤šï¼Œç”»è´¨è¶Šå·®ã€‚\nISO çš„å¸¸è§å€¼æ˜¯100ï¼Œ 200ï¼Œ 400ï¼Œ 800ï¼Œ 1600ï¼Œ 3200ï¼Œ 6400ï¼Œ 12800ç­‰ç­‰ã€‚\nä»ä¸Šé¢æˆ‘ä»¬çŸ¥é“äº†ï¼Œå…‰åœˆã€å¿«é—¨ã€ISOå°±æ˜¯ä¸‰ä¸ªæ§åˆ¶æ›å…‰é‡çš„å› ç´ ï¼Œä¸‰ä¸ªå…±åŒä½œç”¨ã€‚å®ƒä»¬å°±åƒæ‚æŠ€å¸ˆæ‰‹ä¸­çš„ä¸‰ä¸ªçƒï¼Œä»»ä½•ä¸€ä¸ªæ²¡è€å¥½ï¼Œæ›å…‰å°±ä¼šå‡ºé—®é¢˜ã€‚\nä½†æ˜¯ï¼Œè¿™ä¸‰ä¸ªå‚æ•°ä¹‹é—´å´å¹¶ä¸èƒ½åŠ›å¾€ä¸€å¤„ä½¿ï¼Œä½ éœ€è¦åœ¨ä¸‰è€…ä¹‹é—´äº’ç›¸å–èˆï¼Œåšå‡ºæœ€ä¼˜å†³ç­–ã€‚\nå¾ˆæ˜æ˜¾å¦‚æœéœ€è¦è¿›çš„å…‰è¶³å¤Ÿå¤šï¼Œæ€è·¯æœ‰ï¼šå…‰åœˆè¶³å¤Ÿå¤§ã€å¿«é—¨è¶³å¤Ÿæ…¢ã€ISOè¶³å¤Ÿé«˜ã€‚\nä¸‰è€…ä¹‹ä¸­ï¼Œé™¤äº†å¤§å…‰åœˆæ²¡æœ‰æ˜æ˜¾ç¼ºç‚¹å¤–ï¼ˆå·¥ä¸šé¢†åŸŸä¸­å¤§å…‰åœˆä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå³æ™¯æ·±å¤ªæµ…ï¼‰ï¼Œæ…¢çš„å¿«é—¨å’Œé«˜çš„ISOéƒ½æœ‰æ˜æ˜¾çš„ç¼ºç‚¹ã€‚\nå¿«é—¨å¤ªæ…¢ï¼šæ‹çš„ç…§ç‰‡å®¹æ˜“æ¨¡ç³Šï¼Œä¾‹å¦‚å¿«é—¨æ˜¯0.5ç§’ï¼Œå°±åƒè¿™æ ·ã€‚\nè¿™æ˜¯å› ä¸ºï¼Œè¢«æ‹çš„äººæ˜¯åŠ¨çš„ï¼Œä½ çš„æ‰‹ä¹Ÿæ˜¯æŠ–çš„ï¼Œåœ¨0.5ç§’çš„æ—¶é—´é‡Œé¢å·²ç»è¶³å¤Ÿå®ƒä¿©æŠ–æ¥æŠ–å»äº†ã€‚ç›¸æœºè®°å½•çš„æ˜¯è¿™0.5ç§’å†…æ‰€æœ‰çš„å…‰çº¿ä¿¡æ¯ï¼Œè€Œå¹¶ä¸æ˜¯0.5ç§’çš„æœ€åæœ«å°¾çš„é‚£ä¸€ç¬é—´çš„å…‰çº¿ä¿¡æ¯ã€‚\nå¦‚æœä½ çš„å¿«é—¨è¶³å¤Ÿå¿«ï¼Œä¾‹å¦‚1/500ç§’ï¼Œé‚£ä¹ˆï¼Œä½ çš„æ‰‹æŠ–åŠ¨å’Œè¢«æ‹è€…çš„æŠ–åŠ¨åœ¨è¿™ä¹ˆçŸ­çš„æ—¶é—´å†…å¯ä»¥è®¤ä¸ºåŸºæœ¬æ²¡æœ‰ç§»åŠ¨å¤šå°‘ï¼Œå› æ­¤æ‹å‡ºæ¥çš„ç…§ç‰‡æ˜¯æ¸…æ™°çš„ï¼Œå°±åƒè¿™æ ·ï¼š\nè‡³äºé«˜ISOäº§ç”Ÿé«˜å™ªç‚¹çš„ç¼ºç‚¹åœ¨ä¸Šæ–‡å·²ç»æåŠã€‚\nå¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€å¼ å°½å¯èƒ½æ¸…æ™°ã€ç”»è´¨é«˜ã€å™ªç‚¹å°‘ã€æ›å…‰åˆé€‚çš„ç…§ç‰‡ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ\nå¿…é¡»è¦é«˜é€Ÿå¿«é—¨ã€ä½ISOï¼Œä½†æ˜¯å¦‚æœå¿«é—¨å¤ªå¿«ï¼ŒISOå¤ªä½ï¼Œé‚£ä¹ˆæ›å…‰é‡å°±ä¼šä¸è¶³ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿåªæœ‰ç”¨å¤§å…‰åœˆï¼ï¼\nå¦‚æœå…‰åœˆå¼€åˆ°æœ€å¤§ä¹Ÿä¸è¡Œå‘¢ï¼Ÿé‚£ä¹ˆè¿™æ ·è¿˜èƒ½å®ç°æ¸…æ™°ã€ç”»è´¨é«˜ã€å™ªç‚¹å°‘ã€æ›å…‰åˆé€‚çš„æ•ˆæœå—ï¼Ÿä¸èƒ½ï¼\næ‰€ä»¥æˆ‘ä»¬éœ€è¦å–èˆï¼Œè¦ä¹ˆæŠŠå¿«é—¨å˜æ…¢ä¸€ç‚¹ï¼Œè¦ä¹ˆæŠŠISOè°ƒé«˜ä¸€ç‚¹ï¼Œå½“ç„¶è¿™äº›éƒ½æ˜¯ä»¥é™ä½ç…§ç‰‡è´¨é‡ä¸ºä»£ä»·çš„ã€‚\nçŸ¥é“ä¸ºä»€ä¹ˆå¤§å…‰åœˆé•œå¤´è¿™ä¹ˆè´µäº†å§ï¼Ÿ\nä¸‰è„šæ¶å­˜åœ¨çš„æ„ä¹‰ï¼š\næˆ‘ä»¬åœ¨ä¸Šæ–‡è¯´è¿‡ï¼Œå½“å…‰åœˆå¼€åˆ°æœ€å¤§ä½†æ›å…‰è¿˜ä¸å¤Ÿçš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦å–èˆï¼Œè¦ä¹ˆæŠŠå¿«é—¨å˜æ…¢ä¸€ç‚¹å¢åŠ æ›å…‰æ—¶é—´ï¼Œè¦ä¹ˆæŠŠISOè°ƒé«˜ä¸€ç‚¹å¢åŠ æ„Ÿå…‰åº¦ï¼Œå½“ç„¶è¿™äº›åœ¨æ‰‹æŒç›¸æœºæ‹æ‘„çš„æ—¶å€™éƒ½ä¼šé™ä½ç…§ç‰‡è´¨é‡ã€‚\näº‹å®ä¸Šï¼Œå¢åŠ ISOï¼ˆæ„Ÿå…‰åº¦ï¼‰ä¸€å®šä¼šé™ä½ç”»è´¨ï¼Œä½†æ˜¯æŠŠå¿«é—¨å˜æ…¢å´æœªå¿…ï¼Œæˆ‘ä»¬è¯´å°†å¿«é—¨å˜æ…¢ä¸»è¦æ˜¯å¯èƒ½ä¼šä½¿ç…§ç‰‡æ¨¡ç³Šï¼Œå› ä¸ºè¢«æ‘„è€…å’Œäººçš„æ‰‹éƒ½æ˜¯éƒ½æ˜¯ç§»åŠ¨ï¼ˆæŠ–åŠ¨ï¼‰çš„ã€‚\né‚£ä¹ˆå¦‚æœæŠŠç›¸æœºæ”¾åœ¨ä¸‰è„šæ¶ä¸Šï¼Œè€Œä¸”è¢«æ‹çš„ç‰©ä½“æ˜¯ä¸åŠ¨çš„å‘¢ï¼Ÿé‚£ä¹ˆè¿™æ—¶å€™å°±ä¸ä¼šäº§ç”ŸæŠ–åŠ¨äº†ã€‚è¿™å°±æ˜¯ä¸‰è„šæ¶å­˜åœ¨çš„æ„ä¹‰ã€‚\näº‹å®ä¸Šï¼Œå°±ç®—ä½ æ‹äººæˆ–è€…åŠ¨ç‰©çš„è¯ï¼ŒæŠŠç›¸æœºæ”¾åœ¨ä¸‰è„šæ¶ä¸Šä¹Ÿä¼šæ¯”æ‰‹æŒç”»è´¨è¦å¥½ï¼Œå› ä¸ºå®ƒè‡³å°‘é¿å…äº†ä½ æ‰‹çš„æŠ–åŠ¨ã€‚\nå½“ç›¸æœºæ”¾åœ¨ä¸‰è„šæ¶ä¸Šæ‹é™ç‰©çš„æ—¶å€™ï¼Œæ— è®ºå¿«é—¨é€Ÿåº¦ä¸ºå¤šå°‘ï¼Œéƒ½ä¸ä¼šæ¨¡ç³Šï¼Œå“ªæ€•æ˜¯æ›å…‰å‡ ä¸ªå°æ—¶ã€‚\nç„¦è·ï¼š\nä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªç®€å•çš„å®šä¹‰ï¼šç„¦è·å°±æ˜¯é€é•œä¸­å¿ƒåˆ°ç„¦ç‚¹çš„è·ç¦»ã€‚ä¸ºäº†å½¢è±¡ä¾¿äºç†è§£ä¸€ç‚¹ï¼Œä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œç„¦è·è¶Šé•¿é€šå¸¸é•œå¤´ä¹Ÿå°±è¶Šé•¿ã€‚\né€šå¸¸è¯´ç„¦è·ï¼Œæˆ‘ä»¬ä¼šæ¶‰åŠä¸¤ä¸ªæ¦‚å¿µï¼šå¹¿è§’å’Œé•¿ç„¦ã€‚\nå¹¿è§’ä¸€èˆ¬æ˜¯ç­‰æ•ˆç„¦è·åœ¨35mmåŠä»¥ä¸‹çš„ç„¦è·ï¼Œç­‰æ•ˆç„¦è·å°äºç­‰äº24mmçš„å°±æ˜¯è¶…å¹¿è§’ï¼›\nè€Œé•¿ç„¦ä¸€èˆ¬æŒ‡85mmä»¥ä¸Šçš„ç„¦è·ï¼Œå¦‚æœåœ¨300mmä»¥ä¸Šåˆ™ç§°ä¸ºè¶…é•¿ç„¦ã€‚\nå¹¿è§’çš„è§†é‡å¹¿ï¼›\né•¿ç„¦çš„è§†é‡çª„ï¼Œä½†æ˜¯å¯ä»¥æ‹‰è¿‘ç‰©ä½“ã€‚\nä¸‹å›¾æ˜¯ç„¦è·å’Œè§†è§’ï¼ˆè§†é‡å®½è¿˜æ˜¯çª„ï¼‰çš„å¯¹åº”å…³ç³»å›¾ï¼š\nä¾‹å¦‚å¹¿è§’é•œå¤´å¯ä»¥æ‹è¿™æ ·çš„ç…§ç‰‡ï¼šï¼ˆå®½å¹¿è¾½é˜”çš„å£®è§‚ï¼‰\né•¿ç„¦é•œå¤´å¯ä»¥æ‹è¿™æ ·çš„ç…§ç‰‡ï¼šï¼ˆé€‚åˆå±€éƒ¨ç‰¹å†™ï¼Œç™¾ç±³ä¹‹å¤–å¦‚åœ¨çœ¼å‰ï¼Œé•¿ç„¦è§†è§‰ä¸Šå¯ä»¥å‹ç¼©ç©ºé—´ï¼‰\næˆ‘å¿…é¡»è¯´çš„æ˜¯ï¼Œå¥½çš„å¹¿è§’é•œå¤´å’Œé•¿ç„¦é•œå¤´éƒ½å¾ˆè´µã€‚\nå…¶å®æˆ‘ä¸»è¦æ˜¯è°ˆå…‰åœˆã€å¿«é—¨ã€ISOè¿™ä¸ªä¸‰ä¸ªå‚æ•°ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œåˆè¦è°ˆåˆ°ç„¦è·è¿™ä¸ªå‚æ•°å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºæˆ‘å³å°†è°ˆåˆ°çš„ä¸€ä¸ªåè¯ï¼Œå«åšâ€œå®‰å…¨å¿«é—¨â€ï¼Œè€Œå®‰å…¨å¿«é—¨å’Œç­‰æ•ˆç„¦è·å¯†åˆ‡ç›¸å…³ã€‚\næ•°ç ç›¸æœºçš„å¿«é—¨æ—¶é—´å¦‚æœä½äºæŸä¸ªå€¼ ï¼Œä¾¿å¾ˆå®¹æ˜“å› ä¸ºæ‰‹çš„æ™ƒåŠ¨ï¼Œè€Œè®©ç”»é¢å˜å¾—å¾ˆæ¨¡ç³Šã€‚è¿™ä¸ªå¿«é—¨å€¼å°±æ˜¯æˆ‘ä»¬è¯´çš„å®‰å…¨å¿«é—¨ã€‚å®‰å…¨å¿«é—¨ä¸€èˆ¬æ˜¯ç­‰æ•ˆç„¦è·çš„å€’æ•°ã€‚\næœ‰ä¸€å¥å¾ˆé‡è¦çš„è¯ï¼šç­‰æ•ˆç„¦è·è¶Šé•¿ï¼ŒæŠ–åŠ¨äº§ç”Ÿçš„å½±å“å°±ä¼šè¶Šå¤§ï¼Œå½±åƒå°±ä¼šè¶Šæ¨¡ç³Šã€‚\nåŸå› åˆ†æå¦‚ä¸‹ï¼š\nä»¥æŸç­‰æ•ˆç„¦è·ä¸º25mm â€” 750mmçš„æ™®é€šæ•°ç ç›¸æœºä¸ºä¾‹ï¼š\nå½“ä½ ä½¿ç”¨25mmç„¦è·çš„æ—¶å€™ï¼Œæ‰‹æŒæ‹æ‘„æ—¶å¿«é—¨åº”ä¸æ…¢äº1/25ç§’ï¼Œå½“ä½¿ç”¨750mmçš„ç„¦è·æ—¶ï¼Œæ‰‹æŒæ‹æ‘„æ—¶çš„å¿«é—¨åº”ä¸ä½äº1/750ç§’ã€‚å½“ç„¶ï¼Œå¦‚æœç”¨ä¸‰è„šæ¶çš„è¯ï¼Œå°±æ²¡æœ‰å¿«é—¨çš„é™åˆ¶äº†ã€‚\nä½†æ˜¯ï¼Œä¸€æ—¦ä½ ä¸ºäº†æ¶ˆé™¤æŠ–åŠ¨çš„å½±å“è€Œä½¿ç”¨äº†é«˜é€Ÿå¿«é—¨ï¼Œè¿™æ—¶å°±ç®—ä½ ä½¿ç”¨æœ€å¤§çš„å…‰åœˆï¼Œæ›å…‰é‡å¯èƒ½è¿˜æ˜¯ä¸è¶³ï¼Œè¿™æ—¶ç›¸æœºåªæœ‰å¼ºè¡Œä½¿ç”¨æé«˜çš„ISOï¼Œä¾‹å¦‚ISO 3200æˆ–è€…ISO 6400ï¼Œè¿™æ—¶ç”»è´¨å°±ä¼šå˜å¾—éå¸¸ç³Ÿç³•ã€‚\nè§£å†³è¿™ä¸ªçŸ›ç›¾çš„æ–¹æ³•é€šå¸¸æœ‰ä¸¤ä¸ªï¼šä¸€ä¸ªæ˜¯ä½¿ç”¨ä¸‰è„šæ¶æœç»æŠ–åŠ¨ï¼Œå¦ä¸€ä¸ªæ˜¯ä½¿ç”¨é˜²æŠ–é•œå¤´ä»¥ä½¿ç”¨è¾ƒæ…¢çš„å¿«é—¨å°±å¯ä»¥æœ‰æ•ˆå‡è½»æŠ–åŠ¨çš„å½±å“ã€‚\nä½†æ˜¯â€¦â€¦\né˜²æŠ–é•œå¤´æ˜¯å¾ˆè´µçš„ã€‚\nçœ‹è¿™ä¸¤ä¸ªé•œå¤´ï¼ŒåŸºæœ¬åŒºåˆ«å°±æ˜¯ä¸€ä¸ªé˜²æŠ–ä¸€ä¸ªä¸é˜²æŠ–ï¼Œç»“æœé˜²æŠ–çš„è´µäº†è¿‘4000å—é’±ã€‚\næœ€åè¦è°ˆçš„ä¸€ä¸ªåè¯å«åšâ€œæ™¯æ·±â€ã€‚\næ™¯æ·±ï¼šåœ¨èšç„¦å®Œæˆåï¼Œåœ¨ç„¦ç‚¹å‰åçš„èŒƒå›´å†…éƒ½èƒ½å½¢æˆæ¸…æ™°çš„åƒï¼Œè¿™ä¸€å‰ä¸€åçš„è·ç¦»èŒƒå›´ï¼Œä¾¿å«åšæ™¯æ·±ã€‚\næ™¯æ·±é€šå¸¸å’Œâ€œè™šåŒ–â€è¿™ä¸ªè¯è”ç³»åœ¨ä¸€èµ·ï¼Œæ™¯æ·±æµ…å³è™šåŒ–å¼ºï¼Œæ™¯æ·±æ·±å³è™šåŒ–å¼±ã€‚\næµ…æ™¯æ·±çš„ç…§ç‰‡ï¼šï¼ˆèœœèœ‚å’ŒèŠ±æœµä¸»ä½“æ¸…æ™°ï¼Œåé¢çš„ç»¿å¶å‡ ä¹å®Œå…¨è™šæ‰äº†ï¼‰\næ·±æ™¯æ·±çš„ç…§ç‰‡ï¼šï¼ˆæ— è®ºæ˜¯ä¸»ä½“çŸ³ç‹®å­è¿˜æ˜¯åé¢çš„å¤ªå’Œæ®¿éƒ½å¾ˆæ¸…æ™°ï¼‰\né‚£ä¹ˆè¦è·å¾—æµ…çš„æ™¯æ·±ä¸€èˆ¬éœ€è¦æ»¡è¶³ä»€ä¹ˆæ¡ä»¶å‘¢ï¼Ÿ\n1ã€å¤§å…‰åœˆï¼›\n2ã€å®é™…ç„¦è·è¾ƒé•¿ï¼›\n3ã€é•œå¤´ç¦»è¢«æ‘„è€…è¿‘ï¼Œè€ŒèƒŒæ™¯ç¦»è¢«æ‘„è€…è¿œã€‚\næ³¨ï¼šä¸ºäº†é¿å…è¿‡äºå¤æ‚ï¼Œå¯¹äºä¸Šæ–‡ä¸­çš„â€œç­‰æ•ˆç„¦è·â€å’Œâ€œå®é™…ç„¦è·â€çš„åŒºåˆ«åœ¨æ­¤æˆ‘ä¸è¯¦è¿°äº†ã€‚\nå†è¡¥å……ä¸€å¼ ç»å…¸çš„å›¾å§ï¼šå…‰åœˆã€å¿«é—¨ã€ISOã€æ™¯æ·±\n","date":"2024-08-19T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/photography1/","title":"ç›¸æœºæ‹æ‘„æ—¶æœ€é‡è¦çš„ä¸‰ä¸ªå‚æ•°â€”â€”å…‰åœˆã€å¿«é—¨ã€ISO"},{"content":" 1 2 3 route print â€‹route delete â€‹route add 172.0.0.0 mask 255.0.0.0 172.17.140.1 -p ","date":"2024-08-13T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/routesetter/","title":"ç”µè„‘å†…å¤–ç½‘è·¯ç”±é…ç½®"},{"content":"åœ¨C#ä¸­ï¼Œé™æ€æ„é€ å‡½æ•°ï¼ˆä¹Ÿç§°ä¸ºç±»å‹æ„é€ å‡½æ•°ï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–é™æ€æˆå‘˜æˆ–æ‰§è¡Œåªéœ€è¦ä¸€æ¬¡çš„æ“ä½œã€‚é™æ€æ„é€ å‡½æ•°çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š\næ— éœ€æ˜¾å¼è°ƒç”¨ï¼šé™æ€æ„é€ å‡½æ•°åœ¨ç¬¬ä¸€æ¬¡è®¿é—®ç±»å‹çš„é™æ€æˆå‘˜æˆ–å®ä¾‹æˆå‘˜ä¹‹å‰ï¼Œç”±è¿è¡Œæ—¶è‡ªåŠ¨è°ƒç”¨ã€‚\nä¸èƒ½æœ‰è®¿é—®ä¿®é¥°ç¬¦ï¼šé™æ€æ„é€ å‡½æ•°ä¸èƒ½æœ‰publicã€privateç­‰è®¿é—®ä¿®é¥°ç¬¦ã€‚å®ƒåªèƒ½ç”±ç±»å‹å®šä¹‰æ¥ç¡®å®šã€‚\næ— å‚æ•°ï¼šé™æ€æ„é€ å‡½æ•°ä¸èƒ½æœ‰å‚æ•°ã€‚\næ¯ä¸ªç±»å‹åªèƒ½æœ‰ä¸€ä¸ªé™æ€æ„é€ å‡½æ•°ã€‚\nä¸èƒ½é€šè¿‡å¯¹è±¡å®ä¾‹æ¥è°ƒç”¨ï¼šé™æ€æ„é€ å‡½æ•°åªèƒ½é€šè¿‡ç±»å‹æœ¬èº«è§¦å‘ï¼Œè€Œä¸èƒ½é€šè¿‡ç±»å‹çš„å®ä¾‹æ¥è§¦å‘ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨é™æ€æ„é€ å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 using System; class MyClass { // é™æ€å­—æ®µ public static int StaticField; // é™æ€æ„é€ å‡½æ•° static MyClass() { Console.WriteLine(\u0026#34;é™æ€æ„é€ å‡½æ•°è¢«è°ƒç”¨\u0026#34;); StaticField = 42; } // å®ä¾‹æ„é€ å‡½æ•° public MyClass() { Console.WriteLine(\u0026#34;å®ä¾‹æ„é€ å‡½æ•°è¢«è°ƒç”¨\u0026#34;); } // é™æ€æ–¹æ³• public static void StaticMethod() { Console.WriteLine(\u0026#34;é™æ€æ–¹æ³•è¢«è°ƒç”¨\u0026#34;); } } class Program { static void Main() { // è®¿é—®é™æ€å­—æ®µï¼Œè§¦å‘é™æ€æ„é€ å‡½æ•° Console.WriteLine(MyClass.StaticField); // åˆ›å»ºå®ä¾‹ï¼Œé™æ€æ„é€ å‡½æ•°ä¸ä¼šå†æ¬¡è¢«è°ƒç”¨ MyClass myClass = new MyClass(); // è°ƒç”¨é™æ€æ–¹æ³• MyClass.StaticMethod(); } } è¾“å‡ºï¼š\n1 2 3 4 é™æ€æ„é€ å‡½æ•°è¢«è°ƒç”¨ 42 å®ä¾‹æ„é€ å‡½æ•°è¢«è°ƒç”¨ é™æ€æ–¹æ³•è¢«è°ƒç”¨ åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼ŒMyClassç±»å®šä¹‰äº†ä¸€ä¸ªé™æ€å­—æ®µStaticFieldå’Œä¸€ä¸ªé™æ€æ„é€ å‡½æ•°ã€‚åœ¨Mainæ–¹æ³•ä¸­ï¼Œç¬¬ä¸€æ¬¡è®¿é—®StaticFieldæ—¶ï¼Œé™æ€æ„é€ å‡½æ•°è¢«è°ƒç”¨å¹¶åˆå§‹åŒ–äº†StaticFieldã€‚éšåçš„å®ä¾‹åˆ›å»ºå’Œé™æ€æ–¹æ³•è°ƒç”¨ä¸ä¼šå†æ¬¡è§¦å‘é™æ€æ„é€ å‡½æ•°ã€‚\né™æ€æ„é€ å‡½æ•°é€šå¸¸ç”¨äºæ‰§è¡Œç±»å‹çº§åˆ«çš„åˆå§‹åŒ–ä»»åŠ¡ï¼Œä¾‹å¦‚è®¾ç½®é™æ€å­—æ®µçš„é»˜è®¤å€¼ã€é…ç½®ç±»å‹çº§åˆ«çš„èµ„æºç­‰ã€‚å®ƒä¿è¯è¿™äº›åˆå§‹åŒ–é€»è¾‘åœ¨ç±»å‹é¦–æ¬¡ä½¿ç”¨æ—¶æ°å½“åœ°æ‰§è¡Œã€‚\n","date":"2024-08-12T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/static-ctor/","title":"é™æ€æ„é€ å‡½æ•°"},{"content":"å®‰è£… EF.Sqlseverï¼ˆsqlserveræ•°æ®åº“æä¾›ç¨‹åºï¼‰ EF Tools\u0026ndash;\u0026gt;EF Design(å®‰è£…åˆ°å¯åŠ¨é¡¹) è·Ÿè¸ªæŸ¥è¯¢ é»˜è®¤æƒ…å†µä¸‹ï¼Œè·Ÿè¸ªè¿”å›å®ä½“ç±»å‹çš„æŸ¥è¯¢ã€‚ è·Ÿè¸ªæŸ¥è¯¢æ„å‘³ç€å¯¹å®ä½“å®ä¾‹æ‰€åšçš„ä»»ä½•æ›´æ”¹éƒ½ç”± SaveChangesæŒä¹…åŒ–ã€‚ åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œæ£€æµ‹åˆ°å¯¹åšå®¢åˆ†çº§çš„æ›´æ”¹ï¼Œå¹¶åœ¨ æœŸé—´ SaveChangesä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼š Blogsä¸Šä¸€å®šè¦æŒ‡å®šä¸»é”®\n1 2 3 var blog = context.Blogs.SingleOrDefault(b =\u0026gt; b.BlogId == 1); blog.Rating = 5; context.SaveChanges(); åœ¨è·Ÿè¸ªæŸ¥è¯¢ä¸­è¿”å›ç»“æœæ—¶ï¼ŒEF Core ä¼šæ£€æŸ¥å®ä½“æ˜¯å¦å·²åœ¨ä¸Šä¸‹æ–‡ä¸­ã€‚ å¦‚æœ EF Core æ‰¾åˆ°ç°æœ‰å®ä½“ï¼Œåˆ™è¿”å›ç›¸åŒçš„å®ä¾‹ï¼Œè¿™å¯èƒ½ä½¿ç”¨æ›´å°‘çš„å†…å­˜ï¼Œå¹¶ä¸”æ¯”æ— è·Ÿè¸ªæŸ¥è¯¢æ›´å¿«ã€‚ EF Core ä¸ä¼šä½¿ç”¨æ•°æ®åº“å€¼è¦†ç›–æ¡ç›®ä¸­å®ä½“å±æ€§çš„å½“å‰å€¼å’ŒåŸå§‹å€¼ã€‚ å¦‚æœåœ¨ä¸Šä¸‹æ–‡ä¸­æ‰¾ä¸åˆ°å®ä½“ï¼ŒEF Core ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å®ä½“å®ä¾‹å¹¶å°†å…¶é™„åŠ åˆ°ä¸Šä¸‹æ–‡ã€‚ æŸ¥è¯¢ç»“æœä¸ä¼šåŒ…å«ä»»ä½•å·²æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä½†å°šæœªä¿å­˜åˆ°æ•°æ®åº“ä¸­çš„å®ä½“ã€‚\néè·Ÿè¸ªæŸ¥è¯¢ åœ¨åªè¯»æ–¹æ¡ˆä¸­ä½¿ç”¨ç»“æœæ—¶ï¼Œéè·Ÿè¸ªæŸ¥è¯¢ååˆ†æœ‰ç”¨ã€‚ é€šå¸¸å¯ä»¥æ›´å¿«é€Ÿåœ°æ‰§è¡Œéè·Ÿè¸ªæŸ¥è¯¢ï¼Œå› ä¸ºæ— éœ€è®¾ç½®æ›´æ”¹è·Ÿè¸ªä¿¡æ¯ã€‚ å¦‚æœä¸éœ€è¦æ›´æ–°ä»æ•°æ®åº“æ£€ç´¢åˆ°çš„å®ä½“ï¼Œåˆ™åº”ä½¿ç”¨æ— è·Ÿè¸ªæŸ¥è¯¢ã€‚ å•ä¸ªæŸ¥è¯¢å¯ä»¥è®¾ç½®ä¸ºä¸è·Ÿè¸ªã€‚ æ— è·Ÿè¸ªæŸ¥è¯¢è¿˜ä¼šæ ¹æ®æ•°æ®åº“ä¸­çš„å†…å®¹æä¾›ç»“æœï¼Œè€Œä¸è€ƒè™‘ä»»ä½•æœ¬åœ°æ›´æ”¹æˆ–æ·»åŠ çš„å®ä½“ã€‚\n1 2 3 var blogs = context.Blogs .AsNoTracking() .ToList(); å­—æ®µéƒ¨åˆ†æ›´æ–° 1 2 3 4 5 var thiscarcom = await db.CarCommons.AsNoTracking() .FirstOrDefaultAsync(f =\u0026gt; f.CarName == thiscarbase.CarName); db.CarCommons.Attach(thiscarcom); db.Entry(thiscarcom).Property(p =\u0026gt; p.TaskStatus).IsModified = true; db.SaveChanges(); 1 2 3 4 5 6 7 8 9 db.Attach(item); db.Entry(item).State = EntityState.Modified;//å°†æ‰€æœ‰å­—æ®µè®¾ç½®ä¸ºè¦æ›´æ–°çŠ¶æ€ db.Entry(item).Property(p =\u0026gt; p.TaskStatus).IsModified = false db.Entry(item).Property(p =\u0026gt; p.RobotStatus).IsModified = false; db.Entry(item).Property(p =\u0026gt; p.ArmStatus).IsModified = false; db.Entry(item).Property(p =\u0026gt; p.CurrentTraName).IsModified = false; db.Entry(item).Property(p =\u0026gt; p.CanLedTask).IsModified = false; db.Entry(item).Property(p =\u0026gt; p.Current_map).IsModified = false; db.SaveChanges();\t","date":"2024-08-09T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/efcore/","title":"EFcore"},{"content":"Â åœ¨å­¦ä¹ EF Coreçš„æ—¶å€™ä½¿ç”¨Update-Databaseæ—¶å€™æŠ¥é”™æ˜¾ç¤ºè¯ä¹¦é“¾æ˜¯ç”±ä¸å—ä¿¡ä»»çš„é¢å‘æœºæ„é¢å‘çš„ï¼š\n1 A connection was successfully established with the server, but then an error occurred during the login process. (provider: SSL Provider, error: 0 - è¯ä¹¦é“¾æ˜¯ç”±ä¸å—ä¿¡ä»»çš„é¢å‘æœºæ„é¢å‘çš„ã€‚) è§£å†³æ–¹æ³•ï¼š\nç›´æ¥åœ¨æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æœ€åé¢â€å¢åŠ è¯ä¹¦ä¿¡ä»»çš„é…ç½®ã€‚\nprotected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder) { optionsBuilder.UseSqlServer(\u0026quot;server=***;Database=***; user=***; Password=***;MultipleActiveResultSets = True;TrustServerCertificate=true\u0026quot;); base.OnConfiguring(optionsBuilder); } æœ€ç»ˆæˆåŠŸæ‰§è¡Œï¼š\n1 2 3 4 PM\u0026gt; Update-database Build started... Build succeeded. Done. ","date":"2024-08-07T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/efcore-notice/","title":"Efcore Update-Databaseæ˜¾ç¤ºè¯ä¹¦é“¾æ˜¯ç”±ä¸å—ä¿¡ä»»"},{"content":"ä½¿ç”¨å®ä¾‹æ±  EFCore2.0 ä¸ºDbContextå¼•å…¥æ–°çš„æ³¨å†Œæ–¹å¼ï¼šé€æ˜åœ°æ³¨å†Œäº† DbContextå®ä¾‹æ± ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼å¯ä»¥é¿å…å§‹ç»ˆåˆ›å»ºæ–°çš„å®ä¾‹ï¼ŒEF Core å°†é‡ç½®å…¶çŠ¶æ€å¹¶å°†å…¶å­˜å‚¨åœ¨å†…éƒ¨æ± ä¸­ï¼›å½“ä¸‹æ¬¡è¯·æ±‚æ–°çš„å®ä¾‹æ—¶ï¼Œå°†è¿”å›è¯¥å…±ç”¨å®ä¾‹ï¼Œè€Œä¸æ˜¯è®¾ç½®æ–°çš„å®ä¾‹\nä½¿ç”¨ç¤ºä¾‹ï¼š\n1 services.AddDbContext\u0026lt;HandshakesWebDBContext\u0026gt;(options =\u0026gt; options.UseSqlServer(connectionConfiguration.WebDBConnection)); æ›¿æ¢ä¸ºï¼š\n1 2 builder.Services.AddDbContextPool\u0026lt;HandshakesWebDBContext\u0026gt;(options =\u0026gt; options.UseSqlServer(connectionConfiguration.WebDBConnection), poolSize: 80); //æ³¨æ„è®¾ç½®æœ€å¤§è¿æ¥æ•°ï¼Œä¸€æ—¦è¶…è¿‡é»˜è®¤é…ç½®çš„è¿æ¥æ± æœ€å¤§æ•°é‡ï¼Œä¼šå›é€€åˆ°æŒ‰éœ€åˆ›å»ºå®ä¾‹çš„è¡Œä¸º åŸºå‡†æµ‹è¯•(å®˜æ–¹) æµ‹è¯•ä»£ç ï¼š\næ–¹æ³• æ•°é‡ å¹³å‡å€¼ é”™è¯¯ æ ‡å‡†åå·® Gen 0 Gen 1 Gen 2 å·²åˆ†é… WithoutContextPooling 1 701.6 us 26.62 us 78.48 us 11.7188 - - 50.38 KB WithContextPooling 1 350.1 us 6.80 us 14.64 us 0.9766 - - 4.63 KB æ³¨æ„äº‹é¡¹ï¼šè™½ç„¶åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿™ç§åšæ³•å¯¹æ€§èƒ½çš„æå‡å¯èƒ½å¹¶ä¸æ˜¯éå¸¸æ˜æ˜¾ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ç§å¥½çš„å®è·µæ–¹å¼ï¼Œé¿å…èµ„æºæµªè´¹çš„åŒæ—¶å¯¹æ€§èƒ½å¸¦æ¥ä¸€å®šçš„æå‡ã€‚\nä½¿ç”¨æ‹†åˆ†æŸ¥è¯¢ äº†è§£ä»€ä¹ˆæ˜¯ ç¬›å°”å¡ä¹˜ç§¯ ?\né€šä¿—åœ°æ¥è®²æŒ‡çš„æ˜¯ä»ä¸¤ä¸ªé›†åˆ(Set)ä¸­çš„å…ƒç´ ç»„æˆæ–°çš„é…å¯¹é›†åˆ ä»¥éº¦å½“åŠ³å¥—é¤æ¥æ¯”å–»,é—¨åº—å°†æ±‰å ¡çº¿å’Œé¥®å“çº¿ä¸Šçš„æ¯ä¸ªäº§å“é›†åˆç»„æˆä¸€ä¸ªæ–°çš„å¥—é¤ä¼šæœ‰å¤šå°‘ç§å¥—é¤\nåœ¨æ•°æ®åº“ä¸­çš„è¡¨ç°å½¢å¼æ­£æ˜¯è”è¡¨æŸ¥(join)æ“ä½œ ä¸¤ä¸ªè¡¨åœ¨æ•°æ®é‡ä¸æ˜¯å¾ˆå¤§çš„æƒ…å†µä¸‹æŸ¥è¯¢æ¥è®²å¯èƒ½å¯¹æ€§èƒ½å½±å“æ¨¡æ£±ä¸¤å¯ ä½†æ˜¯å¯¹äºä¸€äº›å› ä¸šåŠ¡éœ€æ±‚æ—¥ç›Šå¢åŠ åˆ—çš„å¤§å®½è¡¨ä»¥åŠæ•°æ®å­˜é‡è¿‡å¤§çš„è¡¨æ¥è®²å°±ä¼šäº§ç”ŸæŸ¥è¯¢è¿‡æ…¢ä»¥åŠæ•°æ®å†—ä½™çš„é—®é¢˜\nå°¤å…¶é€‚åˆä¸€å¯¹å¤šä¸”å­è¡¨æ•°æ®é‡è¾ƒå¤§çš„åœºæ™¯ã€‚\nçœ‹ä¸€æ®µLinqä»£ç ï¼š\n1 2 3 4 5 6 7 8 var data = ctx.As .Include(x =\u0026gt; x.Bs) .Include(x =\u0026gt; x.Cs) .ThenInclude(x =\u0026gt; x.D1s) .Include(x =\u0026gt; x.Cs) .ThenIncude(x =\u0026gt; x.C1s) .ThenInclude(x=\u0026gt;x.D2s) .ToList(); ç›‘æ§æŸ¥çœ‹ç”Ÿæˆçš„Sqlè¯­å¥ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 SELECT [A].[Id], [A].[Name], [B].[Id], [B].[AId], [B].[Name], [C].[Id], [C].[AId], [C].[Name], [D1].[Id], [D1].[CId], [D1].[Name], [C1].[Id], [C1].[CId], [C1].[Name], [D2].[Id], [D2].[C1Id], [D2].[Name] FROM [As] AS [A] LEFT JOIN [Bs] AS [B] ON [A].[Id] = [B].[AId] LEFT JOIN [Cs] AS [C] ON [A].[Id] = [C].[AId] LEFT JOIN [D1s] AS [D1] ON [C].[Id] = [D1].[CId] LEFT JOIN [C1s] AS [C1] ON [C].[Id] = [C1].[CId] LEFT JOIN [D2s] AS [D2] ON [C1].[Id] = [D2].[C1Id] æ¯«æ— ç–‘é—®ï¼Œè¿™ä¸€æ®µç³Ÿç³•çš„sqlè¯­å¥ï¼Œå‡è®¾æ¯å¼ è¡¨çš„æ•°æ®é‡éƒ½å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œè¿™å¯¹æŸ¥è¯¢æ— ç–‘æ˜¯ä¸€ç§å¾ˆå¤§çš„è´Ÿæ‹…ï¼Œå¦‚æœæ¡ä»¶å†å¤æ‚ä¸€ç‚¹ï¼Œå¯¹æ•´ä¸ªè¯­å¥çš„åˆ†æä¹Ÿæ˜¯å¾ˆç³Ÿç³•çš„ã€‚å…³äºé˜¿é‡Œå¼€å‘è§„èŒƒä¸­å®šä¹‰è¶…è¿‡3å¼ è¡¨çš„joinæŸ¥è¯¢æ˜¯è¢«ç¦æ­¢çš„ (æœªæŸ¥è¯)ï¼Œè¿™ä¸ªå¯èƒ½åªæ˜¯ä¸ºäº†å¼€å‘è§„èŒƒå’Œç®¡ç†ï¼Œä»æŠ€æœ¯è§’åº¦å‡ºå‘ï¼Œå…¶å®æ˜¯æ²¡æœ‰è¿™æ ·çš„åŸåˆ™æ€§é—®é¢˜çš„ã€‚\nè§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨SplitQueryï¼Œä»å­—é¢æ„ä¹‰å°±å¯ä»¥ç†è§£ï¼Œå³å°†è¿™äº›joinæŸ¥è¯¢æ‹†åˆ†æˆå•ä¸ªæŸ¥è¯¢æ¥æ‰§è¡Œ\nç¤ºä¾‹ä»£ç ï¼ˆæ¨èï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 var data = ctx.As .Include(x =\u0026gt; x.Bs) .Include(x =\u0026gt; x.Cs) .ThenInclude(x =\u0026gt; x.D1s) .Include(x =\u0026gt; x.Cs) .ThenIncude(x =\u0026gt; x.C1s) .ThenInclude(x=\u0026gt;x.D2s) .AsSplitQuery() //è®¾ç½®ä¸ºæ‹†åˆ†æŸ¥è¯¢ .ToList(); å½“ç„¶ä¹Ÿå¯ä»¥åœ¨å…¨å±€è¿›è¡Œé…ç½® (ä½†æ˜¯ä¸€èˆ¬ä¸æ¨èè¿™æ ·åšï¼Œæœ€å¥½æ ¹æ®æ¯ä¸ªæŸ¥è¯¢çš„å®é™…æƒ…å†µï¼Œä½¿ç”¨ä¸Šé¢æ¨èçš„æ–¹å¼)\n1 builder.Services.AddDbContext\u0026lt;CRSGEntityDbContext\u0026gt;(options =\u0026gt; options.UseSqlServer(builder.Configuration[\u0026#34;ConnectionStrings:FiinGroupDB\u0026#34;], o =\u0026gt; o.UseQuerySplittingBehavior(QuerySplittingBehavior.SplitQuery))); ç”Ÿæˆçš„sql\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 SELECT [a].[Id], [a].[OtherColumns] FROM [As] AS [a] SELECT [b].[Id], [b].[AId], [b].[OtherColumns] FROM [Bs] AS [b] INNER JOIN [As] AS [a] ON [b].[AId] = [a].[Id] SELECT [c].[Id], [c].[AId], [c].[OtherColumns] FROM [Cs] AS [c] INNER JOIN [As] AS [a] ON [c].[AId] = [a].[Id] SELECT [d1].[Id], [d1].[CId], [d1].[OtherColumns] FROM [D1s] AS [d1] INNER JOIN [Cs] AS [c] ON [d1].[CId] = [c].[Id] WHERE [c].[AId] IN (SELECT [a].[Id] FROM [As] AS [a]) SELECT [c1].[Id], [c1].[CId], [c1].[OtherColumns] FROM [C1s] AS [c1] INNER JOIN [Cs] AS [c] ON [c1].[CId] = [c].[Id] WHERE [c].[AId] IN (SELECT [a].[Id] FROM [As] AS [a]) SELECT [d2].[Id], [d2].[C1Id], [d2].[OtherColumns] FROM [D2s] AS [d2] INNER JOIN [C1s] AS [c1] ON [d2].[C1Id] = [c1].[Id] WHERE [c1].[CId] IN (SELECT [c].[Id] FROM [Cs] AS [c] WHERE [c].[AId] IN (SELECT [a].[Id] FROM [As] AS [a])) å¯ä»¥çœ‹åˆ°æŸ¥è¯¢è¢«æ‹†åˆ†æˆäº†ç‹¬ç«‹çš„è¯­å¥ï¼Œé€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œå¯¹äºæ•°æ®åº“æ¥è¯´æ‰§è¡Œæ•ˆç‡ä¹Ÿä¼šæ›´å¥½ã€‚\næ³¨æ„äº‹é¡¹ï¼šè™½ç„¶æ‹†åˆ†æŸ¥è¯¢å¯ä»¥é€šè¿‡é¿å…ç¬›å°”å¡çˆ†ç‚¸å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿéœ€è¦æ ¹æ®å®é™…çš„æŸ¥è¯¢åœºæ™¯æ¥å†³å®šæ˜¯å¦ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼Œéœ€è¦å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œåˆ†é¡µï¼Œåˆ†ç»„ç­‰æ“ä½œçš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯æŸ¥è¯¢ç»“æœçš„æ­£ç¡®æ€§ï¼Œå°±éœ€è¦è€ƒè™‘æ˜¯å¦è¦ä½¿ç”¨æ‹†åˆ†æŸ¥è¯¢\nå…³è”è¯é¢˜ï¼šå…³äºæ‡’åŠ è½½ï¼Œå…¶å®æ‡’åŠ è½½çš„é—®é¢˜åŸå› å°±ç­‰åŒäºåœ¨å¾ªç¯ä¸­æ‰§è¡Œsqlè¯­å¥ï¼Œç¤ºä¾‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 //åœ¨æ²¡æœ‰æ˜¾ç¤ºåŠ è½½çš„æƒ…å†µä¸‹ï¼Œç›´æ¥å¾ªç¯æŸ¥è¯¢å­å¯¹è±¡ foreach (var blog in context.Blogs.ToList()) { foreach (var post in blog.Posts) { Console.WriteLine($\u0026#34;Blog {blog.Url}, Post: {post.Title}\u0026#34;); } } è§‚å¯Ÿsqlæ—¥å¿—ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 info: Microsoft.EntityFrameworkCore.Database.Command[20101] Executed DbCommand (1ms) [Parameters=[], CommandType=\u0026#39;Text\u0026#39;, CommandTimeout=\u0026#39;30\u0026#39;] SELECT [b].[BlogId], [b].[Rating], [b].[Url] FROM [Blogs] AS [b] info: Microsoft.EntityFrameworkCore.Database.Command[20101] Executed DbCommand (5ms) [Parameters=[@__p_0=\u0026#39;1\u0026#39;], CommandType=\u0026#39;Text\u0026#39;, CommandTimeout=\u0026#39;30\u0026#39;] SELECT [p].[PostId], [p].[BlogId], [p].[Content], [p].[Title] FROM [Post] AS [p] WHERE [p].[BlogId] = @__p_0 info: Microsoft.EntityFrameworkCore.Database.Command[20101] Executed DbCommand (1ms) [Parameters=[@__p_0=\u0026#39;2\u0026#39;], CommandType=\u0026#39;Text\u0026#39;, CommandTimeout=\u0026#39;30\u0026#39;] SELECT [p].[PostId], [p].[BlogId], [p].[Content], [p].[Title] FROM [Post] AS [p] WHERE [p].[BlogId] = @__p_0 info: Microsoft.EntityFrameworkCore.Database.Command[20101] Executed DbCommand (1ms) [Parameters=[@__p_0=\u0026#39;3\u0026#39;], CommandType=\u0026#39;Text\u0026#39;, CommandTimeout=\u0026#39;30\u0026#39;] SELECT [p].[PostId], [p].[BlogId], [p].[Content], [p].[Title] FROM [Post] AS [p] WHERE [p].[BlogId] = @__p_0 ... and so on æ­£ç¡®çš„åšæ³•å³ä½¿ç”¨Includeæˆ–è€…Loadæ˜¾ç¤ºåŠ è½½æ•°æ®ã€‚\nä½¿ç”¨æ‰¹å¤„ç†è¯­å¥ æ‰¹å¤„ç†è¯­å¥æ˜¯EFCore7 ç‰ˆæœ¬ä¸­æ›´æ–°çš„é‡è¦åŠŸèƒ½ï¼Œè§£å†³äº†ä»¥å¾€ç‰ˆæœ¬éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“æ¥å®ç°æ•°æ®çš„æ‰¹é‡æ›´æ–°ï¼Œåˆ é™¤æ“ä½œï¼Œè€Œä¸”åœ¨æ€§èƒ½ä¸Šå¸¦æ¥äº†æ›´å¤§çš„æå‡\næ‰¹é‡åˆ é™¤ ä¹‹å‰ç‰ˆæœ¬çš„åšæ³•ï¼ˆä¸å€ŸåŠ©ç¬¬ä¸‰æ–¹åº“ï¼‰\n1 2 3 4 5 foreach (var blog in context.Blogs.Where(b =\u0026gt; b.Rating \u0026lt; 3)) { context.Blogs.Remove(blog); } context.SaveChanges(); ä½¿ç”¨ExecuteDeleteï¼Œæ— è®ºæ˜¯ä»è¯­æ³•ä¸Šè¿˜æ˜¯æ€§èƒ½ä¸Šï¼Œæ‰¹å¤„ç†æ“ä½œéƒ½ä¼˜äºå‰è€…ã€‚\n1 context.Blogs.Where(b =\u0026gt; b.Rating \u0026lt; 3).ExecuteDelete(); å¦‚æœæ˜¯EFCoreç‰ˆæœ¬ä½äº7.0ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç›´æ¥æ‰§è¡Œsqlè¯­å¥ ExecuteSqlRaw çš„æ–¹å¼æ¥è¿›è¡Œæ“ä½œ\n1 context.Database.ExecuteSqlRaw(\u0026#34;DELETE FROM [Blogs] WHERE [Rating] \u0026lt; 3\u0026#34;); æ‰¹é‡æ›´æ–° ç”¨æ³•ä¸Delete åŸºæœ¬ç›¸åŒ\n1 2 3 context.Blogs .Where(b =\u0026gt; b.Rating \u0026lt; 3) .ExecuteUpdate(setters =\u0026gt; setters.SetProperty(b =\u0026gt; b.IsVisible, false)); æ³¨æ„äº‹é¡¹ï¼šç›®å‰ä»…æ”¯æŒå…³ç³»å‹æ•°æ®åº“ï¼Œè€Œä¸”éœ€è¦ç”±äºæ˜¯åŠæ—¶å‘é€ä¸Šä¸‹æ–‡è¯·æ±‚ï¼Œæ‰€ä»¥å¦‚æœè¦æ”¯æŒäº‹åŠ¡ï¼Œéœ€è¦ä½¿ç”¨æ˜¾ç¤ºäº‹åŠ¡æ¥ä¸å…¶ä»–ä»£ç ç»„åˆ\nä½¿ç”¨éè·Ÿè¸ªæŸ¥è¯¢ è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œåœ¨ä½ ä¸éœ€è¦å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œä»»ä½•æ›´æ–°æ“ä½œçš„åœºæ™¯ä¸‹ï¼Œå°½é‡ä½¿ç”¨éè·Ÿè¸ªæŸ¥è¯¢\n1 2 3 var blogs = context.Blogs .AsNoTracking() .ToList(); æˆ–è€…\n1 2 context.ChangeTracker.QueryTrackingBehavior = QueryTrackingBehavior.NoTracking; var blogs = context.Blogs.ToList(); æµ‹è¯•ä»£ç \n1 2 3 4 5 6 7 8 9 10 11 //ä»£ç æ‰§è¡Œå‰å·²å¯¹æ•°æ®åº“è¿›è¡Œé¢„çƒ­å¤„ç† //æ‰§è¡Œ5æ¬¡ double elapsedTime4 = MeasureTime(() =\u0026gt; context.Blogs.FirstOrDefault(x =\u0026gt; x.Id == 1), 5); double elapsedTime5 = MeasureTime(() =\u0026gt; context.Blogs.AsNoTracking().FirstOrDefault(x =\u0026gt; x.Id == 1), 5); Console.WriteLine($\u0026#34;Tracked time took : {elapsedTime4} ms\u0026#34;); Console.WriteLine($\u0026#34;AsNoTracking() time took : {elapsedTime5} ms\u0026#34;); //Consoles: //Tracked time took : 318.26 ms //AsNoTracking() time took : 229.86 ms ä»…æŠ•å½±éœ€è¦çš„å­—æ®µ ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è®²è¿™æ˜¯ä¸€ä¸ªæ„è¯†é—®é¢˜ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä¸ºäº†èŠ‚çœä»£ç é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨DataSet å®šä¹‰çš„å¯¹è±¡æ¥ç›´æ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œæˆ–è€…ä½¿ç”¨IncludeåŠ è½½å…³è”è¡¨æ•°æ®ï¼Œä½†æ˜¯åœ¨é‡åˆ°å¤§é‡æ•°æ®æŸ¥è¯¢æˆ–å¤§é‡çš„è¡¨è¿æ¥æŸ¥è¯¢çš„æ—¶å€™ï¼Œç²¾å‡†çš„å±æ€§æŠ•å½±å¯¹æ€§èƒ½å°±ä¼šèµ·åˆ°å¾ˆå¤§çš„å½±å“\nç¤ºä¾‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 var data = ctx.As .Where(x =\u0026gt; x.Name.StartWith(\u0026#34;xxx\u0026#34;)) .ToList(); foreach (var item in data.Bs) { Console.WriteLine($\u0026#34;Name :{item.Name},Id: {item.Id}\u0026#34;); } ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä»…éœ€è¦æŸ¥è¯¢ä¸»è¡¨åŠå­è¡¨çš„idå’Œnameä¿¡æ¯ï¼Œä½†æ˜¯å´åŠ è½½äº†æ‰€æœ‰çš„ç›¸å…³çš„ä¸»è¡¨å’Œå­è¡¨å­—æ®µï¼Œè¿™å¯¹æ€§èƒ½æ˜¯ä¸€ç§æµªè´¹\nè§£å†³æ–¹æ¡ˆï¼šé€šè¿‡SelectæŠ•å½±éœ€è¦æŸ¥è¯¢çš„å­—æ®µ\n1 2 3 4 var data = ctx.As .Where(x =\u0026gt; x.Id=1) .Select(x =\u0026gt; new {x.Id, x.Name}) .ToList(); ä¸ªäººä¹ æƒ¯æ€§åšæ³•\n1 2 3 4 5 //1ï¼Œä¸ä¾èµ–äºæ•°æ®åº“å¤–é”®çš„è®¾ç½® var query = from b in context.Blogs join c in context.Comments on b.blogId equals c.blogId join d in context.Posts on d.commentId equals c.commentId select new A{blogId = b.blogId,postId = d.postId,postValue = d.postValue} è¿™ç§åšæ³•å¯¹å¤šè¡¨è”æŸ¥å’Œå¤§æ•°æ®é‡çš„æŸ¥è¯¢å¾ˆæœ‰ç”¨ ,ä½†éœ€è¦æ³¨æ„çš„æ˜¯è¿™ç§åšæ³•å¹¶ä¸é€‚åˆéœ€è¦æ›´æ–°æ•°æ®çš„åœºæ™¯ï¼Œå› ä¸º EF çš„æ›´æ”¹è·Ÿè¸ªä»…é€‚ç”¨äºå®ä½“å®ä¾‹ã€‚\nå°½é‡ä½¿ç”¨å¼‚æ­¥æ–¹æ³• EFCore åŸºæœ¬ä¸Šå¯¹æ‰€æœ‰åŒæ­¥æ“ä½œæ–¹æ³•éƒ½æä¾›äº†å¯¹åº”çš„å¼‚æ­¥æ–¹æ³•ï¼Œå°½é‡ä½¿ç”¨ä»–ä»¬é¿å…é˜»å¡ï¼Œå‡å°‘å¯¹çº¿ç¨‹çš„éœ€è¦å’Œå¿…é¡»å‘ç”Ÿçš„çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¬¡æ•°ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 //ToListAsync var data = await context.blogs.ToListAsync(); //FirstOrDefaultAsync var item = await context.blogs.FirstOrDefaultAsync(it =\u0026gt; it.Id == 1); item.point=2; //SaveChangesAsync await context.SaveChangesAsync(); //AsAsyncEnumerable var groupedHighlyRatedBlogs = await context.Blogs .AsQueryable() .Where(b =\u0026gt; b.Rating \u0026gt; 3) // server-evaluated .AsAsyncEnumerable() .GroupBy(b =\u0026gt; b.Rating) // client-evaluated .ToListAsync(); å¼‚æ­¥ç¼–ç¨‹åœ¨efcoreä¸­åœ¨å¤§å¤šæ•°æƒ…å†µè¢«æ¨èä½¿ç”¨ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„é¿å…ä½¿ç”¨å¼‚æ­¥æ–¹æ³•æŸ¥è¯¢æ–‡æœ¬æˆ–äºŒè¿›åˆ¶æ•°æ®ç±»å‹çš„å†…å®¹ï¼Œè¿™æ ·åè€Œä¼šå¼•èµ·æ€§èƒ½é—®é¢˜(sqlclientçš„é—®é¢˜)ï¼ŒissueæŠ¥å‘Š: EF Core - Memory and performance issues with async methods Reading large data (binary, text) asynchronously is extremely slow\né¿å…æ··åˆä½¿ç”¨åŒæ­¥å’Œå¼‚æ­¥æ–¹æ³•ï¼Œå½“ä½ çš„ç¨‹åºè¯·æ±‚é‡è¾ƒå¤§çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½å¯¼è‡´è¿æ¥æ± è€—å°½ï¼Œä»è€Œå¼•èµ·çš„æ€§èƒ½é—®é¢˜ã€‚\nä½¿ç”¨FindæŸ¥æ‰¾å•ä¸ªç›®æ ‡æ•°æ® è®¾è®¡ä¸ºåœ¨å·²çŸ¥ä¸»é”®æ—¶é«˜æ•ˆæŸ¥æ‰¾å•ä¸ªå®ä½“ã€‚ Find é¦–å…ˆæ£€æŸ¥å®ä½“æ˜¯å¦å·²è¢«è·Ÿè¸ªï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç«‹å³è¿”å›è¯¥å®ä½“ã€‚ åªæœ‰å½“æœªåœ¨æœ¬åœ°è·Ÿè¸ªå®ä½“æ—¶ï¼Œæ‰æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œè€ŒFirst/FirstOrDefaultä¼šç«‹å³æŸ¥è¯¢æ•°æ®åº“ã€‚\n1 2 3 4 5 6 7 8 9 10 //ä»£ç æ‰§è¡Œå‰å·²å¯¹æ•°æ®åº“è¿›è¡Œé¢„çƒ­å¤„ç† double elapsedTime4 = MeasureTime(() =\u0026gt; context.blogs.Find(1); double elapsedTime5 = MeasureTime(() =\u0026gt; context.blogs.Find(1); Console.WriteLine($\u0026#34;Find() first time took : {elapsedTime4} ms\u0026#34;); Console.WriteLine($\u0026#34;Find() second time took : {elapsedTime5} ms\u0026#34;); //Consoles: //Find() first time took : 268.41 ms //Find() second time took : 0.16 ms æ³¨æ„ï¼Œåªèƒ½é€šè¿‡é”®æŸ¥è¯¢çš„æ—¶å€™å¯ä»¥ç”¨ã€‚\nä½¿ç”¨Anyåˆ¤æ–­æ•°æ®å†…å®¹ åœ¨æ£€æŸ¥æŸäº›æ•°æ®æ˜¯å¦å­˜åœ¨çš„æ—¶å€™ï¼Œä¼˜å…ˆä½¿ç”¨Anyï¼Œè¿™æ ·åœ¨åŒ¹é…åˆ°ç¬¬ä¸€æ¡æ•°æ®åï¼ŒæŸ¥è¯¢å°±ä¼šåœæ­¢ï¼ŒFirstå› ä¸ºéœ€è¦è¿”å›æ•°æ®ï¼Œå¢åŠ äº†æ•°æ®ä¼ è¾“å’Œå¯¹è±¡å®ä¾‹åŒ–çš„å¼€é”€ï¼ŒCountåˆ™éœ€è¦æ‰«æè¡¨\n1 2 3 4 5 6 7 8 9 10 11 12 double elapsedTime1 = MeasureTime(() =\u0026gt; context.Blogs.Any(it =\u0026gt; it.Id == 1)); double elapsedTime2 = MeasureTime(() =\u0026gt; context.Blogs.Count(it =\u0026gt; it.Id == 1), 1); double elapsedTime3 = MeasureTime(() =\u0026gt; context.Blogs.FirstOrDefault(it =\u0026gt; it.Id == 1), 1); Console.WriteLine($\u0026#34;Any() time took: {elapsedTime1} ms\u0026#34;); Console.WriteLine($\u0026#34;Count() time took: {elapsedTime2} ms\u0026#34;); Console.WriteLine($\u0026#34;FirstOrDefault() time took: {elapsedTime3} ms\u0026#34;); //Consoles: //Any() time took: 237.42 ms //Count() time took: 239.69 ms //FirstOrDefault() time took: 258.28 ms ä½¿ç”¨æµå¼å¤„ç† é¦–å…ˆäº†è§£ä»€ä¹ˆæ˜¯ç¼“å†²å’Œæµå¼å¤„ç†\nç¼“å†²ï¼šå°†éœ€è¦çš„æ•°æ®å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç”¨äºåç»­çš„ä¸šåŠ¡é€»è¾‘å¤„ç† æµå¼å¤„ç†ï¼šæŒ‰éœ€è·å–éœ€è¦çš„æ•°æ®å¹¶åº”ç”¨åˆ°åç»­çš„é€»è¾‘å¤„ç†ä¸­ å½¢è±¡çš„ç†è§£ï¼Œç¼“å†²ç”¨æ°´æ¡¶æŠŠæ°´æŒ‘èµ·æ¥ï¼Œç„¶åå€’è¿›ç¼¸é‡Œï¼Œæµå¼å¤„ç†å°±æ˜¯ç”¨ä¸€æ ¹æ°´ç®¡æŠŠæ°´æŠ½åˆ°ç¼¸é‡Œ\nåŸåˆ™ä¸Šï¼Œæµå¼å¤„ç†æŸ¥è¯¢çš„å†…å­˜è¦æ±‚æ˜¯å›ºå®šçš„ï¼šæ— è®ºæŸ¥è¯¢è¿”å› 1 è¡Œè¿˜æ˜¯ 1000 è¡Œï¼Œå†…å­˜è¦æ±‚éƒ½ç›¸åŒã€‚å¦ä¸€æ–¹é¢ï¼Œè¿”å›çš„è¡Œæ•°è¶Šå¤šï¼Œç¼“å†²æŸ¥è¯¢éœ€è¦çš„å†…å­˜è¶Šå¤šã€‚ å¯¹äºäº§ç”Ÿå¤§å‹ç»“æœé›†çš„æŸ¥è¯¢ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªé‡è¦çš„æ€§èƒ½å› ç´ ã€‚ åä¹‹ï¼Œå¦‚æœä½ çš„æŸ¥è¯¢ç»“æœé‡å¾ˆå°ï¼Œé‚£ä¹ˆä½¿ç”¨ç¼“å†²çš„æ•ˆæœå¯èƒ½è¿”å›ä¼šæ›´å¥½ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 //ä¸€æ¬¡æ€§å°†æ•°æ®åŠ è½½å‡ºæ¥ var blogsList = context.Posts.Where(p =\u0026gt; p.Title.StartsWith(\u0026#34;A\u0026#34;)).ToList(); var blogsArray = context.Posts.Where(p =\u0026gt; p.Title.StartsWith(\u0026#34;A\u0026#34;)).ToArray(); //ä½¿ç”¨æµå¼å¤„ç†ï¼Œæ¯æ¬¡å¤„ç†ä¸€è¡Œ foreach (var blog in context.Posts.Where(p =\u0026gt; p.Title.StartsWith(\u0026#34;A\u0026#34;))) { //do some things... SomeDotNetMethod(blog) } // ä¹Ÿå¯ä»¥ä½¿ç”¨AsEnumerableå®ç° var doubleFilteredBlogs = context.Posts .Where(p =\u0026gt; p.Title.StartsWith(\u0026#34;A\u0026#34;)) // æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ .AsEnumerable() .Where(p =\u0026gt; SomeDotNetMethod(p)); //æ‰§è¡Œå®¢æˆ·ç«¯æ“ä½œ æµå¼å¤„ç†é€‚åˆå¤„ç†å¤§é‡æ•°æ®éœ€è¦è¿›è¡ŒæŸäº›ä¸šåŠ¡é€»è¾‘çš„åŠ å·¥æˆ–æ‰§è¡Œï¼Œä½†æ˜¯æ•°æ®åº“åˆæ— æ³•æ”¯æŒå“åº”çš„æ–¹æ³•æˆ–å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥é€‚ç”¨æµå¼å¤„ç†æ¥è¿›è¡Œæ“ä½œã€‚\nä½¿ç”¨SQLæŸ¥è¯¢ åœ¨æŸäº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œä¾‹å¦‚ä¸€äº›å¤æ‚çš„sqlæŸ¥è¯¢ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨linqè¯­æ³•æ¥å®ç°çš„ï¼ŒEFCoreä¹Ÿæ”¯æŒç›´æ¥ä½¿ç”¨SQLè¯­å¥è¿›è¡ŒæŸ¥è¯¢æˆ–æ•°æ®æ›´æ–°æ“ä½œ\nåŸºæœ¬æŸ¥è¯¢(å®ä½“) åœºæ™¯ï¼šæœ€ç»ˆè¿”å›çš„ç»“æœä¸Datasetä¸­å®šä¹‰çš„å®ä½“ä¸€è‡´\n1 2 3 4 5 6 7 8 9 10 11 //ä½¿ç”¨FromSql //æ‰§è¡Œè¡¨æŸ¥è¯¢ var blogs = context.Blogs .FromSql($\u0026#34;SELECT * FROM dbo.Blogs\u0026#34;) .ToList(); //æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹æŸ¥è¯¢è¿”å›å®ä½“ var blogs = context.Blogs .FromSql($\u0026#34;EXECUTE dbo.GetMostPopularBlogs\u0026#34;) .ToList(); æ ‡é‡æŸ¥è¯¢(éå®ä½“) åœºæ™¯ï¼šæœ€ç»ˆè¿”å›çš„ç»“æœä¸ºè‡ªå®šä¹‰ç»“æ„ï¼Œè€Œéæ•°æ®åº“å®ä½“\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 //ä½¿ç”¨SqlQuery //æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›å•ä¸ªå­—æ®µ var ids = context.Database .SqlQuery\u0026lt;int\u0026gt;($\u0026#34;SELECT [BlogId] FROM [Blogs]\u0026#34;) .ToList(); //æ‰§è¡ŒæŸ¥è¯¢ï¼Œè¿”å›è‡ªå®šä¹‰æ•°æ®ç»“æ„ var comments = context.Database .SqlQuery\u0026lt;int\u0026gt;($\u0026#34;SELECT b.[BlogId],c.[CommnetContent] FROM [Blogs] b JOIN [Comments] c on b.BlogId = c.BlogId\u0026#34;) .ToList(); public class CustomBlog{ public int BlogId public string CommnetContent } æ‰§è¡ŒéæŸ¥è¯¢SQL åœºæ™¯ï¼šæäº¤æ›´æ–°ï¼Œåˆ é™¤ç­‰æ“ä½œï¼Œä¸å…³æ³¨è¿”å›ç»“æœ\n1 2 3 4 5 6 //ä½¿ç”¨ExecuteSql //æ‰§è¡Œæ›´æ–° context.Database.ExecuteSql($\u0026#34;UPDATE [Blogs] SET [Url] = NULL WHERE Id =1\u0026#34;); //æ‰§è¡Œåˆ é™¤ context.Database.ExecuteSql($\u0026#34;DELETE FROM [Blogs] WHERE Id =1\u0026#34;); SQLå‚æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 //ä½¿ç”¨FromSql //æ­¤ä»£ç æ— æ•ˆï¼Œå› ä¸ºæ•°æ®åº“ä¸å…è®¸å°†åˆ—åï¼ˆæˆ–æ¶æ„çš„ä»»ä½•å…¶ä»–éƒ¨åˆ†ï¼‰å‚æ•°åŒ– var propertyName = \u0026#34;User\u0026#34;; var propertyValue = \u0026#34;johndoe\u0026#34;; var blogs = context.Blogs .FromSql($\u0026#34;SELECT * FROM [Blogs] WHERE {propertyName} = {propertyValue}\u0026#34;) .ToList(); //æ­£ç¡®å§¿åŠ¿ï¼šä½¿ç”¨ FromSqlRaw var columnName = \u0026#34;Url\u0026#34;; var columnValue = new SqlParameter(\u0026#34;columnValue\u0026#34;, \u0026#34;http://SomeURL\u0026#34;); var blogs = context.Blogs .FromSqlRaw($\u0026#34;SELECT * FROM [Blogs] WHERE {columnName} = @columnValue\u0026#34;, columnValue) .ToList(); å…¶ä»–å…³è”æ€§ä¼˜åŒ– é™¤äº†é’ˆå¯¹EFCoreæœ¬èº«çš„ä¸€äº›ä¼˜åŒ–æŠ€å·§ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›æŠ€å·§å¯ä»¥å¸®åŠ©æˆ‘ä»¬æå‡æ•°æ®æŸ¥è¯¢çš„æ•ˆç‡,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨vsçš„è°ƒè¯•å·¥å…·å¸®åŠ©æˆ‘ä»¬ç›‘å¬å†…å­˜ä½¿ç”¨,CPUå ç”¨ç‡ç­‰æŒ‡æ ‡ï¼ŒæŸ¥æ‰¾ç“¶é¢ˆï¼Œæ€»ç»“ä¸»è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è¿›è¡Œä¼˜åŒ–\nå°½é‡é¿å…å¾ªç¯å†…æŸ¥è¯¢ï¼Œåˆ†æå®é™…çš„ä¸šåŠ¡é€»è¾‘ï¼Œå°½å¯èƒ½çš„ä¸€æ¬¡æ€§ä»æ•°æ®åº“åŠ è½½æ‰€æœ‰éœ€è¦çš„æ•°æ®ï¼Œå†è¿›è¡Œå¾ªç¯å¤„ç† åˆ†ç‰‡å¤„ç†æ¡ä»¶æ•°æ®,ä¾‹å¦‚ä½¿ç”¨Chunkï¼Œä½¿ç”¨æµå¼å¤„ç†å¤§æ‰¹é‡çš„æ•°æ®é›†çš„è¿ç®— ä½¿ç”¨åˆç†çš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚åœ¨ä¸å…³æ³¨æ•°æ®é¡ºåºçš„åœºæ™¯ä¸‹ä½¿ç”¨Dictionaryæˆ–HashSetä»£æ›¿Listç­‰ ä½¿ç”¨ç¼“å­˜å‡å°‘çƒ­ç‚¹æ•°æ®çš„è®¿é—®ï¼ˆæŒ‰éœ€è®¾è®¡ï¼‰ ä½¿ç”¨æ•°æ®è¡¨ç´¢å¼•åŠç‰©åŒ–è§†å›¾ï¼ˆæ•°æ®åº“ï¼‰ é‡‡ç”¨åˆ†åº“åˆ†è¡¨ï¼Œè¯»å†™åˆ†ç¦»ï¼Œä½¿ç”¨ESè¿›è¡Œæ£€ç´¢ï¼ˆæ¶æ„çº§ä¼˜åŒ–ï¼‰ åˆ©ç”¨å¤šçº¿ç¨‹å¹¶å‘æå‡æ•ˆç‡ï¼ˆä¸åˆ°ä¸‡ä¸å¾—å·²ï¼Œæ…ç”¨ï¼‰ æ€»ç»“ EFCoreçš„ä¼˜åŒ–ä¸»è¦æ˜¯ä»å‡ ä¸ªæ–¹é¢æ¥è¿›è¡Œï¼š\n1.å‡å°‘æ•°æ®åº“çš„äº¤äº’ï¼Œé€šè¿‡è¿æ¥å¤ç”¨ï¼Œä¸Šä¸‹æ–‡ç¼“å­˜ç­‰\n2.å‡å°‘å†…å­˜çš„ä½¿ç”¨ï¼Œä¾‹å¦‚ä½¿ç”¨æµå¼å¤„ç†ï¼Œåˆ†é¡µæŸ¥è¯¢ç­‰\n3.é™ä½æŸ¥è¯¢å¤æ‚åº¦ï¼Œå°½é‡åœ¨ç¨‹åºä¸­å¤„ç†å¤æ‚çš„é€»è¾‘\nä¿æŒè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ï¼Œä½¿ç”¨æ­£ç¡®çš„æ•°æ®ç»“æ„å’Œå¤„ç†é€»è¾‘ï¼Œä¼˜åŒ–åº”è¯¥æ˜¯æ¸è¿›å¼çš„ï¼Œå…ˆæ­£ç¡®çš„æ»¡è¶³éœ€æ±‚ï¼Œåœ¨é‡åˆ°æ€§èƒ½é—®é¢˜çš„æ—¶å€™å€ŸåŠ©ä»£ç æˆ–å·¥å…·å»åˆ†æç“¶é¢ˆï¼Œå†å»è¿›è¡Œé’ˆå¯¹æ€§çš„ä¼˜åŒ–ï¼Œä¸è¦ä¸ºäº†ä¼˜åŒ–è€Œç‰ºç‰²éœ€æ±‚å’Œæµªè´¹å·¥ä½œé‡ã€‚\næœ€åç•™ç»™å¤§å®¶ä¸€æ®µé—®é¢˜ä»£ç ç¤ºä¾‹ï¼Œæ„Ÿå…´è¶£çš„ç«¥é‹å¯ä»¥å°è¯•åˆ©ç”¨ä¸Šè¿°æ‰‹æ®µä¼˜åŒ–è¿™æ®µä»£ç ï¼Œçœ‹çœ‹æ•ˆç‡æå‡æœ‰å¤šå°‘ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 var configuration = new ConfigurationBuilder() .SetBasePath(AppDomain.CurrentDomain.BaseDirectory) .AddUserSecrets\u0026lt;Program\u0026gt;() .AddJsonFile(\u0026#34;appsettings.json\u0026#34;, optional: true, reloadOnChange: true) .Build(); var serviceProvider = new ServiceCollection() .AddDbContext\u0026lt;YouContext\u0026gt;(options =\u0026gt; options.UseSqlServer(configuration[\u0026#34;ConnectionStrings:YourContext\u0026#34;]) .EnableSensitiveDataLogging() .UseLoggerFactory(LoggerFactory.Create(builder =\u0026gt; { builder.AddConsole().AddFilter((category, level) =\u0026gt; category == DbLoggerCategory.Database.Command.Name \u0026amp;\u0026amp; level == LogLevel.Information); }))) .BuildServiceProvider(); using (var scope = serviceProvider.CreateScope()) { var context = scope.ServiceProvider.GetRequiredService\u0026lt;YourContext\u0026gt;(); context.Database.SetCommandTimeout(999); var data = context.RELATIONSHIP.Where(x =\u0026gt; x.workflow_state == 3).OrderBy(it =\u0026gt; it.relationship_guid).Take(100000).ToList(); var tempData = data.Select(it =\u0026gt; new Temp { aId = it.entity_from_guid, bId = it.entity_to_guid, deg = 0 }).ToList(); foreach (var item in tempData) { item.deg = GetInterConnectResult(item.aId, item.bId); } int GetInterConnectResult(Guid aId, Guid bId) { HashSet\u0026lt;Bo\u0026gt; boData = new(); for (int i = 1; i \u0026lt;= 3; i++) { if (boData.Any(it =\u0026gt; it.guid == bId)) break; var addIds = boData.Where(it =\u0026gt; it.deg == i - 1).Select(it =\u0026gt; it.guid).Distinct().ToList(); var addRelationships = context.Table1.Where(it =\u0026gt; addIds.Contains(it.aid) || addIds.Contains(it.bid)); var addDegEntities = addRelationships.Select(it =\u0026gt; new { efguid = it.aid, etguid = it.bid }).Union(addRelationships.Select(it =\u0026gt; new { efguid = it.bid, etguid = it.aid })) .Select(it =\u0026gt; new Bo { guid = it.etguid, deg = i }) .ToHashSet() ?? new(); boData.UnionWith(addDegEntities ?? new()); } return boData?.OrderByDescending(it =\u0026gt; it.deg)?.FirstOrDefault(it =\u0026gt; it.guid.Equals(bId))?.deg ?? 0; } } ","date":"2024-08-06T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/ef-core-performance-optimization-tips/","title":"EF Coreæ€§èƒ½ä¼˜åŒ–æŠ€å·§"},{"content":"ç¬¬ä¸€ç§æ–¹å¼ï¼ˆåŸºäº Application ç±»çš„é™æ€æ–¹æ³•ï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 public partial class App : Application { public IServiceProvider ServiceProvider { get; } public new static App Current =\u0026gt; (App)Application.Current; public App() { ServiceProvider = ConfigureServices(); } private static IServiceProvider ConfigureServices() { var services = new ServiceCollection(); services.AddSingleton\u0026lt;MainWindow\u0026gt;(); services.AddSingleton\u0026lt;MainWindowViewModel\u0026gt;(); services.AddDbContext\u0026lt;DefaultDbContext\u0026gt;(); services.AddSingleton\u0026lt;ILogger\u0026gt;(_ =\u0026gt; { return new LoggerConfiguration() .MinimumLevel.Debug() .WriteTo.File(\u0026#34;Log/log.txt\u0026#34;, rollingInterval: RollingInterval.Day) .CreateLogger(); }); return services.BuildServiceProvider(); } private void Application_Startup(object sender, StartupEventArgs e) { var mainWindow = ServiceProvider.GetRequiredService\u0026lt;MainWindow\u0026gt;(); mainWindow.Show(); } } 1 2 3 4 5 6 7 \u0026lt;Application x:Class=\u0026#34;Wpf_onlyDI.App\u0026#34; xmlns=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation\u0026#34; xmlns:x=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml\u0026#34; xmlns:local=\u0026#34;clr-namespace:Wpf_onlyDI\u0026#34; Startup=\u0026#34;Application_Startup\u0026#34;\u0026gt; \u0026lt;Application.Resources /\u0026gt; \u0026lt;/Application\u0026gt; 1 2 3 4 5 6 7 8 public partial class MainWindow : Window { public MainWindow(MainWindowViewModel viewModel) { InitializeComponent(); this.DataContext = viewModel; } } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public partial class MainWindowViewModel : ObservableObject { private readonly ILogger _logger; [ObservableProperty] private string title = \u0026#34;hello\u0026#34;; public MainWindowViewModel(ILogger logger) { this._logger = logger; _logger.Information(title); } } ç¬¬äºŒç§æ–¹å¼ï¼ˆåŸºäº .NET Generic Host,ä»…ä»….NET Coreï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 public partial class App : Application { private static readonly IHost _host = Host.CreateDefaultBuilder() .ConfigureAppConfiguration(c =\u0026gt; { c.SetBasePath(AppContext.BaseDirectory); }) .ConfigureServices(services =\u0026gt; { services.AddHostedService\u0026lt;ApplicationHostService\u0026gt;(); services.AddSingleton\u0026lt;MainWindow\u0026gt;(); services.AddSingleton\u0026lt;MainWindowViewModel\u0026gt;(); services.AddDbContext\u0026lt;DefaultDbContext\u0026gt;(); }) .ConfigureLogging(logging =\u0026gt; { logging.ClearProviders(); Log.Logger = new LoggerConfiguration() .WriteTo.File(\u0026#34;Log/log.txt\u0026#34;, rollingInterval: RollingInterval.Day) .CreateLogger(); logging.AddSerilog(Log.Logger); }) .Build(); private void OnStartup(object sender, StartupEventArgs e) { _host.Start(); } private void OnExit(object sender, ExitEventArgs e) { _host.StopAsync().Wait(); _host.Dispose(); } public static T GetRequiredService\u0026lt;T\u0026gt;() where T : class { return _host.Services.GetRequiredService\u0026lt;T\u0026gt;(); } } 1 2 3 4 5 6 7 8 9 10 \u0026lt;Application x:Class=\u0026#34;Wpf_Generic_Host.App\u0026#34; xmlns=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation\u0026#34; xmlns:x=\u0026#34;http://schemas.microsoft.com/winfx/2006/xaml\u0026#34; xmlns:local=\u0026#34;clr-namespace:Wpf_Generic_Host\u0026#34; Startup=\u0026#34;OnStartup\u0026#34; Exit=\u0026#34;OnExit\u0026#34; \u0026gt; \u0026lt;Application.Resources /\u0026gt; \u0026lt;/Application\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 internal class ApplicationHostService : IHostedService { private readonly IServiceProvider _serviceProvider; public ApplicationHostService(IServiceProvider serviceProvider) { this._serviceProvider = serviceProvider; } public async Task StartAsync(CancellationToken cancellationToken) { await HandleActivationAsync(); } public Task StopAsync(CancellationToken cancellationToken) { return Task.CompletedTask; } /// \u0026lt;summary\u0026gt; /// Creates main window during activation. /// \u0026lt;/summary\u0026gt; /// \u0026lt;returns\u0026gt;\u0026lt;/returns\u0026gt; private Task HandleActivationAsync() { if (Application.Current.Windows.OfType\u0026lt;MainWindow\u0026gt;().Any()) { return Task.CompletedTask; } var mainWindow = _serviceProvider.GetRequiredService\u0026lt;MainWindow\u0026gt;(); mainWindow.Loaded += MainWindow_Loaded; mainWindow?.Show(); return Task.CompletedTask; } private void MainWindow_Loaded(object sender, RoutedEventArgs e) { if (sender is not MainWindow mainWindow) { return; } //_ = mainWindow.NavigationView.Navigate(typeof(DashboardPage)); } } ","date":"2024-08-06T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/wpf-injection/","title":"WPFä¸­çš„ä¾èµ–æ³¨å…¥æ–¹æ³•æ¯”è¾ƒ"},{"content":"ä½œä¸º C# å¼€å‘äººå‘˜ï¼Œå­¦ä¹ æ›´é«˜çº§çš„æŠ€æœ¯å¯ä»¥å¸®åŠ©æ‚¨ç¼–å†™æ›´ç®€æ´ã€æ›´é«˜æ•ˆå’Œæ›´å…·åˆ›æ–°æ€§çš„ä»£ç ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä¸€äº›åä¸ªé«˜çº§ C# æŠ€å·§ï¼Œè¿™äº›æŠ€å·§æ˜¯ä¸ºæƒ³è¦çªç ´ C# æé™çš„æ›´æœ‰ç»éªŒçš„å¼€å‘äººå‘˜é‡èº«å®šåˆ¶çš„ã€‚è¿™äº›æŠ€å·§å¯ä»¥æé«˜ä»£ç çš„æ€§èƒ½ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚\nåˆ©ç”¨å…ƒç»„è·å–å¤šä¸ªè¿”å›å€¼ ä¼ ç»Ÿä¸Šï¼Œè¦ä»æ–¹æ³•è¿”å›å¤šä¸ªå€¼ï¼Œå¼€å‘äººå‘˜å¿…é¡»ä½¿ç”¨å‚æ•°å¹¶åˆ›å»ºè‡ªå®šä¹‰ç±»æˆ–ç»“æ„ã€‚ä½†æ˜¯ï¼ŒC# 7 å¼•å…¥äº†å…ƒç»„ï¼Œè¿™ä½¿å¾—è¿™æ ·åšæ›´å®¹æ˜“ã€æ›´æ˜“è¯»ã€‚\n1 2 3 4 public (int sum, int product) Calculate(int a, int b) { return (a + b, a * b); } æ­¤æ–¹æ³•ç®€åŒ–äº†å¯¹å¤šä¸ªè¿”å›å€¼çš„å¤„ç†ï¼Œå¹¶æé«˜äº†ä»£ç çš„æ¸…æ™°åº¦ã€‚\næ¨¡å¼åŒ¹é…å¢å¼ºåŠŸèƒ½ C# 7 åŠæ›´é«˜ç‰ˆæœ¬å¼•å…¥äº†å¼ºå¤§çš„æ¨¡å¼åŒ¹é…åŠŸèƒ½ï¼Œå…è®¸æ›´å¯Œæœ‰è¡¨ç°åŠ›å’Œç®€æ´çš„ç±»å‹æ£€æŸ¥å’Œè½¬æ¢ã€‚\n1 2 3 4 5 6 7 8 9 10 11 public void ProcessShape(object shape) { if (shape is Circle c) { Console.WriteLine($\u0026#34;Circle with radius: {c.Radius}\u0026#34;); } else if (shape is Square s) { Console.WriteLine($\u0026#34;Square with side: {s.Side}\u0026#34;); } } æ­¤æŠ€æœ¯å‡å°‘äº†æ ·æ¿ä»£ç çš„æ•°é‡ï¼Œå¹¶ä½¿ä»£ç æ›´æ˜“äºé˜…è¯»ã€‚\nä½¿ç”¨æœ¬åœ°å‡½æ•°è¿›è¡Œå°è£… åœ¨ C# 7 ä¸­ï¼Œå¼•å…¥äº†æœ¬åœ°å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å…è®¸æ‚¨åœ¨å¦ä¸€ä¸ªæ–¹æ³•ä¸­å®šä¹‰æ–¹æ³•ã€‚è¿™äº›å‡½æ•°å¯¹äºå°è£…ä»…åœ¨ç‰¹å®šæ–¹æ³•ä¸­æœ‰æ„ä¹‰çš„å¸®åŠ©ç¨‹åºæ–¹æ³•ç‰¹åˆ«æœ‰ç”¨ã€‚\n1 2 3 4 5 public IEnumerable\u0026lt;int\u0026gt; Fibonacci(int n) { int Fib(int term) =\u0026gt; term \u0026lt;= 2 ? 1 : Fib(term - 1) + Fib(term - 2); return Enumerable.Range(1, n).Select(Fib); } å±€éƒ¨å‡½æ•°å¯ä»¥ä»å°é—­æ–¹æ³•è®¿é—®å˜é‡ï¼Œè¿™æä¾›äº†ä¸€ç§å®ç°å¤æ‚é€»è¾‘çš„ç®€æ´æ–¹æ³•ã€‚\nç®€æ´ä»£ç çš„è¡¨è¾¾å¼æˆå‘˜ è¡¨è¾¾å¼æˆå‘˜æœ‰åŠ©äºä½¿ä»£ç æ›´ç®€æ´ï¼Œå› ä¸ºå®ƒä»¬å…è®¸åœ¨ä¸€è¡Œä»£ç ä¸Šå®ç°æ–¹æ³•ã€å±æ€§å’Œå…¶ä»–æˆå‘˜ã€‚\n1 2 3 4 5 public class Person { public string Name { get; set; } public override string ToString() =\u0026gt; $\u0026#34;Name: {Name}\u0026#34;; } æ­¤åŠŸèƒ½åœ¨æœ€æ–°ç‰ˆæœ¬çš„ C# ä¸­å¾—åˆ°äº†æ‰©å±•ï¼Œä½¿å®šä¹‰è½»å‹ç±»æˆå‘˜å˜å¾—æ›´åŠ å®¹æ˜“ã€‚\nä¸å¯å˜æ•°æ®ç±»å‹çš„åªè¯»ç»“æ„ åªè¯»ç»“æ„éå¸¸é€‚åˆåˆ›å»ºä¸å¯å˜æ•°æ®ç±»å‹ã€‚è¿™æ„å‘³ç€å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå°±æ— æ³•æ›´æ”¹ã€‚\n1 2 3 4 5 6 7 public readonly struct Point { public double X { get; } public double Y { get; } public Point(double x, double y) =\u0026gt; (X, Y) = (x, y); } æ­¤æ„é€ å¯ç”¨äºè¡¨ç¤ºå°å‹ã€ä¸å¯å˜çš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚åæ ‡æˆ–å¤æ•°ã€‚\nç”¨äºæ€§èƒ½ä¼˜åŒ–çš„ Ref è¿”å›å’Œå±€éƒ¨å˜é‡ Ref è¿”å›å’Œå±€éƒ¨å˜é‡å…è®¸æ–¹æ³•è¿”å›å¯¹å˜é‡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å€¼æœ¬èº«ã€‚è¿™å¯ä»¥æ˜¾è‘—æé«˜å¤§å‹å¯¹è±¡çš„æ€§èƒ½ã€‚\n1 2 3 4 5 6 7 8 9 public ref int Find(int[] numbers, int target) { for (int i = 0; i \u0026lt; numbers.Length; i++) { if (numbers[i] == target) return ref numbers[i]; } throw new IndexOutOfRangeException(\u0026#34;Not found\u0026#34;); } æ­¤åŠŸèƒ½åœ¨å¤„ç†å¤§å‹æ•°æ®ç»“æ„çš„æ€§èƒ½æ•æ„Ÿä»£ç ä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚\nä½¿ç”¨ä¸¢å¼ƒæ¥å¿½ç•¥ä¸éœ€è¦çš„é€€è´§ ä¸¢å¼ƒæ˜¯ä¸€é¡¹é«˜çº§åŠŸèƒ½ï¼Œå…è®¸å¼€å‘äººå‘˜è·³è¿‡ä»–ä»¬ä¸æ„Ÿå…´è¶£çš„å‚æ•°æˆ–å…ƒç»„ã€‚è¿™ä½¿å¾—ä»£ç æ›´å…·å¯è¯»æ€§ä¸”æ›´æ˜“äºç»´æŠ¤ã€‚\n1 var (_, product) = Calculate(3, 4); // Only interested in the product è¿™æ ·å¯ä»¥æ›´è½»æ¾åœ°å¤„ç†è¿”å›å¤šä¸ªå€¼çš„æ–¹æ³•ï¼Œå› ä¸ºæ‚¨åªéœ€è¦å…¶ä¸­çš„å‡ ä¸ªå€¼ã€‚\nç”¨äºç®€åŒ– Null æ£€æŸ¥çš„ Null åˆå¹¶èµ‹å€¼ null åˆå¹¶èµ‹å€¼è¿ç®—ç¬¦ç®€åŒ–äº†å°†å€¼èµ‹å€¼ç»™å˜é‡çš„è¿‡ç¨‹ï¼ˆå½“å˜é‡å¯èƒ½ä¸º null æ—¶ï¼‰ã€‚??=\n1 2 3 List\u0026lt;int\u0026gt; numbers = null; numbers ??= new List\u0026lt;int\u0026gt;(); numbers.Add(1); æ­¤è¿ç®—ç¬¦å¯å‡å°‘ç¡®ä¿åœ¨ä½¿ç”¨å¯¹è±¡ä¹‹å‰åˆ›å»ºå¯¹è±¡æ‰€éœ€çš„ä»£ç é‡ã€‚\nç”¨äºè½»é‡çº§æ•°æ®ç»“æ„çš„ ValueTuple ValueTuple æ˜¯ Tuple æ•°æ®ç»“æ„çš„è½»é‡çº§æ›¿ä»£æ–¹æ³•ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´èŠ‚çœå†…å­˜çš„æ–¹æ³•æ¥ç®¡ç†å€¼é›†åˆã€‚\n1 2 var person = (Name: \u0026#34;John\u0026#34;, Age: 30); Console.WriteLine($\u0026#34;{person.Name} is {person.Age} years old.\u0026#34;); ValueTuple å¯¹äºä¸éœ€è¦ç±»å¼€é”€çš„ä¸´æ—¶æ•°æ®ç»“æ„ç‰¹åˆ«æœ‰ç”¨ã€‚\nå…·æœ‰ IAsyncEnumerable çš„å¼‚æ­¥æµ C# 8 ä¸­å¼•å…¥çš„å¼‚æ­¥æµå…è®¸å¯¹å¼‚æ­¥åŠ è½½çš„é›†åˆå®ç°å¼‚æ­¥è¿­ä»£ã€‚è¿™æ˜¾è‘—æé«˜äº†å¤„ç†æµæ•°æ®æˆ–å— I/O é™åˆ¶çš„åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚\n1 2 3 4 5 6 7 8 public async IAsyncEnumerable\u0026lt;int\u0026gt; GetNumbersAsync() { for (int i = 0; i \u0026lt; 10; i++) { await Task.Delay(100); // Simulate asynchronous work yield return i; } } è¿™å…è®¸ä½¿ç”¨ æ¥ä½¿ç”¨å¼‚æ­¥æµï¼Œä»è€Œæ›´å®¹æ˜“ç¼–å†™é«˜æ•ˆä¸”å¯è¯»çš„å¼‚æ­¥ä»£ç ã€‚await foreach\nC# çš„æ¼”å˜å¼•å…¥äº†ä¸€äº›åŠŸèƒ½ï¼Œå¯æé«˜å…¶ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œæ€§èƒ½ã€‚å…¶ä¸­åŒ…æ‹¬å…ƒç»„ã€æ¨¡å¼åŒ¹é…å’Œå¼‚æ­¥æµï¼Œè¿™å¯¹äºåœ¨ .NET ç”Ÿæ€ç³»ç»Ÿä¸­åˆ›å»ºæ›´é«˜æ•ˆã€æ›´ç°ä»£çš„ C# åº”ç”¨ç¨‹åºè‡³å…³é‡è¦ã€‚\né€šè¿‡æœ‰æ•ˆåˆ©ç”¨è¿™äº›å·¥å…·ï¼Œå¼€å‘äººå‘˜å¯ä»¥æé«˜åº”ç”¨ç¨‹åºæ€§èƒ½ã€æ”¹è¿›å…¶ç¼–ç é£æ ¼å¹¶æé«˜è½¯ä»¶è´¨é‡ã€‚é€šè¿‡æŒæ¡è¿™äº›åŠŸèƒ½ï¼Œå¼€å‘äººå‘˜å¯ä»¥ç¡®ä¿ä»¥ç¬¦åˆé¡¹ç›®éœ€æ±‚çš„æ–¹å¼ä½¿ç”¨å®ƒä»¬ï¼Œä»è€Œé‡Šæ”¾å…¶æˆåŠŸå¼€å‘çš„å…¨éƒ¨æ½œåŠ›ã€‚\n","date":"2024-08-05T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/10-advanced-techniques/","title":"10 Advanced Techniques"},{"content":"æœ¬æ–‡å‘Šè¯‰å¤§å®¶å‡ ä¸ªä¸åŒçš„æ–¹æ³•åœ¨ WPF é‡Œï¼Œä½¿ç”¨å¤šçº¿ç¨‹ä¿®æ”¹æˆ–åˆ›å»º ObservableCollection åˆ—è¡¨çš„æ•°æ®\néœ€è¦æ˜ç¡®çš„æ˜¯ WPF æ¡†æ¶ä¸‹ï¼Œé UI çº¿ç¨‹ç›´æ¥æˆ–é—´æ¥è®¿é—® UI æ˜¯ä¸åˆæ³•çš„ï¼Œè®¾è®¡å¦‚æ­¤ã€‚å¦‚æ­¤è®¾è®¡å¯ä»¥æå¤§è§„é¿æ–°æ‰‹ä½¿ç”¨å¤šçº¿ç¨‹é€ æˆçš„å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œç”±äºå¤šçº¿ç¨‹å®‰å…¨çš„é—®é¢˜éš¾ä»¥å®šä½ï¼Œä»¥åŠè§£å†³å¤šçº¿ç¨‹é—®é¢˜éœ€è¦è¾ƒå¤šçš„ä¸“ä¸šçŸ¥è¯†ã€‚ä¸€ä¸ªä¼˜ç§€çš„æ¡†æ¶ä»è®¾è®¡ä¸Šï¼Œä¸€å®šéœ€è¦æ»¡è¶³ä¸åŒå±‚æ¬¡å¼€å‘è€…æ¥å…¥çš„éœ€æ±‚ã€‚å¤§éƒ¨åˆ†å¾®è½¯å‡ºå“çš„åº“å’Œæ¡†æ¶éƒ½æ˜¯ååˆ†ç…§é¡¾åˆ°åˆå­¦è€…çš„ï¼Œå› æ­¤é»˜è®¤åªå¼€å•çº¿ç¨‹æ¨¡å‹çš„ WPF æ¡†æ¶ï¼Œå°†åœ¨å¼€å‘è€…æ²¡æœ‰ç»è¿‡ Dispatcher è°ƒåº¦å™¨è€Œç›´æ¥æˆ–é—´æ¥è®¿é—®æˆ–ä¿®æ”¹ UI æ—¶ï¼ŒæŠ›å‡ºå¼‚å¸¸\nç†è§£äº†ä»¥ä¸Šè¿™ä¸€ç‚¹ï¼Œä¹Ÿå°±äº†è§£äº†ä¸ºä»€ä¹ˆè·¨çº¿ç¨‹å¤„ç† ObservableCollection æ•°æ®ï¼Œå¤§å¤šæ•°æ—¶å€™éƒ½ä¼šæŠ›å‡º System.NotSupportedException:â€œè¯¥ç±»å‹çš„ CollectionView ä¸æ”¯æŒä»è°ƒåº¦ç¨‹åºçº¿ç¨‹ä»¥å¤–çš„çº¿ç¨‹å¯¹å…¶ SourceCollection è¿›è¡Œçš„æ›´æ”¹ã€‚â€ ç­‰å¼‚å¸¸\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œè¿˜éœ€è¦ç†æ¸…å¦ä¸€ä¸ªæ¦‚å¿µï¼Œé‚£å°±æ˜¯ ObservableCollection æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚éçº¿ç¨‹å®‰å…¨ä¸æ˜¯å¦ä¸å…è®¸é UI çº¿ç¨‹è®¿é—® UI å…ƒç´ æ˜¯å®Œå…¨ä¸¤å›äº‹ã€‚éçº¿ç¨‹å®‰å…¨çš„ç±»å‹ï¼Œæ¨èæ˜¯å•ä¸€çš„æ—¶åˆ»ï¼Œä»…æœ‰å•ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯å•ä¸ªçº¿ç¨‹è¿›è¡Œè¯»å†™ç­‰ã€‚è€Œ é UI çº¿ç¨‹è®¿é—® UI å…ƒç´ æ˜¯é™åˆ¶åªæœ‰ UI çº¿ç¨‹æ‰èƒ½åˆæ³•è®¿é—® UI çº¿ç¨‹åˆ›å»ºçš„å…ƒç´ ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ ObservableCollection æ˜¯å¯ä»¥åœ¨ä»»æ„çº¿ç¨‹åˆ›å»ºå’Œä¿®æ”¹çš„ï¼Œä½†æ˜¯ç”±äº ObservableCollection æ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ¨èæ˜¯å•ä¸€çš„æ—¶åˆ»ï¼Œä»…æœ‰å•ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ã€‚å¦‚æœ ObservableCollection è¢« UI å…ƒç´ æ•è·ï¼Œä¾‹å¦‚åŠ å…¥åˆ° ItemsSource é‡Œé¢ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„ ObservableCollection ä¸ä»…åªèƒ½è¢«å•ä¸€çº¿ç¨‹å¤„ç†ï¼Œè¿˜è¦æ±‚è¿™ä¸ªçº¿ç¨‹æ˜¯ UI çº¿ç¨‹\næ ¹æ®ä»¥ä¸Šæè¿°ï¼Œå¯ä»¥äº†è§£åˆ°ï¼Œåœ¨ WPF é‡Œé¢ï¼Œå¦‚æœæœ‰è¾ƒå¤šæ•°æ®é‡ï¼Œæƒ³è¦å¤šçº¿ç¨‹å¤„ç† ObservableCollection é›†åˆï¼Œå¯ä»¥é‡‡ç”¨åœ¨é UI çš„åå°çº¿ç¨‹åˆ›å»º ObservableCollection å¯¹è±¡å’Œä¿®æ”¹æˆ–æ·»åŠ æ•°æ®ï¼Œå®Œæˆä¹‹åå†åŠ å…¥åˆ° UI çº¿ç¨‹\nä¸ºäº†æ–¹ä¾¿è¯´æ˜ï¼Œæœ¬æ–‡æ–°å»ºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œæœ¬æ–‡çš„æ‰€æœ‰ä»£ç éƒ½å¯ä»¥åœ¨æœ¬æ–‡åé¢æ‰¾åˆ°è·å–æ–¹æ³•\næ·»åŠ ä¸€ä¸ªç®€å•çš„ç•Œé¢æ¥æ–¹ä¾¿è¯´æ˜ï¼Œä»£ç å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u0026lt;Grid\u0026gt; \u0026lt;Grid.RowDefinitions\u0026gt; \u0026lt;RowDefinition\u0026gt;\u0026lt;/RowDefinition\u0026gt; \u0026lt;RowDefinition Height=\u0026#34;Auto\u0026#34;\u0026gt;\u0026lt;/RowDefinition\u0026gt; \u0026lt;/Grid.RowDefinitions\u0026gt; \u0026lt;Grid\u0026gt; \u0026lt;ListView x:Name=\u0026#34;ListView\u0026#34;\u0026gt; \u0026lt;ListView.ItemTemplate\u0026gt; \u0026lt;DataTemplate\u0026gt; \u0026lt;TextBlock Margin=\u0026#34;10,10,10,10\u0026#34; Text=\u0026#34;{Binding}\u0026#34;\u0026gt;\u0026lt;/TextBlock\u0026gt; \u0026lt;/DataTemplate\u0026gt; \u0026lt;/ListView.ItemTemplate\u0026gt; \u0026lt;/ListView\u0026gt; \u0026lt;/Grid\u0026gt; \u0026lt;StackPanel Grid.Row=\u0026#34;1\u0026#34; Orientation=\u0026#34;Horizontal\u0026#34;\u0026gt; \u0026lt;Button x:Name=\u0026#34;Button1\u0026#34; Margin=\u0026#34;10,10,10,10\u0026#34; Click=\u0026#34;Button1_Click\u0026#34;\u0026gt;æ–¹å¼ä¸€\u0026lt;/Button\u0026gt; \u0026lt;Button x:Name=\u0026#34;Button2\u0026#34; Margin=\u0026#34;10,10,10,10\u0026#34; Click=\u0026#34;Button2_Click\u0026#34;\u0026gt;æ–¹å¼äºŒ\u0026lt;/Button\u0026gt; \u0026lt;Button x:Name=\u0026#34;Button3\u0026#34; Margin=\u0026#34;10,10,10,10\u0026#34; Click=\u0026#34;Button3_Click\u0026#34;\u0026gt;æ–¹å¼ä¸‰\u0026lt;/Button\u0026gt; \u0026lt;/StackPanel\u0026gt; \u0026lt;/Grid\u0026gt; ä»¥ä¸Šçš„æ¯ä¸ªæŒ‰é’®åˆ†åˆ«ä»£è¡¨ä¸åŒçš„æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªæŒ‰é’®å°±æ˜¯å¯¹åº”å¼€å§‹è¯´çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ã€‚å…ˆåœ¨åå°çº¿ç¨‹åˆ›å»º ObservableCollection å¯¹è±¡ï¼Œç„¶ååœ¨åå°çº¿ç¨‹å®Œæˆå¤„ç†é€»è¾‘ï¼Œæœ€åèµ‹å€¼ç»™ ListView çš„ ItemsSource å±æ€§ï¼Œå®ç°æ›´æ–°ç•Œé¢é€»è¾‘\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 private async void Button1_Click(object sender, RoutedEventArgs e) { var list = await Task.Run(() =\u0026gt; { ObservableCollection\u0026lt;string\u0026gt; data = new ObservableCollection\u0026lt;string\u0026gt;(); for (int i = 0; i \u0026lt; 100; i++) { data.Add(Random.Shared.Next(1000).ToString()); } return data; }); // ä»¥ä¸Šä»£ç ä½¿ç”¨ await ç­‰å¾…ï¼Œå¯ä»¥è‡ªåŠ¨åˆ‡å›ä¸»çº¿ç¨‹ ListView.ItemsSource = list; } å¦‚ä»¥ä¸Šä»£ç ï¼Œåœ¨æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œè¿›å…¥æŒ‰é’®ç‚¹å‡»çš„æ˜¯ UI çº¿ç¨‹ã€‚æ­¤æ—¶åœ¨ UI çº¿ç¨‹é‡Œé¢ï¼Œé€šè¿‡ Task.Run æ¥åˆ‡æ¢åˆ°åå°çº¿ç¨‹ï¼Œåœ¨åå°çº¿ç¨‹å®Œæˆ list å˜é‡çš„åˆå§‹åŒ–é€»è¾‘ã€‚ç„¶åå†èµ‹å€¼ç»™ ListView çš„ ItemsSource å±æ€§\nä¸Šé¢ä»£ç ç¬¦åˆäº†ä¸Šæ–‡è¯´çš„é€»è¾‘æ¡ä»¶ï¼Œé¦–å…ˆ ObservableCollection éçº¿ç¨‹å®‰å…¨ï¼Œå•ä¸€çš„æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè®¿é—®ã€‚ä¸Šé¢ä»£ç å…ˆæ˜¯åå°çº¿ç¨‹åˆ›å»ºå’Œå¤„ç† ObservableCollection å¯¹è±¡ï¼Œæ¥ä¸‹æ¥åå°çº¿ç¨‹æ‰§è¡Œå®Œæˆï¼Œé€šè¿‡ await è‡ªåŠ¨ä¾é åŒæ­¥ä¸Šä¸‹æ–‡è°ƒåº¦åˆ°ä¸»çº¿ç¨‹ï¼Œå°†åå°çº¿ç¨‹åˆ›å»ºçš„ ObservableCollection å¯¹è±¡èµ‹å€¼ç»™ list å˜é‡ï¼Œæ­¤æ—¶çš„åå°çº¿ç¨‹é€€å‡ºå¯¹ ObservableCollection å¯¹è±¡çš„ä»»ä½•è®¿é—®ï¼Œä¹Ÿå°±æ˜¯åœ¨æ­¤å•ä¸€çš„æ—¶åˆ»ï¼Œåªæœ‰åå°çº¿ç¨‹ä¸€ä¸ªçº¿ç¨‹åœ¨è®¿é—®ã€‚æ¥ä¸‹æ¥è¿›å…¥ ListView.ItemsSource = list ä¹Ÿå°±æ˜¯å°† list äº¤ç»™ UI çº¿ç¨‹ï¼Œåœ¨æ­¤å•ä¸€çš„æ—¶åˆ»ï¼Œä¹Ÿåªæœ‰ UI çº¿ç¨‹ï¼Œä¸€ä¸ªçº¿ç¨‹åœ¨è®¿é—®\nåœ¨å°† ObservableCollection å…³è”åˆ° UI çº¿ç¨‹ä¹‹å‰ï¼Œå¯¹ ObservableCollection çš„ä»»ä½•å¤„ç†éƒ½ä¸ä¼šæ¶‰åŠåˆ°è®¿é—® UI å…ƒç´ ï¼Œå› æ­¤ä¹Ÿå°±æ²¡æœ‰äº†é UI çº¿ç¨‹ä¸èƒ½è®¿é—® UI å…ƒç´ çš„é™åˆ¶ã€‚åªæœ‰åœ¨è°ƒç”¨ ListView.ItemsSource = list ä»£ç ä¹‹åï¼Œæ‰å°† ObservableCollection å…³è”åˆ° UI çº¿ç¨‹ã€‚åœ¨æ­¤ä»£ç æ‰§è¡Œä¹‹åï¼Œå°±ä¸èƒ½é€šè¿‡åå°çº¿ç¨‹å»ä¿®æ”¹ list å˜é‡å¯¹åº”çš„å¯¹è±¡äº†ï¼Œå› ä¸ºæ­¤æ—¶çš„ä¿®æ”¹å°†ä¼šé—´æ¥åœ¨åå°çº¿ç¨‹è®¿é—®åˆ° UI å…ƒç´ \né‚£å¦‚æœæœŸæœ›æ˜¯åœ¨åå°çº¿ç¨‹å¤„ç†åŸæœ‰ UI çº¿ç¨‹å…³è”çš„ ObservableCollection å‘¢ï¼Ÿè¿™å°±æ˜¯æœ¬æ–‡çš„ç¬¬äºŒä¸ªæ–¹æ³•ã€‚è¯»å– ObservableCollection çš„åˆ—è¡¨å…ƒç´ å†…å®¹ï¼Œä¸ä¼šæ¶‰åŠåˆ°è®¿é—® UI å…ƒç´ ï¼Œå› æ­¤å¯ä»¥åœ¨åå°çº¿ç¨‹è¿›è¡Œè¯»å–åˆ—è¡¨å…ƒç´ ï¼Œè¯»å–åˆ—è¡¨å…ƒç´ ä¹Ÿå°±æ˜¯ç­‰äºå¯ä»¥å¯¹åŸæœ‰çš„åˆ—è¡¨æ‹·è´ä¸€ä»½\nè¿™é‡Œéœ€è¦å†æ¬¡è¯´æ˜ ObservableCollection éçº¿ç¨‹å®‰å…¨ï¼Œå•ä¸€çš„æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè®¿é—®æ‰æ˜¯å®‰å…¨çš„ã€‚æ¢å¥è¯è¯´ï¼Œè™½ç„¶ä»£ç å±‚é¢ä¸Šï¼Œå¯ä»¥åœ¨åå°çº¿ç¨‹æ‹·è´å’Œ UI çº¿ç¨‹å…³è”çš„ ObservableCollection çš„åˆ—è¡¨å…ƒç´ å†…å®¹ï¼Œä½†æ˜¯æ­¤æ—¶æ¯•ç«Ÿ UI çº¿ç¨‹å’Œåå°çº¿ç¨‹éƒ½æ‹¥æœ‰è®¿é—®ç›¸åŒçš„ä¸€ä¸ª ObservableCollection åˆ—è¡¨çš„èƒ½åŠ›ï¼Œå¿…é¡»ä»ä¸šåŠ¡ä¸Šç¡®ä¿åªæœ‰åå°çº¿ç¨‹åœ¨è®¿é—®ï¼Œè€Œ UI çº¿ç¨‹ä¸ä¼šå¯¹ ObservableCollection åˆ—è¡¨è¿›è¡Œä»»ä½•çš„æ”¹åŠ¨\nåœ¨ç¡®ä¿ UI çº¿ç¨‹ä¸ä¼šæ”¹åŠ¨åˆ° ObservableCollection åˆ—è¡¨çš„æ—¶å€™ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•ï¼Œåœ¨åå°çº¿ç¨‹æ‹·è´ä¸€ä»½ä½œä¸ºæ–°çš„ ObservableCollection å¯¹è±¡ï¼Œç„¶åå¯¹æ­¤æ–°çš„å¯¹è±¡è¿›è¡Œå¤„ç†ã€‚å®Œæˆä¹‹åï¼Œå†å°†æ–°çš„ ObservableCollection å¯¹è±¡èµ‹å€¼ç»™åˆ° UI è¿›è¡Œç»‘å®š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 private async void Button2_Click(object sender, RoutedEventArgs e) { // å‡å®š ListView.ItemsSource å­˜åœ¨æºäº† if (ListView.ItemsSource is not ObservableCollection\u0026lt;string\u0026gt; list) { // å¦‚æœå‡è®¾å¤±è´¥ï¼Œå¼ºè¡Œç»™ä¸€ä¸ªæº list = new(); ListView.ItemsSource = list; } var newList = await Task.Run(() =\u0026gt; { var data = new ObservableCollection\u0026lt;string\u0026gt;(list); // æ¨¡æ‹Ÿå¯¹åŸæœ‰çš„åˆ—è¡¨è¿›è¡Œå¤„ç† if (data.Count \u0026gt; 0) { for (int i = 0; i \u0026lt; 100; i++) { data.Move(Random.Shared.Next(data.Count), Random.Shared.Next(data.Count)); } } return data; }); ListView.ItemsSource = newList; } ä»¥ä¸Šæ–¹æ³•å¯ä»¥å®ç°åœ¨åå°çº¿ç¨‹å¯¹ç°æœ‰çš„å’Œ UI ç»‘å®šçš„ ObservableCollection çš„æ›´æ”¹ï¼Œç”±äºæ˜¯æ”¾åœ¨åå°çº¿ç¨‹æ‰§è¡Œï¼ŒåŸºæœ¬ä¸Šä¸éœ€è¦æ‹…å¿ƒæ‹·è´çš„è€—æ—¶\nç¬¬ä¸‰ä¸ªæ–¹æ³•æ˜¯è‡ªå·±å®ç°ä¸€ä¸ªç±»ä¼¼ ObservableCollection çš„ç±»å‹ã€‚åœ¨ WPF é‡Œé¢ï¼Œåªè¦ä¸€ä¸ªé›†åˆç±»å‹çš„å¯¹è±¡ç»§æ‰¿äº† INotifyCollectionChanged æ¥å£ï¼Œå³å¯åœ¨é›†åˆå˜æ›´çš„æ—¶å€™ï¼Œé€šè¿‡ WPF æ¡†æ¶ç›‘å¬ CollectionChanged äº‹ä»¶é‡æ–°æ›´æ–° UI å…ƒç´ ï¼Œè‡ªå·±å®ç°çš„ä»£ç å¤§æ¦‚å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 public class FooList\u0026lt;T\u0026gt; : Collection\u0026lt;T\u0026gt;, INotifyCollectionChanged { protected override void InsertItem(int index, T item) { base.InsertItem(index, item); Application.Current.Dispatcher.InvokeAsync(() =\u0026gt; { CollectionChanged?.Invoke(this, new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Add, item, index)); }); } protected override void RemoveItem(int index) { var item = this[index]; base.RemoveItem(index); Application.Current.Dispatcher.InvokeAsync(() =\u0026gt; { CollectionChanged?.Invoke(this, new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Remove, item, index)); }); } protected override void SetItem(int index, T item) { var oldItem = this[index]; base.SetItem(index, item); Application.Current.Dispatcher.InvokeAsync(() =\u0026gt; { CollectionChanged?.Invoke(this, new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Replace, item, oldItem, index)); }); } public event NotifyCollectionChangedEventHandler? CollectionChanged; } å¦‚ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œåœ¨é›†åˆå˜æ›´çš„ä»£ç é‡Œé¢ï¼Œéƒ½é€šè¿‡ Dispatcher è°ƒåº¦åˆ° UI çº¿ç¨‹è§¦å‘äº‹ä»¶ç”¨æ¥é€šçŸ¥ã€‚ä¾é æ­¤æœºåˆ¶å¯ä»¥å®ç°åœ¨åå°çº¿ç¨‹å¤„ç†æ—¶ï¼Œä¾ç„¶æ˜¯è®©æ­¤ FooList å¯¹åº”çš„å¯¹è±¡æ˜¯ç»‘å®šåœ¨ UI çº¿ç¨‹ä¸Š\nä½¿ç”¨ FooList çš„ä¾‹å­å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 private async void Button3_Click(object sender, RoutedEventArgs e) { if (ListView.ItemsSource is not FooList\u0026lt;string\u0026gt; list) { list = new FooList\u0026lt;string\u0026gt;(); ListView.ItemsSource = list; } await Task.Run(() =\u0026gt; { for (int i = 0; i \u0026lt; 100; i++) { list.Add(Random.Shared.Next(100).ToString()); } }); await Task.Delay(TimeSpan.FromSeconds(1)); await Task.Run(() =\u0026gt; { for (int i = 0; i \u0026lt; 10; i++) { list.RemoveAt(i); } }); await Task.Delay(TimeSpan.FromSeconds(1)); await Task.Run(() =\u0026gt; { for (int i = 0; i \u0026lt; 10; i++) { list[i] = i.ToString(); } }); } ä»¥ä¸Šçš„ FooList åªæ˜¯ä¸€ä¸ªä¾‹å­ï¼Œç”¨äºå‘Šè¯‰å¤§å®¶å¯ä»¥ä½¿ç”¨ INotifyCollectionChanged çš„æ–¹å¼è‡ªå·±å®ç°åœ¨é›†åˆå˜æ›´çš„æ—¶å€™é€šçŸ¥ä¸»çº¿ç¨‹ï¼Œè€Œé›†åˆçš„å¤„ç†æœ¬èº«å¯ä»¥æ”¾åœ¨å…¶ä»–çš„çº¿ç¨‹ã€‚ä½†æ˜¯è¿™ä¸ªæ–¹æ³•åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œå¿…é¡»å…³æ³¨çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ä¾‹å¦‚ä»¥ä¸Šçš„ä»£ç ï¼Œå¦‚æœæ²¡æœ‰å…³æ³¨çº¿ç¨‹å®‰å…¨ï¼Œåœ¨é€šçŸ¥ UI çº¿ç¨‹é›†åˆå˜æ›´ä¹‹åï¼Œåˆšå¥½ UI çº¿ç¨‹å»è¯»å–æ­¤é›†åˆæ–°çš„å€¼çš„æ—¶å€™ï¼Œé›†åˆæœ¬èº«å°±è¢«å…¶ä»–çº¿ç¨‹æ›´æ”¹äº†å†…å®¹ï¼Œé‚£ä¹ˆæ­¤æ—¶çš„é€»è¾‘å°±ä¸æ˜¯ç¬¦åˆé¢„æœŸçš„\nä»¥ä¸Šçš„ä»£ç æ”¾åœ¨ github å’Œ gitee æ¬¢è¿è®¿é—®\nå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è·å–æœ¬æ–‡çš„æºä»£ç ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œæ¥ç€ä½¿ç”¨å‘½ä»¤è¡Œ cd å‘½ä»¤è¿›å…¥æ­¤ç©ºæ–‡ä»¶å¤¹ï¼Œåœ¨å‘½ä»¤è¡Œé‡Œé¢è¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œå³å¯è·å–åˆ°æœ¬æ–‡çš„ä»£ç \n1 2 3 git init git remote add origin https://gitee.com/lindexi/lindexi_gd.git git pull origin df7d9da863047fa0a46bc97e782b054da63fc394 ä»¥ä¸Šä½¿ç”¨çš„æ˜¯ gitee çš„æºï¼Œå¦‚æœ gitee ä¸èƒ½è®¿é—®ï¼Œè¯·æ›¿æ¢ä¸º github çš„æº\n1 2 git remote remove origin git remote add origin https://github.com/lindexi/lindexi_gd.git è·å–ä»£ç ä¹‹åï¼Œè¿›å…¥ LeejurkawbaicarkeNayqechurcear æ–‡ä»¶å¤¹\n","date":"2023-12-19T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/wpf_dispatcher/","title":"WPFå¤šçº¿ç¨‹ä¸‹è·¨çº¿ç¨‹å¤„ç†ObservableCollectionæ•°æ®"},{"content":" å§”æ‰˜è¦è§£å†³çš„é—®é¢˜ï¼š\nå‡½æ•°ä¼ å‚ï¼šå›è°ƒå‡½æ•°ï¼Œlinqè¡¨è¾¾å¼ åŸºäºå§”æ‰˜å£°æ˜äº‹ä»¶ï¼Œäº‹ä»¶å¯ä»¥æ³¨å†Œï¼ˆæŒ‰é’®ç‚¹å‡»\u0026hellip;ï¼‰ å§”æ‰˜æœ¬åˆ¶æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥å®ä¾‹åŒ–\nå§”æ‰˜æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ\näº‹ä»¶å’Œå§”æ‰˜æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼š å¯¹äºå§”æ‰˜æ¥è¯´ï¼Œä»»ä½•èƒ½å¾—åˆ°è¿™ä¸ªå§”æ‰˜å¼•ç”¨çš„ä»£ç éƒ½å¯ä»¥è°ƒç”¨å®ƒçš„Invokeæ–¹æ³•æ¥ã€‚ è€Œäº‹ä»¶åªèƒ½åœ¨å…¶è¢«å®šä¹‰çš„ç±»é‡Œæ‰èƒ½è°ƒç”¨Invokeï¼Œè¿™ä¸ªç±»çš„å­ç±»éƒ½ä¸å¯ä»¥ï¼eventå…¶å®å°±æ˜¯é™åˆ¶å§”æ‰˜çš„invokeä¸èƒ½è¢«ä¹±è°ƒç”¨ï¼Œå°±æ˜¯èµ·åˆ°å®‰å…¨ä½œç”¨\näº‹ä»¶æœ€é‡è¦çš„å®‰å…¨æ€§å±…ç„¶æ²¡æåˆ°å¤ªä¸åº”è¯¥äº†ã€‚ äº‹ä»¶å’Œå±æ€§æ˜¯ç±»ä¼¼çš„ä¸œè¥¿ã€‚å±æ€§æ˜¯å¯¹å­—æ®µè¿›è¡Œå°è£…ï¼Œè€Œäº‹ä»¶æ˜¯å¯¹ç‰¹æ®Šç”¨é€”çš„å§”æ‰˜ç±»å‹çš„å­—æ®µè¿›è¡Œå°è£…ã€‚å±æ€§æœ¬è´¨æ˜¯ä¸¤ä¸ªæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªè®¿é—®å™¨ï¼ˆget,setï¼‰ï¼Œåœ¨ä½¿ç”¨è‡ªåŠ¨å±æ€§çš„æ—¶å€™ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç§æœ‰å­—æ®µï¼›è€Œäº‹ä»¶æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸¤ä¸ªæ–¹æ³•(add,remove)ï¼Œå£°æ˜è‡ªåŠ¨äº‹ä»¶çš„æ—¶å€™ä¹Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç§æœ‰å­—æ®µï¼Œå¹¶ä¸”å’Œäº‹ä»¶å®Œå…¨åŒå\näº‹ä»¶é™¤äº†ä¿æŠ¤å§”æ‰˜ä¸è®©å¤–éƒ¨æŸ¥çœ‹è°ƒç”¨åˆ—è¡¨ã€ç§»é™¤å…¶ä»–å§”æ‰˜ã€ä¸èƒ½èµ‹ç©ºã€ä¸èƒ½è°ƒç”¨ç­‰ä¿æŠ¤ä½œç”¨å¤–ï¼Œæ²¡æœ‰å…¶ä»–ä½œç”¨\näº‹ä»¶æ˜¯å¯¹å§”æ‰˜çš„ä¸€ç§å°è£…\näº‹ä»¶è¯´ç™½äº†æ˜¯ C# æä¾›çš„è¯­æ³•ç³–ï¼Œæ•ˆæœæ˜¯: 1.å°†å§”æ‰˜ä»¥ç§æœ‰å˜é‡çš„å½¢å¼å°è£…åœ¨ç±»å†…ï¼Œä¸è®©å¤–é¢è®¿é—® 2.å¯¹äºå§”æ‰˜è¿›è¡Œäº†å°è£…ï¼Œä»è€Œå®šä¹‰addä¸remove æ–¹æ³• 3.åœ¨ add ä¸ remove ä¸­é€šè¿‡äº’é”çš„æ–¹å¼æä¾›äº†çº¿ç¨‹å®‰å…¨æ€§\n","date":"2023-09-06T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/delegate_event/","title":"å§”æ‰˜ä¸äº‹ä»¶"},{"content":"HTTPä¸HTTPSä½œä¸ºäº’è”ç½‘æ•°æ®ä¼ è¾“çš„æ ¸å¿ƒåè®®ï¼Œå…¶é€šä¿¡æœºåˆ¶ä¸å®‰å…¨ç‰¹æ€§æ·±åˆ»å½±å“ç€ç°ä»£ç½‘ç»œåº”ç”¨çš„å¯é æ€§ä¸ç”¨æˆ·ä½“éªŒã€‚æœ¬æ–‡å°†è§£æä¸¤è€…çš„é€šä¿¡æµç¨‹ã€å®‰å…¨æœºåˆ¶åŠæ ¸å¿ƒå·®å¼‚ã€‚\nHTTPçš„é€šä¿¡æœºåˆ¶ å…ˆæ¥çœ‹çœ‹HTTPæ˜¯ä»€ä¹ˆå§ã€‚\nHTTPåŸºäºTCP/IPåè®®æ ˆï¼Œé‡‡ç”¨ç»å…¸å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å‹ï¼š\nTCPè¿æ¥å»ºç«‹\né€šè¿‡ä¸‰æ¬¡æ¡æ‰‹åˆ›å»ºå¯é ä¼ è¾“é€šé“ï¼ˆæºIP:ç«¯å£ â†” ç›®æ ‡IP:ç«¯å£ï¼‰ï¼Œé»˜è®¤ç«¯å£80ã€‚ è¯·æ±‚-å“åº”äº¤äº’\næµè§ˆå™¨å‘èµ·åˆ°æœåŠ¡å™¨çš„ TCP è¿æ¥ã€‚ 1 2 GET /index.html HTTP/1.1 Host: www.baidu.com æœåŠ¡å™¨å¤„ç†ä¸å“åº”\næœåŠ¡å™¨æ¥æ”¶æ¥è‡ªæµè§ˆå™¨çš„ TCP è¿æ¥ã€‚ 1 2 3 4 HTTP/1.1 200 OK Content-Type: text/html Content-Length: 1234 \u0026lt;html\u0026gt;...\u0026lt;/html\u0026gt; äº¤æ¢ä¿¡æ¯\næµè§ˆå™¨ï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰ä¸ Web æœåŠ¡å™¨ï¼ˆHTTP æœåŠ¡å™¨ï¼‰äº¤æ¢ HTTP æ¶ˆæ¯ã€‚\nè¿æ¥ç»ˆæ­¢\nå®Œæˆä¼ è¾“åé€šè¿‡å››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ï¼Œå…³é—­ TCP è¿æ¥ã€‚\nHTTPSçš„è¿›åŒ– HTTPSåœ¨HTTPä¸TCPå±‚ä¹‹é—´æ’å…¥SSL/TLSåŠ å¯†å±‚ï¼Œé€šè¿‡ä¸‰é‡é˜²æŠ¤æœºåˆ¶åº”å¯¹å®‰å…¨å¨èƒï¼š\nå®‰å…¨å¨èƒ é˜²æŠ¤æœºåˆ¶ å®ç°æ–¹å¼ æ•°æ®çªƒå¬ AES-256ç­‰å¯¹ç§°åŠ å¯† ä¼šè¯å¯†é’¥åŠ¨æ€åå•† æ•°æ®ç¯¡æ”¹ SHA-256æ‘˜è¦ç®—æ³• æ•°å­—ç­¾åéªŒè¯æ•°æ®å®Œæ•´æ€§ èº«ä»½ä¼ªé€  X.509æ•°å­—è¯ä¹¦ä½“ç³» CAæœºæ„ç­¾å‘æœåŠ¡å™¨èº«ä»½è¯ä¹¦ é‚£ä¹ˆï¼ŒSSL å’Œ TLS çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\næ€»çš„æ¥è¯´ï¼ŒSSL å’Œ TLS æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚\nSSL æŒ‡å®‰å…¨å¥—æ¥å­—åè®®ï¼ˆSecure Sockets Layerï¼‰ï¼Œé¦–æ¬¡å‘å¸ƒä¸ 1996 å¹´ã€‚SSL çš„é¦–æ¬¡å‘å¸ƒå…¶å®å·²ç»æ˜¯ä»–çš„ 3.0 ç‰ˆæœ¬ï¼ŒSSL 1.0 ä»æœªé¢ä¸–ï¼ŒSSL 2.0 åˆ™å…·æœ‰è¾ƒå¤§çš„ç¼ºé™·ï¼ˆDROWN ç¼ºé™·â€”â€”Decrypting RSA with Obsolete and Weakened eNcryptionï¼‰ã€‚å¾ˆå¿«ï¼Œåœ¨ 1999 å¹´ï¼ŒSSL 3.0 è¿›ä¸€æ­¥å‡çº§ï¼Œæ–°ç‰ˆæœ¬è¢«å‘½åä¸º TLS 1.0ã€‚å› æ­¤ï¼ŒTLS æ˜¯åŸºäº SSL ä¹‹ä¸Šçš„ï¼Œä½†ç”±äºä¹ æƒ¯å«æ³•ï¼Œé€šå¸¸æŠŠ HTTPS ä¸­çš„æ ¸å¿ƒåŠ å¯†åè®®æ··ç§°ä¸º SSL/TLSã€‚\nHTTPSæ¡æ‰‹æµç¨‹ï¼š\nClient Helloï¼šå®¢æˆ·ç«¯å‘é€æ”¯æŒçš„åŠ å¯†å¥—ä»¶+éšæœºæ•° Server Helloï¼šæœåŠ¡å™¨é€‰æ‹©åŠ å¯†å¥—ä»¶+è¯ä¹¦+éšæœºæ•° å¯†é’¥äº¤æ¢ï¼šECDHEç®—æ³•ç”Ÿæˆé¢„ä¸»å¯†é’¥ ä¼šè¯å¯†é’¥ï¼šé€šè¿‡HKDFç®—æ³•ç”ŸæˆåŠ å¯†å¯†é’¥ åŠ å¯†é€šä¿¡ï¼šåº”ç”¨å±‚æ•°æ®ä½¿ç”¨å¯¹ç§°åŠ å¯†ä¼ è¾“ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä»¥TLSå±‚ä¸ºä¾‹ã€‚\nHTTPä¸HTTPSçš„ä¸åŒ åœ¨åè®®å±‚çœ‹çœ‹å®ƒä»¬æœ‰ä»€ä¹ˆä¸åŒã€‚\nå¯¹æ¯”ç»´åº¦ HTTP HTTPS ä¼ è¾“åŠ å¯† æ˜æ–‡ä¼ è¾“ SSL/TLSåŠ å¯†ä¼ è¾“ ç«¯å£å· 80 443 è¯ä¹¦è¦æ±‚ æ— éœ€è¯ä¹¦ éœ€CAç­¾å‘æ•°å­—è¯ä¹¦ å“åº”é€Ÿåº¦ RTT 3æ¬¡ RTT 5-7æ¬¡ï¼ˆæ”¯æŒä¼šè¯æ¢å¤ï¼‰ å¤´éƒ¨ç»“æ„ æ— åŠ å¯†æ ‡è¯† åŒ…å«åŠ å¯†åè®®ç‰ˆæœ¬ç­‰å®‰å…¨å‚æ•° èµ„æºæ¶ˆè€— ä½ å¢åŠ 15-20% CPUè´Ÿè½½ HTTPSå®‰å…¨æœºåˆ¶è§£æ æ··åˆåŠ å¯†ä½“ç³»\nç»“åˆéå¯¹ç§°åŠ å¯†ï¼ˆRSA/ECCï¼‰çš„å®‰å…¨å¯†é’¥äº¤æ¢ä¸å¯¹ç§°åŠ å¯†ï¼ˆAESï¼‰çš„é«˜æ•ˆæ•°æ®åŠ å¯†ï¼Œå…¼é¡¾å®‰å…¨ä¸æ€§èƒ½ã€‚ è¯ä¹¦é“¾éªŒè¯\né€šè¿‡æ ¹è¯ä¹¦â†’ä¸­é—´è¯ä¹¦â†’æœåŠ¡å™¨è¯ä¹¦çš„ä¿¡ä»»é“¾éªŒè¯ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ã€‚OCSPåè®®å®æ—¶æ£€æŸ¥è¯ä¹¦åŠé”€çŠ¶æ€ã€‚ HSTSç­–ç•¥\nå¼ºåˆ¶æµè§ˆå™¨ä½¿ç”¨HTTPSè¿æ¥ï¼Œé˜²èŒƒSSLå‰¥ç¦»æ”»å‡»ã€‚ æ€»ç»“ ç«¯å£å·ï¼šHTTP é»˜è®¤æ˜¯ 80ï¼ŒHTTPS é»˜è®¤æ˜¯ 443ã€‚ URL å‰ç¼€ï¼šHTTP çš„ URL å‰ç¼€æ˜¯ http://ï¼ŒHTTPS çš„ URL å‰ç¼€æ˜¯ https://ã€‚ å®‰å…¨æ€§å’Œèµ„æºæ¶ˆè€—ï¼šHTTPåè®®åŸºäºTCPåè®®æ„å»ºï¼Œå…¶ä¼ è¾“çš„æ•°æ®å‡ä¸ºæ˜æ–‡å½¢å¼ï¼Œä¸”é€šä¿¡åŒæ–¹æ— æ³•éªŒè¯å½¼æ­¤èº«ä»½ã€‚è€ŒHTTPSä½œä¸ºHTTPçš„å®‰å…¨æ¼”è¿›ç‰ˆæœ¬ï¼Œå…¶é€šä¿¡æ¶æ„åˆ†ä¸ºä¸¤å±‚ï¼šåº•å±‚é€šè¿‡SSL/TLSåè®®ä¸TCPå»ºç«‹å®‰å…¨é€šé“ï¼Œä¸Šå±‚åˆ™æ‰¿è½½ç»è¿‡åŠ å¯†å¤„ç†çš„HTTPé€šä¿¡ã€‚è¯¥åŠ å¯†ä½“ç³»é‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶ï¼Œå³ä½¿ç”¨æœåŠ¡å™¨æ•°å­—è¯ä¹¦ä¸­çš„å…¬é’¥å¯¹å¯¹ç§°ä¼šè¯å¯†é’¥è¿›è¡Œéå¯¹ç§°åŠ å¯†ä¼ è¾“ï¼Œå®é™…æ•°æ®ä¼ è¾“é˜¶æ®µåˆ™é‡‡ç”¨é«˜æ•ˆå¯¹ç§°åŠ å¯†ç®—æ³•ã€‚ç›¸è¾ƒäºHTTPï¼ŒHTTPSé€šè¿‡åŒé‡åŠ å¯†æœºåˆ¶æ˜¾è‘—æå‡äº†å®‰å…¨æ€§ï¼Œä½†åŒæ—¶ä¹Ÿå› åŠ è§£å¯†è¿ç®—å¢åŠ äº†æœåŠ¡å™¨çš„è®¡ç®—è´Ÿè½½ã€‚ ","date":"2023-02-28T00:00:00Z","permalink":"https://MorningCigarette.github.io/p/http_and_https/","title":"HTTP and HTTPS"}]